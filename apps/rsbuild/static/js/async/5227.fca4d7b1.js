"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["5227"],{78490:function(e,r,n){n.r(r),n.d(r,{default:function(){return h}});var s=n(55367),c=n(26971),l=n(28855),d=n(38146);function i(e){let r=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",code:"code",pre:"pre",ul:"ul",li:"li",strong:"strong"},(0,c.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.h1,{id:"preact-插件",children:["Preact 插件",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#preact-插件",children:"#"})]}),"\n","\n",(0,s.jsx)(l.ZB,{href:"https://github.com/web-infra-dev/rsbuild/tree/main/packages/plugin-preact"}),"\n",(0,s.jsx)(r.p,{children:"Preact 插件提供了对 Preact 的支持，插件内部集成了 JSX 编译、React aliasing 等功能。"}),"\n",(0,s.jsxs)(r.h2,{id:"快速开始",children:["快速开始",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#快速开始",children:"#"})]}),"\n",(0,s.jsxs)(r.h3,{id:"安装插件",children:["安装插件",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#安装插件",children:"#"})]}),"\n",(0,s.jsx)(r.p,{children:"你可以通过如下的命令安装插件:"}),"\n","\n",(0,s.jsx)(d.PackageManagerTabs,{command:"add @rsbuild/plugin-preact -D"}),"\n",(0,s.jsxs)(r.h3,{id:"注册插件",children:["注册插件",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#注册插件",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["你可以在 ",(0,s.jsx)(r.code,{children:"rsbuild.config.ts"})," 文件中注册插件："]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { pluginPreact } from '@rsbuild/plugin-preact';\n\nexport default {\n  plugins: [pluginPreact()],\n};\n"})}),"\n",(0,s.jsx)(r.p,{children:"注册插件后，你可以直接进行 Preact 开发。"}),"\n",(0,s.jsxs)(r.h2,{id:"选项",children:["选项",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#选项",children:"#"})]}),"\n",(0,s.jsxs)(r.h3,{id:"reactaliasesenabled",children:["reactAliasesEnabled",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#reactaliasesenabled",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["是否将 ",(0,s.jsx)(r.code,{children:"react"}),"、",(0,s.jsx)(r.code,{children:"react-dom"})," 通过 alias 指向 ",(0,s.jsx)(r.code,{children:"preact/compat"}),"。"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"类型："})," ",(0,s.jsx)(r.code,{children:"boolean"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"默认值："})," ",(0,s.jsx)(r.code,{children:"true"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"示例："})," 禁用别名。"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"pluginPreact({\n  reactAliasesEnabled: false,\n});\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"prefreshenabled",children:["prefreshEnabled",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#prefreshenabled",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["是否注入 ",(0,s.jsx)(r.a,{href:"https://github.com/preactjs/prefresh",target:"_blank",rel:"noopener noreferrer",children:"Prefresh"})," 用于 HMR。"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"类型："})," ",(0,s.jsx)(r.code,{children:"boolean"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"默认值："})," ",(0,s.jsx)(r.code,{children:"true"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"版本："})," ",(0,s.jsx)(r.code,{children:">= v1.1.0"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"示例："})," 禁用 Prefresh。"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"pluginPreact({\n  prefreshEnabled: false,\n});\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"include",children:["include",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#include",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["指定要由 ",(0,s.jsx)(r.a,{href:"https://github.com/rspack-contrib/rspack-plugin-preact-refresh",target:"_blank",rel:"noopener noreferrer",children:"@rspack/plugin-preact-refresh"})," 插件处理的文件。这个值与 Rspack 中的 ",(0,s.jsx)(r.code,{children:"rule.test"})," 选项相同。"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"类型："})," ",(0,s.jsx)(r.a,{href:"https://rspack.dev/zh/config/module#condition",target:"_blank",rel:"noopener noreferrer",children:"RuleSetCondition"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"默认值："})," ",(0,s.jsx)(r.code,{children:"/\\.(?:js|jsx|mjs|cjs|ts|tsx|mts|cts)$/"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"版本："})," ",(0,s.jsx)(r.code,{children:">= v1.1.0"})]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"pluginPreact({\n  include: [/\\.(?:js|jsx|mjs|cjs|ts|tsx|mts|cts)$/, /some-other-module/],\n});\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"exclude",children:["exclude",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#exclude",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["排除 ",(0,s.jsx)(r.a,{href:"https://github.com/rspack-contrib/rspack-plugin-preact-refresh",target:"_blank",rel:"noopener noreferrer",children:"@rspack/plugin-preact-refresh"})," 插件处理的文件。这个值与 Rspack 中的 ",(0,s.jsx)(r.code,{children:"rule.exclude"})," 选项相同。"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"类型："})," ",(0,s.jsx)(r.a,{href:"https://rspack.dev/zh/config/module#condition",target:"_blank",rel:"noopener noreferrer",children:"RuleSetCondition"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"默认值："})," ",(0,s.jsx)(r.code,{children:"/[\\\\/]node_modules[\\\\/]/"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"版本："})," ",(0,s.jsx)(r.code,{children:">= v1.1.0"})]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"pluginPreact({\n  exclude: [/[\\\\/]node_modules[\\\\/]/, /some-other-module/],\n});\n"})})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,c.ah)(),e.components);return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}let h=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["zh%2Fplugins%2Flist%2Fplugin-preact.mdx"]={toc:[{text:"快速开始",id:"快速开始",depth:2},{text:"安装插件",id:"安装插件",depth:3},{text:"注册插件",id:"注册插件",depth:3},{text:"选项",id:"选项",depth:2},{text:"reactAliasesEnabled",id:"reactaliasesenabled",depth:3},{text:"prefreshEnabled",id:"prefreshenabled",depth:3},{text:"include",id:"include",depth:3},{text:"exclude",id:"exclude",depth:3}],title:"Preact 插件",frontmatter:{}}}}]);