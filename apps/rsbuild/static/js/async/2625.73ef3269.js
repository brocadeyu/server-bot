"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["2625"],{53428:function(e,r,s){s.r(r),s.d(r,{default:function(){return l}});var t=s(55367),n=s(26971);function i(e){let r=Object.assign({h1:"h1",a:"a",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",div:"div",h2:"h2"},(0,n.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.h1,{id:"serverhttps",children:["server.https",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#serverhttps",children:"#"})]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.strong,{children:"Type:"})}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"import type { ServerOptions } from 'node:https';\nimport type { SecureServerSessionOptions } from 'node:http2';\n\ntype Https = ServerOptions | SecureServerSessionOptions;\n"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Default:"})," ",(0,t.jsx)(r.code,{children:"undefined"})]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"After configuring this option, you can enable HTTPS Server, and disabling the HTTP Server."}),"\n",(0,t.jsx)(r.p,{children:"HTTP:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"  ➜ Local: http://localhost:3000/\n  ➜ Network: http://192.168.0.1:3000/\n"})}),"\n",(0,t.jsx)(r.p,{children:"HTTPS:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"  ➜ Local: https://localhost:3000/\n  ➜ Network: https://192.168.0.1:3000/\n"})}),"\n",(0,t.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,t.jsx)(r.div,{className:"rspress-directive-title",children:"TIP"}),(0,t.jsx)(r.div,{className:"rspress-directive-content",children:(0,t.jsxs)(r.p,{children:["Rsbuild enables HTTP/2 server by default. However, when you use ",(0,t.jsx)(r.a,{href:"/config/server/proxy",children:"server.proxy"}),", the server will downgrade to HTTP/1, because the underlying ",(0,t.jsx)(r.code,{children:"http-proxy"})," does not support HTTP/2.\n"]})})]}),"\n",(0,t.jsxs)(r.h2,{id:"set-certificate",children:["Set Certificate",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#set-certificate",children:"#"})]}),"\n",(0,t.jsxs)(r.p,{children:["You can manually pass in the certificate and the private key required in the ",(0,t.jsx)(r.code,{children:"server.https"})," option. This parameter will be directly passed to the ",(0,t.jsx)(r.code,{children:"createServer"})," method of the https module in Node.js."]}),"\n",(0,t.jsxs)(r.p,{children:["For details, please refer to ",(0,t.jsx)(r.a,{href:"https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener",target:"_blank",rel:"noopener noreferrer",children:"https.createServer"}),"."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"import fs from 'node:fs';\n\nexport default {\n  server: {\n    https: {\n      key: fs.readFileSync('certificates/private.pem'),\n      cert: fs.readFileSync('certificates/public.pem'),\n    },\n  },\n};\n"})}),"\n",(0,t.jsxs)(r.div,{className:"rspress-directive tip",children:[(0,t.jsx)(r.div,{className:"rspress-directive-title",children:"TIP"}),(0,t.jsx)(r.div,{className:"rspress-directive-content",children:(0,t.jsxs)(r.p,{children:["The certificates used for local development are typically generated using ",(0,t.jsx)(r.a,{href:"https://github.com/FiloSottile/mkcert",target:"_blank",rel:"noopener noreferrer",children:"mkcert"}),". Please read ",(0,t.jsx)(r.a,{href:"https://web.dev/articles/how-to-use-local-https?hl=en",target:"_blank",rel:"noopener noreferrer",children:'"How to use HTTPS for local development"'})," to learn how to use it.\n"]})})]}),"\n",(0,t.jsxs)(r.h2,{id:"self-signed-certificate",children:["Self-signed Certificate",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#self-signed-certificate",children:"#"})]}),"\n",(0,t.jsxs)(r.p,{children:["For basic configuration requirements, you can add the ",(0,t.jsx)(r.a,{href:"https://github.com/rspack-contrib/rsbuild-plugin-basic-ssl",target:"_blank",rel:"noopener noreferrer",children:"@rsbuild/plugin-basic-ssl"})," plugin, which will automatically create a self-signed certificate and set ",(0,t.jsx)(r.code,{children:"server.https"})," option by default."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"import { pluginBasicSsl } from '@rsbuild/plugin-basic-ssl';\n\nexport default {\n  plugins: [pluginBasicSsl()],\n};\n"})})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,n.ah)(),e.components);return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}let l=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fconfig%2Fserver%2Fhttps.mdx"]={toc:[{text:"Set Certificate",id:"set-certificate",depth:2},{text:"Self-signed Certificate",id:"self-signed-certificate",depth:2}],title:"server.https",frontmatter:{}}}}]);