"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["9006"],{30158:function(e,r,s){s.r(r),s.d(r,{default:function(){return l}});var i=s(55367),n=s(26971);function t(e){let r=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",strong:"strong",pre:"pre",code:"code",blockquote:"blockquote",h3:"h3",ul:"ul",li:"li",img:"img"},(0,n.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.h1,{id:"browserslist",children:["Browserslist",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#browserslist",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["Rsbuild supports using ",(0,i.jsx)(r.a,{href:"https://browsersl.ist/",target:"_blank",rel:"noopener noreferrer",children:"Browserslist"})," to specify which browsers should be supported in your Web application."]}),"\n",(0,i.jsxs)(r.h2,{id:"what-is-browserslist",children:["What is Browserslist",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#what-is-browserslist",children:"#"})]}),"\n",(0,i.jsx)(r.p,{children:"Since different browsers support ECMAScript and CSS differently, developers need to set the correct browser range for web applications."}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.a,{href:"https://browsersl.ist/",target:"_blank",rel:"noopener noreferrer",children:"Browserslist"})," can specify which browsers your web application can run in, it provides a configuration for specifying browsers range. Browserslist has become a standard in the industry, it is used by libraries such as SWC, Lightning CSS, Babel, ESLint, PostCSS and webpack."]}),"\n",(0,i.jsx)(r.p,{children:"When you specify a browser range through Browserslist, Rsbuild will compile JavaScript and CSS code to the specified syntax."}),"\n",(0,i.jsxs)(r.h2,{id:"polyfill-injection",children:["Polyfill Injection",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#polyfill-injection",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["If you enabled ",(0,i.jsx)(r.a,{href:"/config/output/polyfill",children:"output.polyfill"}),", Rsbuild will also inject the corresponding polyfill code based on browserslist. ",(0,i.jsx)(r.strong,{children:"When you only need to support more modern browsers, the build process will introduce less compatibility code and polyfills, and the performance of the page will be better."})]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-js",children:"export default {\n  output: {\n    polyfill: 'usage',\n  },\n};\n"})}),"\n",(0,i.jsxs)(r.p,{children:["For example, when you need to be compatible with IE11 browser, Rsbuild will compile the code to ES5 and inject the polyfill required by IE11 through ",(0,i.jsx)(r.code,{children:"core-js"}),"."]}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsxs)(r.p,{children:["Please refer to ",(0,i.jsx)(r.a,{href:"/guide/advanced/browser-compatibility",children:"Browser Compatibility"})," for more information."]}),"\n"]}),"\n",(0,i.jsxs)(r.h2,{id:"set-browserslist",children:["Set Browserslist",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#set-browserslist",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["You can set the Browserslist value in the ",(0,i.jsx)(r.code,{children:"package.json"})," or ",(0,i.jsx)(r.code,{children:".browserslistrc"})," file in the root directory of the current project."]}),"\n",(0,i.jsxs)(r.h3,{id:"example",children:["Example",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["Set via ",(0,i.jsx)(r.code,{children:"browserslist"})," in ",(0,i.jsx)(r.code,{children:"package.json"}),":"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",meta:'title="package.json"',children:'{\n  "browserslist": [\n    "iOS >= 9",\n    "Android >= 4.4",\n    "last 2 versions",\n    "> 0.2%",\n    "not dead"\n  ]\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:["Set via a separate ",(0,i.jsx)(r.code,{children:".browserslistrc"})," file:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",meta:'title=".browserslistrc"',children:"iOS >= 9\nAndroid >= 4.4\nlast 2 versions\n> 0.2%\nnot dead\n"})}),"\n",(0,i.jsxs)(r.h3,{id:"effective-scope",children:["Effective Scope",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#effective-scope",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["By default, the ",(0,i.jsx)(r.code,{children:".browserslistrc"})," file only takes effect for browser-side bundles, including the ",(0,i.jsx)(r.code,{children:"web"})," and ",(0,i.jsx)(r.code,{children:"web-worker"})," target types."]}),"\n",(0,i.jsxs)(r.p,{children:["When you are building multiple targets at the same time, for example if the targets contains both ",(0,i.jsx)(r.code,{children:"web"})," and ",(0,i.jsx)(r.code,{children:"node"}),", only the ",(0,i.jsx)(r.code,{children:"web"})," bundles will be affected by the ",(0,i.jsx)(r.code,{children:".browserslistrc"})," file. If you want to make changes to the ",(0,i.jsx)(r.code,{children:"node"})," bundles, you can use the ",(0,i.jsx)(r.code,{children:"output.overrideBrowserslist"})," configuration below."]}),"\n",(0,i.jsxs)(r.h3,{id:"set-by-env",children:["Set by Env",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#set-by-env",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["You can set different browserslist based on ",(0,i.jsx)(r.code,{children:"NODE_ENV"})," to specify different browser ranges for development and production."]}),"\n",(0,i.jsxs)(r.p,{children:["For example, set values based on keys in the ",(0,i.jsx)(r.code,{children:"package.json"}),":"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",meta:'title="package.json"',children:'{\n  "browserslist": {\n    "production": [\n      "chrome >= 87",\n      "edge >= 88",\n      "firefox >= 78",\n      "safari >= 14"\n    ],\n    "development": [\n      "last 1 chrome version",\n      "last 1 firefox version",\n      "last 1 safari version"\n    ]\n  }\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:["Or in ",(0,i.jsx)(r.code,{children:".browserslistrc"}),":"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",meta:'title=".browserslistrc"',children:"[production]\nchrome >= 87\nedge >= 88\nfirefox >= 78\nsafari >= 14\n\n[development]\nlast 1 chrome version\nlast 1 firefox version\nlast 1 safari version\n"})}),"\n",(0,i.jsxs)(r.h3,{id:"overridebrowserslist",children:["overrideBrowserslist",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#overridebrowserslist",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["In addition to the above standard usage, Rsbuild also provides ",(0,i.jsx)(r.a,{href:"/config/output/override-browserslist",children:"output.overrideBrowserslist"})," config, which can also set the value of Browserslist."]}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"overrideBrowserslist"})," can be set to an array, which is written in the same way as the ",(0,i.jsx)(r.code,{children:"browserslistrc"})," configuration, but has a higher priority than ",(0,i.jsx)(r.code,{children:"browserslistrc"}),"."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  output: {\n    overrideBrowserslist: [\n      'iOS >= 9',\n      'Android >= 4.4',\n      'last 2 versions',\n      '> 0.2%',\n      'not dead',\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(r.p,{children:["In most cases, it is recommended to use the ",(0,i.jsx)(r.code,{children:".browserslistrc"})," file rather than the ",(0,i.jsx)(r.code,{children:"overrideBrowserslist"})," config. Because the ",(0,i.jsx)(r.code,{children:".browserslistrc"})," file is the official config file, it is more general and can be recognized by other libraries in the community."]}),"\n",(0,i.jsxs)(r.h2,{id:"commonly-used-browserslist",children:["Commonly used Browserslist",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#commonly-used-browserslist",children:"#"})]}),"\n",(0,i.jsx)(r.p,{children:"The following are some commonly used Browserslist, you can choose according to your project type."}),"\n",(0,i.jsxs)(r.h3,{id:"desktop-pc-scenario",children:["Desktop PC scenario",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#desktop-pc-scenario",children:"#"})]}),"\n",(0,i.jsx)(r.p,{children:"In the desktop PC scenario, if you need to be compatible with IE 11 browsers, you can set Browserslist to:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",meta:'title=".browserslistrc"',children:"> 0.5%\nnot dead\nInternet Explorer 11\n"})}),"\n",(0,i.jsxs)(r.p,{children:["The above Browserslist will compile the code to the ES5 specification. For the specific browser list, please check ",(0,i.jsx)(r.a,{href:"https://browserslist.dev/?q=PiAwLjUlLCBub3QgZGVhZCwgSUUgMTE%3D",target:"_blank",rel:"noopener noreferrer",children:"browserslist.dev"}),"."]}),"\n",(0,i.jsx)(r.p,{children:"If you don't need to be compatible with IE 11 browsers, you can adjust Browserslist to get a more performant output, such as:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Set to browsers that supports native ES Modules (recommended):"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",meta:'title=".browserslistrc"',children:"chrome >= 87\nedge >= 88\nfirefox >= 78\nsafari >= 14\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Set to browsers that support ES6:"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",meta:'title=".browserslistrc"',children:"chrome >= 51\nedge >= 15\nfirefox >= 54\nsafari >= 10\nios_saf >= 10\n"})}),"\n",(0,i.jsxs)(r.h3,{id:"mobile-h5-scenario",children:["Mobile H5 scenario",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#mobile-h5-scenario",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["The mobile H5 scenario is mainly compatible with ",(0,i.jsx)(r.code,{children:"iOS"})," and ",(0,i.jsx)(r.code,{children:"Android"})," systems, usually we set Browserslist as:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",meta:'title=".browserslistrc"',children:"iOS >= 9\nAndroid >= 4.4\nlast 2 versions\n> 0.2%\nnot dead\n"})}),"\n",(0,i.jsxs)(r.p,{children:["The above Browserslist will compile the code to the ES5 specification, which is compatible with most mobile scenarios on the market. For the detailed browsers list, please check ",(0,i.jsx)(r.a,{href:"https://browserslist.dev/?q=aU9TID49IDksIEFuZHJvaWQgPj0gNC40LCBsYXN0IDIgdmVyc2lvbnMsID4gMC4yJSwgbm90IGRlYWQ%3D",target:"_blank",rel:"noopener noreferrer",children:"browserslist.dev"}),"."]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{src:"https://assets.rspack.dev/rsbuild/assets/browserslist-dev-example.png",alt:""})}),"\n",(0,i.jsx)(r.p,{children:"You can also choose to use the ES6 specification in the H5 scene, which will make the performance of the page better. The corresponding Browserslist is as follows:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",meta:'title=".browserslistrc"',children:"iOS >= 10\nChrome >= 51\n> 0.5%\nnot dead\nnot op_mini all\n"})}),"\n",(0,i.jsxs)(r.h2,{id:"default-browserslist",children:["Default Browserslist",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#default-browserslist",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["Rsbuild will set different default values of Browserslist according to ",(0,i.jsx)(r.a,{href:"/config/output/target",children:"output.target"}),", but we recommend that you explicitly set Browserslist in your project, which will make the compatible scope of the project more clear."]}),"\n",(0,i.jsxs)(r.h3,{id:"web-target",children:["Web Target",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#web-target",children:"#"})]}),"\n",(0,i.jsx)(r.p,{children:"The default values of web target are as follows:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",meta:'title=".browserslistrc"',children:"chrome >= 87\nedge >= 88\nfirefox >= 78\nsafari >= 14\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Under this browser range, JavaScript code will be compatible with browsers that support ",(0,i.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules",target:"_blank",rel:"noopener noreferrer",children:"native ES Modules"}),"."]}),"\n",(0,i.jsxs)(r.h3,{id:"node-target",children:["Node Target",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#node-target",children:"#"})]}),"\n",(0,i.jsx)(r.p,{children:"Node target will be compatible with Node.js 16.0 by default."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",meta:'title=".browserslistrc"',children:"node >= 16\n"})}),"\n",(0,i.jsxs)(r.h3,{id:"web-worker-target",children:["Web Worker Target",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#web-worker-target",children:"#"})]}),"\n",(0,i.jsx)(r.p,{children:"The default Browserslist of the web worker target is consistent with the web target."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",meta:'title=".browserslistrc"',children:"chrome >= 87\nedge >= 88\nfirefox >= 78\nsafari >= 14\n"})}),"\n",(0,i.jsxs)(r.h3,{id:"service-worker-target",children:["Service Worker Target",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#service-worker-target",children:"#"})]}),"\n",(0,i.jsx)(r.p,{children:"The default Browserslist of the service worker target is consistent with the web target."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",meta:'title=".browserslistrc"',children:"chrome >= 87\nedge >= 88\nfirefox >= 78\nsafari >= 14\n"})}),"\n",(0,i.jsxs)(r.h2,{id:"query-browser-support",children:["Query browser support",(0,i.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#query-browser-support",children:"#"})]}),"\n",(0,i.jsxs)(r.p,{children:["When developing, we need to know the browser support of certain features or APIs. At this time, we can check on the ",(0,i.jsx)(r.a,{href:"https://caniuse.com/",target:"_blank",rel:"noopener noreferrer",children:"caniuse"})," website."]}),"\n",(0,i.jsxs)(r.p,{children:["For example, we need to know the browser support of ",(0,i.jsx)(r.code,{children:"Promise"}),", just enter ",(0,i.jsx)(r.code,{children:"Promise"})," in ",(0,i.jsx)(r.a,{href:"https://caniuse.com/",target:"_blank",rel:"noopener noreferrer",children:"caniuse"}),", and you can see the following results:"]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.img,{src:"https://assets.rspack.dev/rsbuild/assets/caniuse-promise-example.png",alt:""})}),"\n",(0,i.jsxs)(r.p,{children:["As can be seen from the above table, ",(0,i.jsx)(r.code,{children:"Promise"})," is natively supported in Chrome 33 and iOS 8, but not in IE 11."]})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,n.ah)(),e.components);return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}let l=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["en%2Fguide%2Fadvanced%2Fbrowserslist.mdx"]={toc:[{text:"What is Browserslist",id:"what-is-browserslist",depth:2},{text:"Polyfill Injection",id:"polyfill-injection",depth:2},{text:"Set Browserslist",id:"set-browserslist",depth:2},{text:"Example",id:"example",depth:3},{text:"Effective Scope",id:"effective-scope",depth:3},{text:"Set by Env",id:"set-by-env",depth:3},{text:"overrideBrowserslist",id:"overridebrowserslist",depth:3},{text:"Commonly used Browserslist",id:"commonly-used-browserslist",depth:2},{text:"Desktop PC scenario",id:"desktop-pc-scenario",depth:3},{text:"Mobile H5 scenario",id:"mobile-h5-scenario",depth:3},{text:"Default Browserslist",id:"default-browserslist",depth:2},{text:"Web Target",id:"web-target",depth:3},{text:"Node Target",id:"node-target",depth:3},{text:"Web Worker Target",id:"web-worker-target",depth:3},{text:"Service Worker Target",id:"service-worker-target",depth:3},{text:"Query browser support",id:"query-browser-support",depth:2}],title:"Browserslist",frontmatter:{}}}}]);