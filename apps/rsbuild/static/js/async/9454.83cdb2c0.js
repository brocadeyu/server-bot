"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["9454"],{7427:function(e,n,t){t.r(n),t.d(n,{default:function(){return i}});var a=t(55367),r=t(26971);function s(e){let n=Object.assign({h1:"h1",a:"a",ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",h2:"h2"},(0,r.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{id:"htmltemplateparameters",children:["html.templateParameters",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltemplateparameters",children:"#"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Type:"})," ",(0,a.jsx)(n.code,{children:"Record<string, unknown> | Function"})]}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"type DefaultParameters = {\n  mountId: string; // the value of `html.mountId` config\n  entryName: string; // entry name\n  assetPrefix: string; // the value of dev.assetPrefix or output.assetPrefix configs\n  compilation: Compilation; // Compilation object of Rspack\n  rspackConfig: Rspack.Configuration; // Rspack config object\n  // generated by html-rspack-plugin\n  htmlPlugin: {\n    tags: {\n      headTags: HtmlTagObject[];\n      bodyTags: HtmlTagObject[];\n    };\n    files: {\n      publicPath: string;\n      js: Array<string>;\n      css: Array<string>;\n      favicon?: string;\n    };\n  };\n};\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Define the parameters in the HTML template, see ",(0,a.jsx)(n.a,{href:"/guide/basic/html-template#template-parameters",children:"HTML Template - Template Parameters"})," for detailed usage."]}),"\n",(0,a.jsxs)(n.h2,{id:"object-usage",children:["Object Usage",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-usage",children:"#"})]}),"\n",(0,a.jsxs)(n.p,{children:["If the value of ",(0,a.jsx)(n.code,{children:"templateParameters"})," is an object, it will be merged with the default parameters using ",(0,a.jsx)(n.code,{children:"Object.assign"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["For example, if you need to use the ",(0,a.jsx)(n.code,{children:"foo"})," parameter in an HTML template, you can add the following settings:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    templateParameters: {\n      foo: 'bar',\n    },\n  },\n};\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Then, you can read the parameter in the HTML template using ",(0,a.jsx)(n.code,{children:"<%= foo %>"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:"<script>\n  window.foo = '<%= foo %>';\n<\/script>\n"})}),"\n",(0,a.jsx)(n.p,{children:"The compiled HTML code will be:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:"<script>\n  window.foo = 'bar';\n<\/script>\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"function-usage",children:["Function Usage",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-usage",children:"#"})]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"type TemplateParametersFunction = (\n  defaultValue: Record<string, unknown>,\n  utils: { entryName: string },\n) => Record<string, unknown> | void;\n"})}),"\n",(0,a.jsxs)(n.p,{children:["When ",(0,a.jsx)(n.code,{children:"html.templateParameters"})," is of type Function, the function receives two parameters:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"value"}),": Default ",(0,a.jsx)(n.code,{children:"templateParameters"})," configuration of Rsbuild."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"utils"}),": An object containing the ",(0,a.jsx)(n.code,{children:"entryName"})," field, corresponding to the name of the current entry."]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["In the context of a multi-page application (MPA), you can set different ",(0,a.jsx)(n.code,{children:"templateParameters"})," based on the entry name:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    templateParameters(defaultValue, { entryName }) {\n      const params = {\n        foo: {\n          ...defaultValue,\n          type: 'Foo',\n        },\n        bar: {\n          ...defaultValue,\n          type: 'Bar',\n          hello: 'world',\n        },\n      };\n      return params[entryName] || defaultValue;\n    },\n  },\n};\n"})})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(s,{...e})}):s(e)}let i=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["en%2Fconfig%2Fhtml%2Ftemplate-parameters.mdx"]={toc:[{text:"Object Usage",id:"object-usage",depth:2},{text:"Function Usage",id:"function-usage",depth:2}],title:"html.templateParameters",frontmatter:{}}}}]);