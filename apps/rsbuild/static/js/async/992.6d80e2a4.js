"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["992"],{426:function(e,n,r){r.r(n),r.d(n,{default:function(){return l}});var i=r(55367),t=r(26971);function o(e){let n=Object.assign({h1:"h1",a:"a",ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",h2:"h2",pre:"pre"},(0,t.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"modulefederationoptions",children:["moduleFederation.options",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modulefederationoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.a,{href:"https://rspack.dev/plugins/webpack/module-federation-plugin#options",target:"_blank",rel:"noopener noreferrer",children:"Rspack.ModuleFederationPluginOptions"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Used to configure the Rspack's Module Federation plugin (Module Federation v1.5)."}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsxs)(n.p,{children:["There are several versions of Module Federation implementations. Before using ",(0,i.jsx)(n.code,{children:"moduleFederation.options"}),", please read the ",(0,i.jsx)(n.a,{href:"/guide/advanced/module-federation",children:"Module Federation guide"})," to understand the differences between different versions and how to make choices.\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"introduction",children:["Introduction",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#introduction",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When using Module Federation, it is recommended that you use the ",(0,i.jsx)(n.code,{children:"moduleFederation.options"})," option provided by Rsbuild. This option will automatically adjust some related configurations to ensure that the module federation application can run correctly."]}),"\n",(0,i.jsxs)(n.p,{children:["When you set the ",(0,i.jsx)(n.code,{children:"moduleFederation.options"})," option, Rsbuild will take the following actions:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Automatically register the ",(0,i.jsx)(n.a,{href:"https://rspack.dev/plugins/webpack/module-federation-plugin",target:"_blank",rel:"noopener noreferrer",children:"ModuleFederationPlugin"})," plugin, and pass the value of ",(0,i.jsx)(n.code,{children:"options"})," to the plugin."]}),"\n",(0,i.jsxs)(n.li,{children:["Set the default value of the provider's ",(0,i.jsx)(n.a,{href:"/config/dev/asset-prefix",children:"dev.assetPrefix"})," configuration to ",(0,i.jsx)(n.code,{children:"true"}),". This will ensure that the static asset URL is correct for remote modules."]}),"\n",(0,i.jsxs)(n.li,{children:["Set the default value of Rspack's ",(0,i.jsx)(n.a,{href:"https://rspack.dev/config/output#outputuniquename",target:"_blank",rel:"noopener noreferrer",children:"output.uniqueName"})," configuration to ",(0,i.jsx)(n.code,{children:"moduleFederation.options.name"}),", this allows HMR to work as expected."]}),"\n",(0,i.jsxs)(n.li,{children:["Turn off the ",(0,i.jsx)(n.code,{children:"split-by-experience"})," rules in Rsbuild's ",(0,i.jsx)(n.a,{href:"/config/performance/chunk-split",children:"performance.chunkSplit"})," as it may conflict with shared modules, refer to ",(0,i.jsx)(n.a,{href:"https://github.com/module-federation/module-federation-examples/issues/3161",target:"_blank",rel:"noopener noreferrer",children:"#3161"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Turn off the splitChunks rule of remote entry."}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"usage",children:["Usage",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usage",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The type of ",(0,i.jsx)(n.code,{children:"moduleFederation.options"})," is exactly the same as the ModuleFederationPlugin plugin of Rspack:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default defineConfig({\n  moduleFederation: {\n    options: {\n      name: 'remote',\n      // other options\n    },\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to the ",(0,i.jsx)(n.a,{href:"https://rspack.dev/plugins/webpack/module-federation-plugin",target:"_blank",rel:"noopener noreferrer",children:"ModuleFederationPlugin"})," document for all available options."]}),"\n",(0,i.jsxs)(n.h2,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Here is a minimal example:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Remote App"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="remote/rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\n\nexport default defineConfig({\n  server: {\n    port: 3002,\n  },\n  moduleFederation: {\n    options: {\n      name: 'remote',\n      exposes: {\n        './Button': './src/Button',\n      },\n      filename: 'remoteEntry.js',\n    },\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Host App"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="host/rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\n\nexport default defineConfig({\n  server: {\n    port: 3002,\n  },\n  moduleFederation: {\n    options: {\n      name: 'host',\n      remotes: {\n        remote: 'remote@http://localhost:3002/remoteEntry.js',\n      },\n    },\n  },\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"For more examples, please see:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/rspack-contrib/rspack-examples/tree/main/rsbuild/module-federation",target:"_blank",rel:"noopener noreferrer",children:"Rsbuild - module-federation example"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/module-federation/module-federation-examples",target:"_blank",rel:"noopener noreferrer",children:"module-federation/module-federation-examples"})}),"\n"]})]})}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}let l=s;s.__RSPRESS_PAGE_META={},s.__RSPRESS_PAGE_META["en%2Fconfig%2Fmodule-federation%2Foptions.mdx"]={toc:[{text:"Introduction",id:"introduction",depth:2},{text:"Usage",id:"usage",depth:2},{text:"Example",id:"example",depth:2}],title:"moduleFederation.options",frontmatter:{}}}}]);