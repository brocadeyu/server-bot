"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["7506"],{21045:function(n,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=s(55367),r=s(26971);function c(n){let e=Object.assign({h1:"h1",a:"a",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h2:"h2",h3:"h3",div:"div",blockquote:"blockquote"},(0,r.ah)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"outputminify",children:["output.minify",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#outputminify",children:"#"})]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"type Minify =\n  | boolean\n  | {\n      js?: boolean;\n      jsOptions?: SwcJsMinimizerRspackPluginOptions;\n      css?: boolean;\n      cssOptions?: LightningCssMinimizerRspackPluginOptions;\n    };\n"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"默认值："})," ",(0,i.jsx)(e.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"用于设置是否在生产模式下开启代码压缩，或是配置压缩工具的选项。"}),"\n",(0,i.jsxs)(e.p,{children:["默认情况下，JS 和 CSS 代码会在生产模式构建时被自动压缩，从而提升页面性能。如果你不希望执行代码压缩，可以将 ",(0,i.jsx)(e.code,{children:"minify"})," 设置为 ",(0,i.jsx)(e.code,{children:"false"})," 关闭对所有代码的压缩。或者可以通过 ",(0,i.jsx)(e.code,{children:"minify"})," 选项的详细配置来控制代码压缩的行为。"]}),"\n",(0,i.jsx)(e.p,{children:"下面是各个字段的说明："}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"js"}),": 是否开启对 JavaScript 代码的压缩。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"jsOptions"}),": JS 代码压缩配置，将会与默认配置合并传给 SWC。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"css"}),": 是否开启对 CSS 代码的压缩。"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"cssOptions"}),": CSS 代码压缩配置，将会与默认配置合并传给 Lightning CSS。"]}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"示例",children:["示例",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(e.h3,{id:"禁用所有压缩",children:["禁用所有压缩",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#禁用所有压缩",children:"#"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"export default {\n  output: {\n    minify: false,\n  },\n};\n"})}),"\n",(0,i.jsxs)(e.div,{className:"rspress-directive tip",children:[(0,i.jsx)(e.div,{className:"rspress-directive-title",children:"TIP"}),(0,i.jsx)(e.div,{className:"rspress-directive-content",children:(0,i.jsx)(e.p,{children:"该配置项通常用于代码调试和问题排查，不建议在生产模式禁用代码压缩，否则会导致页面性能显著下降。"})})]}),"\n",(0,i.jsxs)(e.h3,{id:"禁用-javascript-压缩",children:["禁用 JavaScript 压缩",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#禁用-javascript-压缩",children:"#"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"export default {\n  output: {\n    minify: {\n      js: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"javascript-压缩选项",children:["JavaScript 压缩选项",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#javascript-压缩选项",children:"#"})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"output.minify.jsOptions"})," 用于配置 SWC 的压缩选项，具体配置项请参考 ",(0,i.jsx)(e.a,{href:"https://rspack.dev/plugins/rspack/swc-js-minimizer-rspack-plugin",target:"_blank",rel:"noopener noreferrer",children:"SwcJsMinimizerRspackPlugin 文档"}),"。"]}),"\n",(0,i.jsx)(e.p,{children:"例如，关闭变量和函数名的重命名："}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"export default {\n  output: {\n    minify: {\n      jsOptions: {\n        minimizerOptions: {\n          mangle: false,\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:["参考 ",(0,i.jsx)(e.a,{href:"/guide/basic/configure-swc",children:"配置 SWC"})," 了解更多。"]}),"\n"]}),"\n",(0,i.jsxs)(e.h3,{id:"css-压缩选项",children:["CSS 压缩选项",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#css-压缩选项",children:"#"})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"output.minify.cssOptions"})," 用于配置 Lightning CSS 的压缩选项，具体配置项请参考 ",(0,i.jsx)(e.a,{href:"https://rspack.dev/plugins/rspack/lightning-css-minimizer-rspack-plugin",target:"_blank",rel:"noopener noreferrer",children:"LightningCssMinimizerRspackPlugin 文档"}),"。"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"export default {\n  output: {\n    minify: {\n      cssOptions: {\n        minimizerOptions: {\n          errorRecovery: false,\n        },\n      },\n    },\n  },\n};\n"})})]})}function a(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,r.ah)(),n.components);return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}let d=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["zh%2Fconfig%2Foutput%2Fminify.mdx"]={toc:[{text:"示例",id:"示例",depth:2},{text:"禁用所有压缩",id:"禁用所有压缩",depth:3},{text:"禁用 JavaScript 压缩",id:"禁用-javascript-压缩",depth:3},{text:"JavaScript 压缩选项",id:"javascript-压缩选项",depth:3},{text:"CSS 压缩选项",id:"css-压缩选项",depth:3}],title:"output.minify",frontmatter:{}}}}]);