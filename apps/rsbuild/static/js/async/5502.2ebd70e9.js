"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["5502"],{1658:function(e,n,r){r.r(n),r.d(n,{default:function(){return o}});var s=r(55367),l=r(26971);function i(e){let n=Object.assign({h1:"h1",a:"a",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",blockquote:"blockquote",h2:"h2",div:"div"},(0,l.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"serveropen",children:["server.open",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#serveropen",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"type Open =\n  | boolean\n  | string\n  | string[]\n  | {\n      target?: string | string[];\n      before?: () => Promise<void> | void;\n    };\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Default:"})," ",(0,s.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"server.open"})," is used to configure a set of page URLs that Rsbuild will automatically open in the browser after starting the server."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["You can also use the ",(0,s.jsx)(n.a,{href:"/guide/basic/cli#opening-page",children:"--open"})," option of Rsbuild CLI to open the pages. When using ",(0,s.jsx)(n.code,{children:"server.open"})," and ",(0,s.jsx)(n.code,{children:"--open"})," at the same time, ",(0,s.jsx)(n.code,{children:"--open"})," takes precedence."]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"example",children:["Example",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"server.open"})," can be set to the following values."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Open the project's default preview page, which defaults to ",(0,s.jsx)(n.code,{children:"http://localhost:<port>"}),". If ",(0,s.jsx)(n.a,{href:"/config/server/host",children:"server.host"})," is configured, it defaults to ",(0,s.jsx)(n.code,{children:"http://<host>:<port>"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"export default {\n  server: {\n    open: true,\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Open the specified page:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"export default {\n  server: {\n    open: 'http://localhost:3000',\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Open the specified path, equivalent to ",(0,s.jsx)(n.code,{children:"http://localhost:<port>/home"}),":"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"export default {\n  server: {\n    open: '/home',\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Open multiple pages:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"export default {\n  server: {\n    open: ['/', '/about'],\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Open a non-localhost URL (used with proxy):"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"export default {\n  server: {\n    open: 'http://www.example.com',\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"port-placeholder",children:["Port placeholder",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#port-placeholder",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"The port number that Rsbuild server listens on may change. For example, if the port is in use, Rsbuild will automatically increment the port number until it finds an available port."}),"\n",(0,s.jsxs)(n.p,{children:["To avoid ",(0,s.jsx)(n.code,{children:"server.open"})," becoming invalid due to port changes, you can use one of the following methods:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Enable ",(0,s.jsx)(n.a,{href:"/config/server/strict-port",children:"server.strictPort"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Use the ",(0,s.jsx)(n.code,{children:"<port>"})," placeholder to refer to the current port number. Rsbuild will replace the placeholder with the actual port number it is listening on."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"export default {\n  server: {\n    open: 'http://localhost:<port>/home',\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"open-the-specified-browser",children:["Open the specified browser",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#open-the-specified-browser",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Rsbuild by default will open the page in the system's default browser."}),"\n",(0,s.jsxs)(n.p,{children:["On macOS, you can open the specified browser when dev server starts, by set environment variable ",(0,s.jsx)(n.code,{children:"BROWSER"}),", support values:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Google Chrome Canary"}),"\n",(0,s.jsx)(n.li,{children:"Google Chrome Dev"}),"\n",(0,s.jsx)(n.li,{children:"Google Chrome Beta"}),"\n",(0,s.jsx)(n.li,{children:"Google Chrome"}),"\n",(0,s.jsx)(n.li,{children:"Microsoft Edge"}),"\n",(0,s.jsx)(n.li,{children:"Brave Browser"}),"\n",(0,s.jsx)(n.li,{children:"Vivaldi"}),"\n",(0,s.jsx)(n.li,{children:"Chromium"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"For example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'BROWSER="Google Chrome Canary" npx rsbuild dev --open\n'})}),"\n",(0,s.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,s.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,s.jsx)(n.div,{className:"rspress-directive-content",children:(0,s.jsxs)(n.p,{children:["You can set ",(0,s.jsx)(n.code,{children:"BROWSER"})," in the local ",(0,s.jsx)(n.a,{href:"/guide/advanced/env-vars#env-file",children:".env.local"})," file, which helps avoid impacting other developers.\n"]})})]}),"\n",(0,s.jsxs)(n.h2,{id:"callback",children:["Callback",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#callback",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["By using ",(0,s.jsx)(n.code,{children:"open.before"}),", you can trigger a callback function before opening the page."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"export default {\n  server: {\n    open: {\n      before: async () => {\n        await doSomeThing();\n      },\n    },\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.p,{children:["When using ",(0,s.jsx)(n.code,{children:"open.before"}),", the page URLs can be configured via ",(0,s.jsx)(n.code,{children:"open.target"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"export default {\n  server: {\n    open: {\n      target: ['/', '/about'],\n      before: async () => {\n        await doSomeThing();\n      },\n    },\n  },\n};\n"})})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}let o=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fconfig%2Fserver%2Fopen.mdx"]={toc:[{text:"Example",id:"example",depth:2},{text:"Port placeholder",id:"port-placeholder",depth:2},{text:"Open the specified browser",id:"open-the-specified-browser",depth:2},{text:"Callback",id:"callback",depth:2}],title:"server.open",frontmatter:{}}}}]);