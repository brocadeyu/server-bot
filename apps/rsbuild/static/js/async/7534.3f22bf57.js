"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["7534"],{57648:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var i=t(55367),s=t(26971);function r(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",h3:"h3",code:"code",pre:"pre",div:"div",strong:"strong",ol:"ol",blockquote:"blockquote"},(0,s.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"deploy-static-site",children:["Deploy Static Site",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#deploy-static-site",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section introduces how to deploy the build outputs of Rsbuild as a static site."}),"\n",(0,i.jsxs)(n.h2,{id:"background-information",children:["Background Information",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#background-information",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Before starting the deployment, you need to understand some background information:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The CLI commands used for building and previewing outputs."}),"\n",(0,i.jsx)(n.li,{children:"The directory structure of the build outputs."}),"\n",(0,i.jsx)(n.li,{children:"The URL prefix of static assets."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"build-commands",children:["Build Commands",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#build-commands",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The build commands provided by Rsbuild:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/guide/basic/cli#rsbuild-build",children:"build command"}),", used to generate the build outputs for production deployment."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/guide/basic/cli#rsbuild-preview",children:"preview command"}),", used to preview the production build outputs locally. Note that you need to execute the ",(0,i.jsx)(n.code,{children:"rsbuild build"})," command beforehand to generate the build outputs."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",meta:'title="package.json"',children:'{\n  "scripts": {\n    "build": "rsbuild build",\n    "preview": "rsbuild preview"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsx)(n.p,{children:"The preview command is only used for local preview. Do not use it for production servers, as it is not designed for that."})})]}),"\n",(0,i.jsxs)(n.h3,{id:"output-directory",children:["Output Directory",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#output-directory",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Rsbuild's build outputs typically includes HTML, JS, CSS, and other assets, and is output to the ",(0,i.jsx)(n.code,{children:"dist"})," directory by default. The name and structure of the dist directory can be changed using some configuration options. See the ",(0,i.jsx)(n.a,{href:"/guide/basic/output-files",children:"Output Files"})," section for more information."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist\n├── static\n│   ├── image\n│   ├── css\n│   └── js\n└── [name].html\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"asset-prefix",children:["Asset Prefix",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#asset-prefix",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["We can divide the build output into two parts: ",(0,i.jsx)(n.strong,{children:"HTML files"})," and ",(0,i.jsx)(n.strong,{children:"static assets"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["HTML files refer to files with the ",(0,i.jsx)(n.code,{children:".html"})," suffix in the output directory, which usually need to be deployed on the server."]}),"\n",(0,i.jsxs)(n.li,{children:["Static assets are located in the ",(0,i.jsx)(n.code,{children:"static"})," directory of the output folder, which contains assets such as JavaScript, CSS, and images. They can be deployed either on the server or on a CDN."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If the static assets are deployed in a subdirectory of the server, you can configure ",(0,i.jsx)(n.a,{href:"/config/output/asset-prefix",children:"output.assetPrefix"})," as the base path:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\n\nexport default defineConfig({\n  output: {\n    assetPrefix: '/some-base-folder/',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you want to place these static assets on a CDN for better performance, rather than directly on the server like HTML, you will need to configure the ",(0,i.jsx)(n.a,{href:"/config/output/asset-prefix",children:"output.assetPrefix"})," to the CDN address to allow the application to properly reference these static assets."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\n\nexport default defineConfig({\n  output: {\n    assetPrefix: 'https://cdn.com/path/',\n  },\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"In this way, when referencing static assets in HTML, the specified prefix will be automatically added, for example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.com/path/static/js/index.some-hash.js"><\/script>\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"github-pages",children:["GitHub Pages",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#github-pages",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://pages.github.com/",target:"_blank",rel:"noopener noreferrer",children:"GitHub Pages"})," is a static site hosting service that takes HTML, CSS, and JavaScript files straight from a repository on GitHub"]}),"\n",(0,i.jsx)(n.p,{children:"The following are step-by-step examples on how to deploy on GitHub Pages."}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Set the URL prefix for static assets through ",(0,i.jsx)(n.a,{href:"/config/output/asset-prefix",children:"output.assetPrefix"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\n\nexport default defineConfig({\n  output: {\n    // Please replace <REPO_NAME> with the repository name.\n    // For example, \"/my-project/\"\n    assetPrefix: '/<REPO_NAME>/',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:'Open the "Settings" page of GitHub repository, click "Pages" from the left menu to access the configuration page of GitHub Pages.'}),"\n",(0,i.jsx)(n.li,{children:'Select "Source" -> "GitHub Actions" and click "create your own" to create a GitHub Action config file.'}),"\n",(0,i.jsxs)(n.li,{children:["Paste the following content into the input box and name the file ",(0,i.jsx)(n.code,{children:"github-pages.yml"})," (you can adjust the content and name of the file as needed)."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",meta:'title="github-pages.yml"',children:"# Sample workflow for building and deploying a Rsbuild site to GitHub Pages\nname: Rsbuild Deployment\n\non:\n  # Runs on pushes targeting the default branch\n  push:\n    branches: ['main']\n  # Allows you to run this workflow manually from the Actions tab\n  workflow_dispatch:\n\n# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages\npermissions:\n  contents: read\n  pages: write\n  id-token: write\n\n# Allow only one concurrent deployment\nconcurrency:\n  group: 'pages'\n  cancel-in-progress: false\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n\n      - name: Use Node.js 20\n        uses: actions/setup-node@v3\n        with:\n          node-version: 20\n\n      # If you use other package managers like yarn or pnpm,\n      # you will need to install them first\n      - name: Install dependencies\n        run: npm i\n\n      - name: Build\n        run: npm run build\n\n      - name: Setup Pages\n        uses: actions/configure-pages@v5\n\n      - name: Upload artifact\n        uses: actions/upload-pages-artifact@v3\n        with:\n          path: './dist'\n\n      - name: Deploy to GitHub Pages\n        id: deployment\n        uses: actions/deploy-pages@v4\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsxs)(n.li,{children:["Commit and wait for GitHub Actions to execute. Once it's done, you can visit ",(0,i.jsx)(n.code,{children:"https://<USERNAME>.github.io/<REPO_NAME>/"})," to view the deployed page."]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"netlify",children:["Netlify",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#netlify",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://www.netlify.com/",target:"_blank",rel:"noopener noreferrer",children:"Netlify Core"})," is a frontend cloud solution for developers to build and deploy future-proof digital solutions with modern, composable tooling."]}),"\n",(0,i.jsxs)(n.h3,{id:"add-new-site",children:["Add New Site",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-new-site",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Netlify provides a detailed guide, you can follow the instructions in ",(0,i.jsx)(n.a,{href:"https://docs.netlify.com/welcome/add-new-site/",target:"_blank",rel:"noopener noreferrer",children:"Netlify - Add new site"}),", set up some basic information, and then you can start the deployment."]}),"\n",(0,i.jsx)(n.p,{children:"You need to configure the following two fields:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Build command"}),": fill in the build command of the project, it is typically ",(0,i.jsx)(n.code,{children:"npm run build"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Publish directory"}),": fill in the output directory in the project, the default is ",(0,i.jsx)(n.code,{children:"dist"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Then click on the ",(0,i.jsx)(n.strong,{children:"Deploy site"})," button to start the deployment."]}),"\n",(0,i.jsxs)(n.h3,{id:"custom-domains",children:["Custom Domains",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-domains",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:'If you want to make your sites accessible at your own domain names, you can configure it in the "Domain management" section of Netlify.'}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Detailed guide: ",(0,i.jsx)(n.a,{href:"https://docs.netlify.com/domains-https/custom-domains/",target:"_blank",rel:"noopener noreferrer",children:"Netlify - Custom domains"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"vercel",children:["Vercel",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vercel",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://vercel.com/",target:"_blank",rel:"noopener noreferrer",children:"Vercel"})," is a platform for developers that provides the tools, workflows, and infrastructure you need to build and deploy your web apps faster, without the need for additional configuration."]}),"\n",(0,i.jsxs)(n.h3,{id:"add-new-site-1",children:["Add New Site",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-new-site-1",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Vercel provides a detailed guide that you can follow ",(0,i.jsx)(n.a,{href:"https://vercel.com/docs/projects/overview",target:"_blank",rel:"noopener noreferrer",children:"Vercel - Projects"})," to create a project in your dashboard and configure some basic information to start deployment."]}),"\n",(0,i.jsx)(n.p,{children:'You only need to configure the fields under "Build and Output Settings":'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Output directory"}),": fill in the output directory in the project, the default is ",(0,i.jsx)(n.code,{children:"dist"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Then click the ",(0,i.jsx)(n.strong,{children:"Deploy"})," button to start the deployment."]}),"\n",(0,i.jsxs)(n.h3,{id:"configure-domains",children:["Configure Domains",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#configure-domains",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:'If you want to make your sites accessible at your own domain names, you can configure it in the "Domains" section of Vercel.'}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Detailed guide: ",(0,i.jsx)(n.a,{href:"https://vercel.com/docs/projects/domains",target:"_blank",rel:"noopener noreferrer",children:"Vercel - Domains"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"cloudflare-pages",children:["Cloudflare Pages",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#cloudflare-pages",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://developers.cloudflare.com/pages/",target:"_blank",rel:"noopener noreferrer",children:"Cloudflare Pages"})," is a static site hosting platform provided by Cloudflare."]}),"\n",(0,i.jsxs)(n.p,{children:["You can follow the ",(0,i.jsx)(n.a,{href:"https://developers.cloudflare.com/pages/get-started/git-integration/",target:"_blank",rel:"noopener noreferrer",children:"Cloudflare Pages - Git integration guide"})," to integrate with Git and deploy your site to Cloudflare Pages."]}),"\n",(0,i.jsx)(n.p,{children:'When configuring, you need to fill in the following fields in the "Build settings":'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Build command"}),": fill in the build command of the project, it is typically ",(0,i.jsx)(n.code,{children:"npm run build"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Build output directory"}),": fill in the output directory in the project, the default is ",(0,i.jsx)(n.code,{children:"dist"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Then click on the ",(0,i.jsx)(n.strong,{children:"Save and Deploy"})," button to start the deployment."]})]})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(r,{...e})}):r(e)}let d=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["en%2Fguide%2Fbasic%2Fstatic-deploy.mdx"]={toc:[{text:"Background Information",id:"background-information",depth:2},{text:"Build Commands",id:"build-commands",depth:3},{text:"Output Directory",id:"output-directory",depth:3},{text:"Asset Prefix",id:"asset-prefix",depth:3},{text:"GitHub Pages",id:"github-pages",depth:2},{text:"Netlify",id:"netlify",depth:2},{text:"Add New Site",id:"add-new-site",depth:3},{text:"Custom Domains",id:"custom-domains",depth:3},{text:"Vercel",id:"vercel",depth:2},{text:"Add New Site",id:"add-new-site-1",depth:3},{text:"Configure Domains",id:"configure-domains",depth:3},{text:"Cloudflare Pages",id:"cloudflare-pages",depth:2}],title:"Deploy Static Site",frontmatter:{}}}}]);