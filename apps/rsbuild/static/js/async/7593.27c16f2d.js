"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["7593"],{82496:function(e,n,r){r.r(n),r.d(n,{default:function(){return o}});var t=r(55367),s=r(26971),i=r(38146);function a(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",code:"code",pre:"pre",div:"div",h3:"h3",ol:"ol",li:"li",blockquote:"blockquote",ul:"ul"},(0,s.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.h1,{id:"react",children:["React",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#react",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"In this document, you will learn how to build a React application using Rsbuild."}),"\n",(0,t.jsxs)(n.h2,{id:"create-react-project",children:["Create React Project",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#create-react-project",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["You can use ",(0,t.jsx)(n.code,{children:"create-rsbuild"})," to create a project with Rsbuild + React. Just execute the following command:"]}),"\n","\n",(0,t.jsx)(i.PackageManagerTabs,{command:{npm:"npm create rsbuild@latest",yarn:"yarn create rsbuild",pnpm:"pnpm create rsbuild@latest",bun:"bun create rsbuild@latest"}}),"\n",(0,t.jsxs)(n.p,{children:["Then select ",(0,t.jsx)(n.code,{children:"React"}),' when prompted to "Select framework".']}),"\n",(0,t.jsxs)(n.h2,{id:"use-react-in-an-existing-project",children:["Use React in an existing project",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-react-in-an-existing-project",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["To compile React, you need to register the Rsbuild ",(0,t.jsx)(n.a,{href:"/plugins/list/plugin-react",children:"React Plugin"}),". The plugin will automatically add the necessary configuration for React builds."]}),"\n",(0,t.jsxs)(n.p,{children:["For example, register in ",(0,t.jsx)(n.code,{children:"rsbuild.config.ts"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\nimport { pluginReact } from '@rsbuild/plugin-react';\n\nexport default defineConfig({\n  plugins: [pluginReact()],\n});\n"})}),"\n",(0,t.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,t.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,t.jsx)(n.div,{className:"rspress-directive-content",children:(0,t.jsxs)(n.p,{children:["For projects using Create React App, you can refer to the ",(0,t.jsx)(n.a,{href:"/guide/migration/cra",children:"CRA Migration Guide"}),".\n"]})})]}),"\n",(0,t.jsxs)(n.h2,{id:"use-svgr",children:["Use SVGR",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-svgr",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["Rsbuild supports convert SVG to React components via ",(0,t.jsx)(n.a,{href:"https://react-svgr.com/",target:"_blank",rel:"noopener noreferrer",children:"SVGR"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["If you need to use svgr, you also need to register the ",(0,t.jsx)(n.a,{href:"/plugins/list/plugin-svgr",children:"SVGR plugin"}),"."]}),"\n",(0,t.jsxs)(n.h2,{id:"react-fast-refresh",children:["React Fast Refresh",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#react-fast-refresh",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["Rsbuild uses React's official ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/react-refresh",target:"_blank",rel:"noopener noreferrer",children:"Fast Refresh"})," capability to perform component hot updates."]}),"\n",(0,t.jsxs)(n.p,{children:["Note that React Refresh requires components to be written according to the standards. Otherwise HMR may not work. You can use ",(0,t.jsx)(n.a,{href:"https://github.com/ArnaudBarre/eslint-plugin-react-refresh",target:"_blank",rel:"noopener noreferrer",children:"eslint-plugin-react-refresh"})," for validation."]}),"\n",(0,t.jsx)(n.p,{children:"For example, if the hot update of the React component cannot take effect, or the state of the React component is lost after the hot update, it is usually because your React component uses an anonymous function. In the official practice of React Fast Refresh, it is required that the component cannot be an anonymous function, otherwise the state of the React component cannot be preserved after hot update."}),"\n",(0,t.jsx)(n.p,{children:"Here are some examples of wrong usage:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// bad\nexport default function () {\n  return <div>Hello World</div>;\n}\n\n// bad\nexport default () => <div>Hello World</div>;\n"})}),"\n",(0,t.jsx)(n.p,{children:"The correct usage is to declare a name for each component function:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",children:"// good\nexport default function MyComponent() {\n  return <div>Hello World</div>;\n}\n\n// good\nconst MyComponent = () => <div>Hello World</div>;\n\nexport default MyComponent;\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"react-compiler",children:["React Compiler",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#react-compiler",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"React Compiler is an experimental compiler introduced in React 19 that can automatically optimize your React code."}),"\n",(0,t.jsxs)(n.p,{children:["Before you start using React Compiler, it's recommended to read the ",(0,t.jsx)(n.a,{href:"https://react.dev/learn/react-compiler",target:"_blank",rel:"noopener noreferrer",children:"React Compiler documentation"})," to understand the functionality, current state, and usage of the React Compiler."]}),"\n",(0,t.jsxs)(n.h3,{id:"how-to-use",children:["How to use",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-use",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"The steps to use React Compiler in Rsbuild:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Upgrade versions of ",(0,t.jsx)(n.code,{children:"react"})," and ",(0,t.jsx)(n.code,{children:"react-dom"})," to 19. If you are unable to upgrade, you can install the extra ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/react-compiler-runtime",target:"_blank",rel:"noopener noreferrer",children:"react-compiler-runtime"})," package which will allow the compiled code to run on versions prior to 19."]}),"\n",(0,t.jsxs)(n.li,{children:["React Compiler currently only provides a Babel plugin, you need to install ",(0,t.jsx)(n.a,{href:"/plugins/list/plugin-babel",children:"@rsbuild/plugin-babel"})," and ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/babel-plugin-react-compiler",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-react-compiler"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Register the Babel plugin in your Rsbuild config file:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\nimport { pluginBabel } from '@rsbuild/plugin-babel';\nimport { pluginReact } from '@rsbuild/plugin-react';\n\nexport default defineConfig({\n  plugins: [\n    pluginReact(),\n    pluginBabel({\n      include: /\\.(?:jsx|tsx)$/,\n      babelLoaderOptions(opts) {\n        opts.plugins?.unshift('babel-plugin-react-compiler');\n      },\n    }),\n  ],\n});\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["You can also refer to the ",(0,t.jsx)(n.a,{href:"https://github.com/rspack-contrib/rspack-examples/tree/main/rsbuild/react-compiler-babel",target:"_blank",rel:"noopener noreferrer",children:"example project"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"configuration",children:["Configuration",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#configuration",children:"#"})]}),"\n",(0,t.jsx)(n.p,{children:"Set the config for React Compiler as follows:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\nimport { pluginBabel } from '@rsbuild/plugin-babel';\nimport { pluginReact } from '@rsbuild/plugin-react';\n\nconst ReactCompilerConfig = {\n  /* ... */\n};\n\nexport default defineConfig({\n  plugins: [\n    pluginReact(),\n    pluginBabel({\n      include: /\\.(?:jsx|tsx)$/,\n      babelLoaderOptions(opts) {\n        opts.plugins?.unshift([\n          'babel-plugin-react-compiler',\n          ReactCompilerConfig,\n        ]);\n      },\n    }),\n  ],\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["For React 17 and 18 projects, you need to install ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/react-compiler-runtime",target:"_blank",rel:"noopener noreferrer",children:"react-compiler-runtime"})," and specify the ",(0,t.jsx)(n.code,{children:"target"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"const ReactCompilerConfig = {\n  target: '18', // '17' | '18' | '19'\n};\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"router",children:["Router",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#router",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"tanstack-router",children:["TanStack Router",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tanstack-router",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://tanstack.com/router/",target:"_blank",rel:"noopener noreferrer",children:"TanStack Router"})," is a fully type-safe React router with built-in data fetching, stale-while revalidate caching and first-class search-param APIs."]}),"\n",(0,t.jsxs)(n.p,{children:["TanStack Router provides ",(0,t.jsx)(n.code,{children:"@tanstack/router-plugin"})," to integrate with Rsbuild, which provides support for file-based routing. See:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://tanstack.com/router/latest/docs/framework/react/guide/file-based-routing",target:"_blank",rel:"noopener noreferrer",children:"File-Based Routing documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/TanStack/router/tree/main/examples/react/quickstart-rspack-file-based",target:"_blank",rel:"noopener noreferrer",children:"TanStack Router + Rsbuild Example"})}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"css-in-js",children:["CSS-in-JS",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#css-in-js",children:"#"})]}),"\n",(0,t.jsxs)(n.h3,{id:"use-styled-components",children:["Use styled-components",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-styled-components",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["Rsbuild supports compiling ",(0,t.jsx)(n.a,{href:"https://github.com/styled-components/styled-components",target:"_blank",rel:"noopener noreferrer",children:"styled-components"}),", improve the debugging experience and add server-side rendering support to styled-components."]}),"\n",(0,t.jsxs)(n.p,{children:["If you need to use styled-components, We recommend using the ",(0,t.jsx)(n.a,{href:"https://github.com/rsbuild-contrib/rsbuild-plugin-styled-components",target:"_blank",rel:"noopener noreferrer",children:"@rsbuild/plugin-styled-components"}),"."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["You can refer to this example: ",(0,t.jsx)(n.a,{href:"https://github.com/rspack-contrib/rspack-examples/tree/main/rsbuild/styled-components",target:"_blank",rel:"noopener noreferrer",children:"styled-components"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"using-emotion",children:["Using Emotion",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-emotion",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["Rsbuild supports compiling ",(0,t.jsx)(n.a,{href:"https://github.com/emotion-js/emotion",target:"_blank",rel:"noopener noreferrer",children:"Emotion"}),", you can add the following configuration to use:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/plugins/list/plugin-react#swcreactoptions",children:"swcReactOptions.importSource"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/@swc/plugin-emotion",target:"_blank",rel:"noopener noreferrer",children:"@swc/plugin-emotion"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\nimport { pluginReact } from '@rsbuild/plugin-react';\n\nexport default defineConfig({\n  plugins: [\n    pluginReact({\n      swcReactOptions: {\n        importSource: '@emotion/react',\n      },\n    }),\n  ],\n  tools: {\n    swc: {\n      jsc: {\n        experimental: {\n          plugins: [['@swc/plugin-emotion', {}]],\n        },\n      },\n    },\n  },\n});\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["You can refer to this example: ",(0,t.jsx)(n.a,{href:"https://github.com/rspack-contrib/rspack-examples/tree/main/rsbuild/emotion",target:"_blank",rel:"noopener noreferrer",children:"emotion"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"use-styled-jsx",children:["Use styled-jsx",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-styled-jsx",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["You can use ",(0,t.jsx)(n.a,{href:"https://github.com/vercel/styled-jsx",target:"_blank",rel:"noopener noreferrer",children:"styled-jsx"})," through ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/@swc/plugin-styled-jsx",target:"_blank",rel:"noopener noreferrer",children:"@swc/plugin-styled-jsx"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\nimport { pluginReact } from '@rsbuild/plugin-react';\n\nexport default defineConfig({\n  plugins: [pluginReact()],\n  tools: {\n    swc: {\n      jsc: {\n        experimental: {\n          plugins: [['@swc/plugin-styled-jsx', {}]],\n        },\n      },\n    },\n  },\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Please note, you must select the SWC plugin that matches the current version of ",(0,t.jsx)(n.code,{children:"@swc/core"})," for SWC to work, see ",(0,t.jsx)(n.a,{href:"/config/tools/swc",children:"tools.swc"}),"."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["You can refer to this example: ",(0,t.jsx)(n.a,{href:"https://github.com/rspack-contrib/rspack-examples/tree/main/rsbuild/styled-jsx",target:"_blank",rel:"noopener noreferrer",children:"styled-jsx"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"use-vanilla-extract",children:["Use vanilla-extract",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-vanilla-extract",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["Rsbuild supports ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/@vanilla-extract/webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"@vanilla-extract/webpack-plugin"}),". You can add the following config to use ",(0,t.jsx)(n.a,{href:"https://github.com/vanilla-extract-css/vanilla-extract",target:"_blank",rel:"noopener noreferrer",children:"vanilla-extract"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\nimport { pluginReact } from '@rsbuild/plugin-react';\nimport { VanillaExtractPlugin } from '@vanilla-extract/webpack-plugin';\n\nexport default defineConfig({\n  plugins: [\n    pluginReact({\n      reactRefreshOptions: {\n        exclude: [/\\.css\\.ts$/],\n      },\n    }),\n  ],\n  tools: {\n    rspack: {\n      plugins: [new VanillaExtractPlugin()],\n    },\n  },\n});\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["You can refer to this example: ",(0,t.jsx)(n.a,{href:"https://github.com/rspack-contrib/rspack-examples/tree/main/rsbuild/vanilla-extract",target:"_blank",rel:"noopener noreferrer",children:"vanilla-extract"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"use-stylex",children:["Use StyleX",(0,t.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-stylex",children:"#"})]}),"\n",(0,t.jsxs)(n.p,{children:["You can use ",(0,t.jsx)(n.a,{href:"https://github.com/facebook/stylex",target:"_blank",rel:"noopener noreferrer",children:"StyleX"})," via ",(0,t.jsx)(n.a,{href:"https://github.com/eryue0220/unplugin-stylex",target:"_blank",rel:"noopener noreferrer",children:"unplugin-stylex"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { defineConfig } from '@rsbuild/core';\nimport { pluginReact } from '@rsbuild/plugin-react';\nimport stylexPlugin from 'unplugin-stylex/rspack';\n\nexport default defineConfig({\n  plugins: [pluginReact()],\n  tools: {\n    rspack: {\n      plugins: [stylexPlugin()],\n    },\n  },\n});\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["You can refer to this example: ",(0,t.jsx)(n.a,{href:"https://github.com/rspack-contrib/rspack-examples/tree/main/rsbuild/stylex",target:"_blank",rel:"noopener noreferrer",children:"stylex"}),"."]}),"\n"]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}let o=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["en%2Fguide%2Fframework%2Freact.mdx"]={toc:[{text:"Create React Project",id:"create-react-project",depth:2},{text:"Use React in an existing project",id:"use-react-in-an-existing-project",depth:2},{text:"Use SVGR",id:"use-svgr",depth:2},{text:"React Fast Refresh",id:"react-fast-refresh",depth:2},{text:"React Compiler",id:"react-compiler",depth:2},{text:"How to use",id:"how-to-use",depth:3},{text:"Configuration",id:"configuration",depth:3},{text:"Router",id:"router",depth:2},{text:"TanStack Router",id:"tanstack-router",depth:3},{text:"CSS-in-JS",id:"css-in-js",depth:2},{text:"Use styled-components",id:"use-styled-components",depth:3},{text:"Using Emotion",id:"using-emotion",depth:3},{text:"Use styled-jsx",id:"use-styled-jsx",depth:3},{text:"Use vanilla-extract",id:"use-vanilla-extract",depth:3},{text:"Use StyleX",id:"use-stylex",depth:3}],title:"React",frontmatter:{}}}}]);