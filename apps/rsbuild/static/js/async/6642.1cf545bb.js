"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["6642"],{28661:function(e,n,r){r.r(n),r.d(n,{default:function(){return o}});var a=r(55367),t=r(26971);function s(e){let n=Object.assign({h1:"h1",a:"a",blockquote:"blockquote",p:"p",img:"img",ul:"ul",li:"li",h2:"h2",code:"code",pre:"pre"},(0,t.ah)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.h1,{id:"announcing-rsbuild-06",children:["Announcing Rsbuild 0.6",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#announcing-rsbuild-06",children:"#"})]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"April 10, 2024"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://assets.rspack.dev/rsbuild/rsbuild-banner-v0-6.png",alt:""})}),"\n",(0,a.jsx)(n.p,{children:"Rsbuild 0.6 has been released along with Rspack 0.6!"}),"\n",(0,a.jsx)(n.p,{children:"Notable changes:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Upgrade to Rspack 0.6"}),"\n",(0,a.jsx)(n.li,{children:"Error overlay enabled by default"}),"\n",(0,a.jsx)(n.li,{children:"Support for Vue JSX HMR"}),"\n",(0,a.jsx)(n.li,{children:"New transform plugin API"}),"\n",(0,a.jsx)(n.li,{children:"Default port changed to 3000"}),"\n"]}),"\n",(0,a.jsxs)(n.h2,{id:"upgrade-to-rspack-06",children:["Upgrade to Rspack 0.6",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#upgrade-to-rspack-06",children:"#"})]}),"\n",(0,a.jsx)(n.p,{children:"Rsbuild has upgraded the dependent Rspack to version 0.6, and adapted the breaking changes of CSS Modules contained in Rspack 0.6."}),"\n",(0,a.jsxs)(n.p,{children:["In the new version, Rspack has enabled the new tree shaking algorithm by default, resulting in a significant improvement in bundle size and artifact stability. Please refer to the ",(0,a.jsx)(n.a,{href:"https://rspack.dev/blog/announcing-0-6",target:"_blank",rel:"noopener noreferrer",children:"Rspack 0.6 release announcement"})," to learn more."]}),"\n",(0,a.jsxs)(n.h2,{id:"error-overlay-enabled-by-default",children:["Error overlay enabled by default",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#error-overlay-enabled-by-default",children:"#"})]}),"\n",(0,a.jsxs)(n.p,{children:["Starting from Rsbuild 0.6, the default value of ",(0,a.jsx)(n.a,{href:"/config/dev/client",children:"dev.client.overlay"})," has been adjusted to ",(0,a.jsx)(n.code,{children:"true"}),". This means that when a compilation error occurs, Rsbuild will pop up the error overlay by default to display the error information:"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://assets.rspack.dev/rsbuild/assets/rsbuild-error-overlay.png",alt:""})}),"\n",(0,a.jsxs)(n.p,{children:["If you do not need this feature, you can set ",(0,a.jsx)(n.code,{children:"dev.client.overlay"})," to ",(0,a.jsx)(n.code,{children:"false"})," to disable it."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default defineConfig({\n  dev: {\n    client: {\n      overlay: false,\n    },\n  },\n});\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"support-for-vue-jsx-hmr",children:["Support for Vue JSX HMR",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#support-for-vue-jsx-hmr",children:"#"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"@rsbuild/plugin-vue-jsx"})," now supports JSX HMR. When you modify JSX code in a Vue 3 application, it will automatically trigger hot module replacement and preserve the current page state."]}),"\n",(0,a.jsxs)(n.p,{children:["This feature is implemented by community contributor ",(0,a.jsx)(n.a,{href:"https://github.com/liyincode",target:"_blank",rel:"noopener noreferrer",children:"@liyincode"})," ❤️, and released as a standalone package ",(0,a.jsx)(n.a,{href:"https://github.com/liyincode/babel-plugin-vue-jsx-hmr",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-vue-jsx-hmr"}),", for use in projects outside of Rsbuild."]}),"\n",(0,a.jsxs)(n.h2,{id:"new-transform-api",children:["New transform API",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#new-transform-api",children:"#"})]}),"\n",(0,a.jsxs)(n.p,{children:["Rsbuild plugin now supports the ",(0,a.jsx)(n.a,{href:"/plugins/dev/core#apitransform",children:"transform API"}),", which can be thought of as a lightweight implementation of Rspack loader. It provides a simple and easy to use API and automatically calls Rspack loader at the backend to transform the code."]}),"\n",(0,a.jsxs)(n.p,{children:["In Rsbuild plugins, you can quickly implement code transformation functions using ",(0,a.jsx)(n.code,{children:"api.transform"}),", which can handle the majority of common scenarios without having to learn how to write an Rspack loader."]}),"\n",(0,a.jsxs)(n.p,{children:["For example, match modules with the ",(0,a.jsx)(n.code,{children:".pug"})," extension and transform them to JavaScript code:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"import pug from 'pug';\n\nconst pluginPug = () => ({\n  name: 'my-pug-plugin',\n  setup(api) {\n    api.transform({ test: /\\.pug$/ }, ({ code }) => {\n      const templateCode = pug.compileClient(code, {});\n      return `${templateCode}; module.exports = template;`;\n    });\n  },\n});\n"})}),"\n",(0,a.jsxs)(n.p,{children:["For some complex code transformation scenarios, ",(0,a.jsx)(n.code,{children:"api.transform"})," may not be sufficient. In such situations, you can implement it using the Rspack loader."]}),"\n",(0,a.jsxs)(n.h2,{id:"default-port-changed-to-3000",children:["Default port changed to 3000",(0,a.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-port-changed-to-3000",children:"#"})]}),"\n",(0,a.jsxs)(n.p,{children:["Rsbuild has changed the default value of ",(0,a.jsx)(n.a,{href:"/config/server/port",children:"server.port"})," from ",(0,a.jsx)(n.code,{children:"8080"})," to ",(0,a.jsx)(n.code,{children:"3000"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Port 3000 is commonly used for web development, and is also the default port used by tools such as create-react-app. Changing the default port to 3000 can prevent possible port conflicts when using 8080."}),"\n",(0,a.jsx)(n.p,{children:"If you need to use port 8080, you can manually set it as follows:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default defineConfig({\n  server: {\n    port: 8080,\n  },\n});\n"})})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(s,{...e})}):s(e)}let o=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["en%2Fcommunity%2Freleases%2Fv0-6.mdx"]={toc:[{text:"Upgrade to Rspack 0.6",id:"upgrade-to-rspack-06",depth:2},{text:"Error overlay enabled by default",id:"error-overlay-enabled-by-default",depth:2},{text:"Support for Vue JSX HMR",id:"support-for-vue-jsx-hmr",depth:2},{text:"New transform API",id:"new-transform-api",depth:2},{text:"Default port changed to 3000",id:"default-port-changed-to-3000",depth:2}],title:"Announcing Rsbuild 0.6",frontmatter:{published_at:"2024-04-10T18:00:00.000Z"}}}}]);