"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["6342"],{42993:function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});var i=n(55367),r=n(26971);function o(e){let t=Object.assign({h1:"h1",a:"a",ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h2:"h2",pre:"pre"},(0,r.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.h1,{id:"outputcleandistpath",children:["output.cleanDistPath",(0,i.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#outputcleandistpath",children:"#"})]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Type:"})," ",(0,i.jsx)(t.code,{children:"boolean | 'auto'"})]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Default:"})," ",(0,i.jsx)(t.code,{children:"'auto'"})]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["Whether to clean up all files under the output directory before the build starts (the output directory defaults to ",(0,i.jsx)(t.code,{children:"dist"}),")."]}),"\n",(0,i.jsxs)(t.h2,{id:"default-behavior",children:["Default Behavior",(0,i.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#default-behavior",children:"#"})]}),"\n",(0,i.jsxs)(t.p,{children:["The default value of ",(0,i.jsx)(t.code,{children:"output.cleanDistPath"})," is ",(0,i.jsx)(t.code,{children:"'auto'"}),". If the output directory is a subdir of the project root path, Rsbuild will automatically clean all files under the build directory."]}),"\n",(0,i.jsxs)(t.p,{children:["When ",(0,i.jsx)(t.a,{href:"/config/output/dist-path",children:"output.distPath.root"})," is an external directory, or equals to the project root directory, ",(0,i.jsx)(t.code,{children:"cleanDistPath"})," is not enabled by default, to avoid accidentally deleting files from other directories."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:"export default {\n  output: {\n    distPath: {\n      root: '../../some-dir',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(t.h2,{id:"forced-switch",children:["Forced Switch",(0,i.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#forced-switch",children:"#"})]}),"\n",(0,i.jsxs)(t.p,{children:["You can set ",(0,i.jsx)(t.code,{children:"cleanDistPath"})," to ",(0,i.jsx)(t.code,{children:"true"})," to force it to be enabled, or set it to ",(0,i.jsx)(t.code,{children:"false"})," to force it to be disabled."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:"export default {\n  output: {\n    cleanDistPath: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(t.h2,{id:"conditional",children:["Conditional",(0,i.jsx)(t.a,{className:"header-anchor","aria-hidden":"true",href:"#conditional",children:"#"})]}),"\n",(0,i.jsx)(t.p,{children:"If you only need to clean files in production mode, but not in development mode, you can configure it as:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:"export default {\n  output: {\n    cleanDistPath: process.env.NODE_ENV === 'production',\n  },\n};\n"})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,r.ah)(),e.components);return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}let a=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["en%2Fconfig%2Foutput%2Fclean-dist-path.mdx"]={toc:[{text:"Default Behavior",id:"default-behavior",depth:2},{text:"Forced Switch",id:"forced-switch",depth:2},{text:"Conditional",id:"conditional",depth:2}],title:"output.cleanDistPath",frontmatter:{}}}}]);