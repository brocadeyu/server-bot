"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["2738"],{81614:function(e,s,t){t.r(s),t.d(s,{default:function(){return o}});var n=t(55367),i=t(26971);function r(e){let s=Object.assign({h1:"h1",a:"a",p:"p",div:"div",h2:"h2",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",h3:"h3",ol:"ol",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,i.ah)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.h1,{id:"import-static-assets",children:["Import Static Assets",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#import-static-assets",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"Rsbuild supports import static assets, including images, fonts, audio and video."}),"\n",(0,n.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,n.jsx)(s.div,{className:"rspress-directive-title",children:"What is Static Assets"}),(0,n.jsx)(s.div,{className:"rspress-directive-content",children:(0,n.jsx)(s.p,{children:"Static assets are files that are part of a web application and do not change, even when the application is being used. Examples of static assets include images, fonts, medias, stylesheets, and JavaScript files. These assets are typically stored on a web server or CDN, and delivered to the user's web browser when the Web application is accessed. Because they do not change, static assets can be cached by the browser, which helps to improve the performance of the Web application."})})]}),"\n",(0,n.jsxs)(s.h2,{id:"assets-format",children:["Assets Format",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#assets-format",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"The following are the formats supported by Rsbuild by default:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"images"}),": png, jpg, jpeg, gif, svg, bmp, webp, ico, apng, avif, tif, tiff, jfif, pjpeg, pjp."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"fonts"}),": woff, woff2, eot, ttf, otf, ttc."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"audio"}),": mp3, wav, flac, aac, m4a, opus."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"video"}),": mp4, webm, ogg, mov."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["If you need to import assets in other formats, please refer to ",(0,n.jsx)(s.a,{href:"#extend-asset-types",children:"Extend Asset Types"}),"."]}),"\n",(0,n.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,n.jsx)(s.div,{className:"rspress-directive-title",children:"SVG images"}),(0,n.jsx)(s.div,{className:"rspress-directive-content",children:(0,n.jsxs)(s.p,{children:["SVG image is a special case. Rsbuild support convert SVG to React components, so SVG is processed separately. For details, see ",(0,n.jsx)(s.a,{href:"/plugins/list/plugin-svgr",children:"SVGR Plugin"}),".\n"]})})]}),"\n",(0,n.jsxs)(s.h2,{id:"import-assets-in-js-file",children:["Import Assets in JS file",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#import-assets-in-js-file",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"In JS files, you can import static assets with relative paths:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-tsx",children:"// Import the logo.png image in the static directory\nimport logo from './static/logo.png';\n\nconsole.log(logo); // \"/static/logo.[hash].png\"\n\nexport default = () => <img src={logo} />;\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Import with ",(0,n.jsx)(s.a,{href:"/guide/advanced/alias",children:"alias"})," is also available:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-tsx",children:"import logo from '@/static/logo.png';\n\nconsole.log(logo); // \"/static/logo.[hash].png\"\n\nexport default = () => <img src={logo} />;\n"})}),"\n",(0,n.jsxs)(s.h3,{id:"url-assets",children:["URL assets",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#url-assets",children:"#"})]}),"\n",(0,n.jsxs)(s.p,{children:["Rsbuild supports using JavaScript's native ",(0,n.jsx)(s.a,{href:"https://developer.mozilla.org/docs/Web/API/URL",target:"_blank",rel:"noopener noreferrer",children:"URL"})," and ",(0,n.jsx)(s.a,{href:"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Operators/import.meta",target:"_blank",rel:"noopener noreferrer",children:"import.meta.url"})," to import static assets."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-tsx",children:"const logo = new URL('./static/logo.png', import.meta.url).href;\n\nconsole.log(logo); // \"/static/logo.[hash].png\"\n\nexport default = () => <img src={logo} />;\n"})}),"\n",(0,n.jsxs)(s.p,{children:["If you use ",(0,n.jsx)(s.code,{children:"new URL()"})," to reference ",(0,n.jsx)(s.code,{children:".js"})," or ",(0,n.jsx)(s.code,{children:".ts"})," files, they will be treated as URL assets and will not be processed by Rsbuild's built-in ",(0,n.jsx)(s.code,{children:"swc-loader"}),"."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-tsx",children:"// foo.ts will remain the original content and be output to the dist directory\nconst fooTs = new URL('./foo.ts', import.meta.url).href;\n\nconsole.log(fooTs); // \"/static/foo.[hash].ts\"\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Similarly, when using ",(0,n.jsx)(s.code,{children:"new URL()"})," to reference ",(0,n.jsx)(s.code,{children:".css"})," or ",(0,n.jsx)(s.code,{children:".scss"})," files, they will be treated as URL assets and will not be processed by Rsbuild's built-in CSS loaders."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-tsx",children:"// foo.css will remain the original content and be output to the dist directory\nconst fooCss = new URL('./foo.css', import.meta.url).href;\n\nconsole.log(fooCss); // \"/static/foo.[hash].css\"\n"})}),"\n",(0,n.jsxs)(s.h2,{id:"import-assets-in-css-file",children:["Import Assets in CSS file",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#import-assets-in-css-file",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"In CSS files, you can reference static assets in relative paths:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-css",children:".logo {\n  background-image: url('../static/logo.png');\n}\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Import with ",(0,n.jsx)(s.a,{href:"/guide/advanced/alias",children:"alias"})," are also supported:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-css",children:".logo {\n  background-image: url('@/static/logo.png');\n}\n"})}),"\n",(0,n.jsx)(s.p,{children:"If you want to reference static assets in absolute paths in CSS files:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-css",children:"@font-face {\n  font-family: DingTalk;\n  src: url('/image/font/foo.ttf');\n}\n"})}),"\n",(0,n.jsxs)(s.p,{children:["By default, the built-in ",(0,n.jsx)(s.code,{children:"css-loader"})," in Rsbuild will resolve absolute paths in ",(0,n.jsx)(s.code,{children:"url()"})," and look for the specified modules. If you want to skip resolving absolute paths, you can configure ",(0,n.jsx)(s.a,{href:"/config/tools/css-loader#toolscssloader",children:(0,n.jsx)(s.code,{children:"tools.cssLoader"})})," to filter out the specified paths. The filtered paths are left as they are in the code."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:"export default {\n  tools: {\n    cssLoader: {\n      url: {\n        filter: (url) => {\n          if (/\\/image\\/font/.test(url)) {\n            return false;\n          }\n          return true;\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,n.jsxs)(s.h2,{id:"import-results",children:["Import Results",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#import-results",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"The result of importing static assets depends on the file size:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"When the file size is greater than 4KiB, a URL will be returned, and the file will be output to the dist directory."}),"\n",(0,n.jsx)(s.li,{children:"When the file size is less than 4KiB, it will be automatically inlined to Base64 format."}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"import largeImage from './static/largeImage.png';\nimport smallImage from './static/smallImage.png';\n\nconsole.log(largeImage); // \"/static/largeImage.[hash].png\"\nconsole.log(smallImage); // \"data:image/png;base64,iVBORw0KGgo...\"\n"})}),"\n",(0,n.jsxs)(s.p,{children:["For a more detailed introduction to asset inlining, please refer to the ",(0,n.jsx)(s.a,{href:"/guide/optimization/inline-assets",children:"Static Asset Inlining"})," chapter."]}),"\n",(0,n.jsxs)(s.h2,{id:"output-files",children:["Output Files",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#output-files",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"When static assets are imported, they will be output to the dist directory. You can:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Modify the output filename through ",(0,n.jsx)(s.a,{href:"/config/output/filename",children:"output.filename"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["Modify the output path through ",(0,n.jsx)(s.a,{href:"/config/output/dist-path",children:"output.distPath"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["Please read ",(0,n.jsx)(s.a,{href:"/guide/basic/output-files",children:"Output Files"})," for details."]}),"\n",(0,n.jsxs)(s.h2,{id:"url-prefix",children:["URL Prefix",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#url-prefix",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"The URL returned after importing a asset will automatically include the path prefix:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["In development, using ",(0,n.jsx)(s.a,{href:"/config/dev/asset-prefix",children:"dev.assetPrefix"})," to set the path prefix."]}),"\n",(0,n.jsxs)(s.li,{children:["In production, using ",(0,n.jsx)(s.a,{href:"/config/output/asset-prefix",children:"output.assetPrefix"})," to set the path prefix."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["For example, you can set ",(0,n.jsx)(s.code,{children:"output.assetPrefix"})," to ",(0,n.jsx)(s.code,{children:"https://example.com"}),":"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"import logo from './static/logo.png';\n\nconsole.log(logo); // \"https://example.com/static/logo.[hash].png\"\n"})}),"\n",(0,n.jsxs)(s.h2,{id:"public-folder",children:["Public Folder",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#public-folder",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"The public folder at the project root can be used to place some static assets. These assets will not be built by Rsbuild and can be directly referenced via URL."}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["When you start the dev server, these assets will be served under the root ",(0,n.jsx)(s.a,{href:"/config/server/base",children:"server.base"})," path, default ",(0,n.jsx)(s.code,{children:"/"}),"."]}),"\n",(0,n.jsxs)(s.li,{children:["When you perform a production build, these assets will be copied to the ",(0,n.jsx)(s.a,{href:"/guide/basic/output-files",children:"dist directory"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["For example, you can place files such as ",(0,n.jsx)(s.code,{children:"robots.txt"}),", ",(0,n.jsx)(s.code,{children:"manifest.json"}),", or ",(0,n.jsx)(s.code,{children:"favicon.ico"})," in the public folder."]}),"\n",(0,n.jsxs)(s.h3,{id:"how-to-reference",children:["How to reference",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-reference",children:"#"})]}),"\n",(0,n.jsxs)(s.p,{children:["You can reference files in the ",(0,n.jsx)(s.code,{children:"public"})," directory via a URL."]}),"\n",(0,n.jsxs)(s.p,{children:["For example, in an HTML template, the ",(0,n.jsx)(s.code,{children:"./public/favicon.ico"})," file can be referenced as ",(0,n.jsx)(s.code,{children:"/favicon.ico"}),", ",(0,n.jsx)(s.a,{href:"/guide/advanced/env-vars#processenvpublic_base_path",children:"BASE_URL"})," is the base path of the server."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-html",meta:'title="index.html"',children:'<link rel="icon" href="<%= process.env.BASE_URL %>/favicon.ico" />\n'})}),"\n",(0,n.jsxs)(s.h3,{id:"notes",children:["Notes",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#notes",children:"#"})]}),"\n",(0,n.jsxs)(s.p,{children:["Here are some notes on using the ",(0,n.jsx)(s.code,{children:"public"})," folder:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"When referencing assets in the public folder via URL, please use absolute paths instead of relative paths to ensure that the assets can be accessed correctly after deployment."}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-html",meta:'title="src/index.html"',children:'\x3c!-- Wrong --\x3e\n<link rel="icon" href="../public/favicon.ico" />\n\n\x3c!-- Correct --\x3e\n<link rel="icon" href="/favicon.ico" />\n'})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Please avoid importing files from the public directory into the source code. The correct approach is to reference them by URL. You can place static assets imported into the source code in the ",(0,n.jsx)(s.code,{children:"/src/assets"})," directory."]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",meta:'title="src/index.js"',children:"// Wrong\nimport logo from '../public/logo.png';\n\n// Correct\nimport logo from './assets/logo.png';\n"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["During the production build, the files in public folder will be copied to the output folder (default is ",(0,n.jsx)(s.code,{children:"dist"}),"). Please be careful to avoid name conflicts with the output files. When files in the ",(0,n.jsx)(s.code,{children:"public"})," folder have the same name as outputs, the outputs have higher priority and will overwrite the files with the same name in the ",(0,n.jsx)(s.code,{children:"public"})," folder. This feature can be disabled by setting ",(0,n.jsx)(s.a,{href:"/config/server/public-dir",children:"server.publicDir.copyOnBuild"})," to ",(0,n.jsx)(s.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(s.h3,{id:"custom-behavior",children:["Custom Behavior",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-behavior",children:"#"})]}),"\n",(0,n.jsxs)(s.p,{children:["Rsbuild provides the ",(0,n.jsx)(s.a,{href:"/config/server/public-dir",children:"server.publicDir"})," option which can be used to customize the name and behavior of the public folder, as well as to disable it."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  server: {\n    publicDir: false,\n  },\n};\n"})}),"\n",(0,n.jsxs)(s.h2,{id:"type-declaration",children:["Type Declaration",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#type-declaration",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"When you import static assets in TypeScript code, TypeScript may prompt that the module is missing a type definition:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"TS2307: Cannot find module './logo.png' or its corresponding type declarations.\n"})}),"\n",(0,n.jsxs)(s.p,{children:["To fix this, you need to add a type declaration file for the static assets, please create a ",(0,n.jsx)(s.code,{children:"src/env.d.ts"})," file, and add the corresponding type declaration."]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Method 1: If the ",(0,n.jsx)(s.code,{children:"@rsbuild/core"})," package is installed, you can reference the ",(0,n.jsx)(s.a,{href:"/guide/basic/typescript#preset-types",children:"preset types"})," provided by ",(0,n.jsx)(s.code,{children:"@rsbuild/core"}),":"]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",children:'/// <reference types="@rsbuild/core/types" />\n'})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Method 2: Manually add the required type declarations:"}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",meta:'title="src/env.d.ts"',children:"// Taking png images as an example\ndeclare module '*.png' {\n  const content: string;\n  export default content;\n}\n"})}),"\n",(0,n.jsxs)(s.p,{children:["After adding the type declaration, if the type error still exists, you can try to restart the current IDE, or adjust the directory where ",(0,n.jsx)(s.code,{children:"env.d.ts"})," is located, making sure the TypeScript can correctly identify the type definition."]}),"\n",(0,n.jsxs)(s.h2,{id:"extend-asset-types",children:["Extend Asset Types",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#extend-asset-types",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"If the built-in asset types in Rsbuild cannot meet your requirements, you can extend additional static asset types in the following ways."}),"\n",(0,n.jsxs)(s.h3,{id:"use-sourceassetsinclude",children:["Use ",(0,n.jsx)(s.code,{children:"source.assetsInclude"}),(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#use-sourceassetsinclude",children:"#"})]}),"\n",(0,n.jsxs)(s.p,{children:["By using the ",(0,n.jsx)(s.a,{href:"/config/source/assets-include",children:"source.assetsInclude"})," config, you can specify additional file types to be treated as static assets."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  source: {\n    assetsInclude: /\\.pdf$/,\n  },\n};\n"})}),"\n",(0,n.jsxs)(s.p,{children:["After adding the above configuration, you can import ",(0,n.jsx)(s.code,{children:"*.pdf"})," files in your code, for example:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"import myFile from './static/myFile.pdf';\n\nconsole.log(myFile); // \"/static/myFile.[hash].pdf\"\n"})}),"\n",(0,n.jsxs)(s.h3,{id:"use-toolsrspack",children:["Use ",(0,n.jsx)(s.code,{children:"tools.rspack"}),(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#use-toolsrspack",children:"#"})]}),"\n",(0,n.jsxs)(s.p,{children:["You can modify the built-in Rspack configuration and add custom static assets handling rules via ",(0,n.jsx)(s.a,{href:"/config/tools/rspack",children:"tools.rspack"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["For example, to treat ",(0,n.jsx)(s.code,{children:"*.pdf"})," files as assets and output them to the dist directory, you can add the following configuration:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  tools: {\n    rspack(config, { addRules }) {\n      addRules([\n        {\n          test: /\\.pdf$/,\n          // converts asset to a separate file and exports the URL address.\n          type: 'asset/resource',\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,n.jsxs)(s.p,{children:["For more information about asset modules, please refer to ",(0,n.jsx)(s.a,{href:"https://rspack.dev/guide/features/asset-module",target:"_blank",rel:"noopener noreferrer",children:"Rspack - Asset modules"}),"."]}),"\n",(0,n.jsxs)(s.h3,{id:"related-configurations",children:["Related Configurations",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#related-configurations",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"Extended static asset types will be affected by the following configurations:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"/config/output/filename",children:"output.filename.assets"}),": Set the name of extended static assets."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"/config/output/dist-path",children:"output.distPath.assets"}),": Set the output directory of extended static assets."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.a,{href:"/config/output/data-uri-limit",children:"output.dataUriLimit.assets"}),": Set the threshold of inlining for extended static assets."]}),"\n"]}),"\n",(0,n.jsxs)(s.h2,{id:"custom-rules",children:["Custom Rules",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-rules",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"In some scenarios, you may need to bypass the built-in assets processing rules of Rsbuild and add some custom rules."}),"\n",(0,n.jsx)(s.p,{children:"Taking PNG image as an example, you need to:"}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["Modify the built-in Rspack config via ",(0,n.jsx)(s.a,{href:"/config/tools/bundler-chain",children:"tools.bundlerChain"})," to exclude ",(0,n.jsx)(s.code,{children:".png"})," files using the ",(0,n.jsx)(s.code,{children:"exclude"})," method."]}),"\n",(0,n.jsxs)(s.li,{children:["Add custom asset processing rules via ",(0,n.jsx)(s.a,{href:"/config/tools/rspack",children:"tools.rspack"}),"."]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  tools: {\n    bundlerChain(chain, { CHAIN_ID }) {\n      chain.module\n        // Use `CHAIN_ID.RULE.IMAGE` to locate the built-in image rule\n        .rule(CHAIN_ID.RULE.IMAGE)\n        .exclude.add(/\\.png$/);\n    },\n    rspack(config, { addRules }) {\n      addRules([\n        {\n          test: /\\.png$/,\n          // Add a custom loader to handle png images\n          loader: 'custom-png-loader',\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,n.jsxs)(s.h2,{id:"image-format",children:["Image Format",(0,n.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#image-format",children:"#"})]}),"\n",(0,n.jsx)(s.p,{children:"When using image assets, you can choose a appropriate image format according to the pros and cons in the table below."}),"\n",(0,n.jsxs)(s.table,{children:["\n",(0,n.jsxs)(s.thead,{children:["\n",(0,n.jsxs)(s.tr,{children:["\n",(0,n.jsx)(s.th,{children:"Format"}),"\n",(0,n.jsx)(s.th,{children:"Pros"}),"\n",(0,n.jsx)(s.th,{children:"Cons"}),"\n",(0,n.jsx)(s.th,{children:"Scenarios"}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.tbody,{children:["\n",(0,n.jsxs)(s.tr,{children:["\n",(0,n.jsx)(s.td,{children:"PNG"}),"\n",(0,n.jsx)(s.td,{children:"Lossless compression, no loss of picture details, no distortion, support for translucency"}),"\n",(0,n.jsx)(s.td,{children:"Not suitable for pictures with complex color tables"}),"\n",(0,n.jsx)(s.td,{children:"Suitable for pictures with few colors and well-defined borders, suitable for logos, icons, transparent images and other scenes"}),"\n"]}),"\n",(0,n.jsxs)(s.tr,{children:["\n",(0,n.jsx)(s.td,{children:"JPG"}),"\n",(0,n.jsx)(s.td,{children:"Rich colors"}),"\n",(0,n.jsx)(s.td,{children:"Lossy compression, which will cause image distortion, does not support transparency"}),"\n",(0,n.jsx)(s.td,{children:"Suitable for pictures with a large number of colors, gradients, and overly complex pictures, suitable for portrait photos, landscapes and other scenes"}),"\n"]}),"\n",(0,n.jsxs)(s.tr,{children:["\n",(0,n.jsx)(s.td,{children:"WebP"}),"\n",(0,n.jsx)(s.td,{children:"Supports both lossy and lossless compression, supports transparency, and is much smaller than PNG and JPG"}),"\n",(0,n.jsx)(s.td,{children:"iOS compatibility is not good"}),"\n",(0,n.jsx)(s.td,{children:"Pixel images of almost any scene, and the hosting environment that supports WebP, should prefer WebP image format"}),"\n"]}),"\n",(0,n.jsxs)(s.tr,{children:["\n",(0,n.jsx)(s.td,{children:"SVG"}),"\n",(0,n.jsx)(s.td,{children:"Lossless format, no distortion, supports transparency"}),"\n",(0,n.jsx)(s.td,{children:"Not suitable for complex graphics"}),"\n",(0,n.jsx)(s.td,{children:"Suitable for vector graphics, suitable for icons"}),"\n"]}),"\n"]}),"\n"]})]})}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,i.ah)(),e.components);return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(r,{...e})}):r(e)}let o=a;a.__RSPRESS_PAGE_META={},a.__RSPRESS_PAGE_META["en%2Fguide%2Fbasic%2Fstatic-assets.mdx"]={toc:[{text:"Assets Format",id:"assets-format",depth:2},{text:"Import Assets in JS file",id:"import-assets-in-js-file",depth:2},{text:"URL assets",id:"url-assets",depth:3},{text:"Import Assets in CSS file",id:"import-assets-in-css-file",depth:2},{text:"Import Results",id:"import-results",depth:2},{text:"Output Files",id:"output-files",depth:2},{text:"URL Prefix",id:"url-prefix",depth:2},{text:"Public Folder",id:"public-folder",depth:2},{text:"How to reference",id:"how-to-reference",depth:3},{text:"Notes",id:"notes",depth:3},{text:"Custom Behavior",id:"custom-behavior",depth:3},{text:"Type Declaration",id:"type-declaration",depth:2},{text:"Extend Asset Types",id:"extend-asset-types",depth:2},{text:"Use `source.assetsInclude`",id:"use-sourceassetsinclude",depth:3},{text:"Use `tools.rspack`",id:"use-toolsrspack",depth:3},{text:"Related Configurations",id:"related-configurations",depth:3},{text:"Custom Rules",id:"custom-rules",depth:2},{text:"Image Format",id:"image-format",depth:2}],title:"Import Static Assets",frontmatter:{}}}}]);