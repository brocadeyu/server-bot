"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["5857"],{15851:function(e,s,n){n.r(s),n.d(s,{default:function(){return c}});var h=n(55367),a=n(26971);function i(e){let s=Object.assign({h1:"h1",a:"a",ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",pre:"pre"},(0,a.ah)(),e.components);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(s.h1,{id:"outputfilenamehash",children:["output.filenameHash",(0,h.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#outputfilenamehash",children:"#"})]}),"\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsxs)(s.li,{children:[(0,h.jsx)(s.strong,{children:"类型："})," ",(0,h.jsx)(s.code,{children:"boolean | string"})]}),"\n",(0,h.jsxs)(s.li,{children:[(0,h.jsx)(s.strong,{children:"默认值："})," ",(0,h.jsx)(s.code,{children:"true"})]}),"\n"]}),"\n",(0,h.jsx)(s.p,{children:"在生产模式构建后，是否在产物的文件名中添加 hash 值。"}),"\n",(0,h.jsxs)(s.h3,{id:"禁用-hash",children:["禁用 hash",(0,h.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#禁用-hash",children:"#"})]}),"\n",(0,h.jsx)(s.p,{children:"默认情况下，构建后的产物名称会包含 hash 值："}),"\n",(0,h.jsx)(s.pre,{children:(0,h.jsx)(s.code,{className:"language-bash",children:"dist/static/css/index.7879e19d.css\ndist/static/js/index.18a568e5.js\n"})}),"\n",(0,h.jsxs)(s.p,{children:["你可以将 ",(0,h.jsx)(s.code,{children:"output.filenameHash"})," 设置为 false 来禁用这个行为："]}),"\n",(0,h.jsx)(s.pre,{children:(0,h.jsx)(s.code,{className:"language-js",children:"export default {\n  output: {\n    filenameHash: false,\n  },\n};\n"})}),"\n",(0,h.jsx)(s.p,{children:"重新构建后，产物的名称变为："}),"\n",(0,h.jsx)(s.pre,{children:(0,h.jsx)(s.code,{className:"language-bash",children:"dist/static/css/index.css\ndist/static/js/index.js\n"})}),"\n",(0,h.jsxs)(s.h3,{id:"hash-格式",children:["hash 格式",(0,h.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#hash-格式",children:"#"})]}),"\n",(0,h.jsxs)(s.p,{children:["hash 的默认格式为 ",(0,h.jsx)(s.code,{children:"contenthash:8"}),"，即基于文件内容生成 8 位 hash。"]}),"\n",(0,h.jsxs)(s.p,{children:["你可以将 ",(0,h.jsx)(s.code,{children:"output.filenameHash"})," 设置为 Rspack 支持的其他格式，并自定义长度。"]}),"\n",(0,h.jsx)(s.pre,{children:(0,h.jsx)(s.code,{className:"language-js",children:"export default {\n  output: {\n    filenameHash: 'fullhash:16',\n  },\n};\n"})}),"\n",(0,h.jsx)(s.p,{children:"可选的 hash 格式为："}),"\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsxs)(s.li,{children:[(0,h.jsx)(s.code,{children:"fullhash"}),"：整个编译过程的哈希值，如果任何一个文件发生变动，整个项目的所有输出文件的哈希值都会改变"]}),"\n",(0,h.jsxs)(s.li,{children:[(0,h.jsx)(s.code,{children:"chunkhash"}),"：chunk 的哈希值，如果 chunk 内容（及其包含的模块）发生改变，哈希值才会改变。"]}),"\n",(0,h.jsxs)(s.li,{children:[(0,h.jsx)(s.code,{children:"contenthash"}),"：文件内容的哈希值，只有当文件本身的内容发生变更时，哈希值才会改变。"]}),"\n"]}),"\n",(0,h.jsxs)(s.h3,{id:"注意事项",children:["注意事项",(0,h.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项",children:"#"})]}),"\n",(0,h.jsxs)(s.ul,{children:["\n",(0,h.jsxs)(s.li,{children:[(0,h.jsx)(s.a,{href:"/config/output/filename",children:"output.filename"})," 的优先级高于 ",(0,h.jsx)(s.code,{children:"output.filenameHash"}),"。"]}),"\n",(0,h.jsxs)(s.li,{children:["默认情况下，当 target 不是 ",(0,h.jsx)(s.code,{children:"web"})," 时，产物的文件名不会包含 hash，比如 Node.js 产物。"]}),"\n",(0,h.jsx)(s.li,{children:"默认情况下，开发模式构建产物的文件名不会包含 hash。"}),"\n"]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,a.ah)(),e.components);return s?(0,h.jsx)(s,{...e,children:(0,h.jsx)(i,{...e})}):i(e)}let c=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["zh%2Fconfig%2Foutput%2Ffilename-hash.mdx"]={toc:[{text:"禁用 hash",id:"禁用-hash",depth:3},{text:"hash 格式",id:"hash-格式",depth:3},{text:"注意事项",id:"注意事项",depth:3}],title:"output.filenameHash",frontmatter:{}}}}]);