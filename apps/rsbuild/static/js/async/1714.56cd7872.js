"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["1714"],{1227:function(e,n,s){s.r(n),s.d(n,{default:function(){return t}});var r=s(55367),o=s(26971);function a(e){let n=Object.assign({h1:"h1",a:"a",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",div:"div",h2:"h2"},(0,o.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"outputsourcemap",children:["output.sourceMap",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputsourcemap",children:"#"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type SourceMap =\n  | boolean\n  | {\n      js?: Rspack.Configuration['devtool'];\n      css?: boolean;\n    };\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"const defaultSourceMap = {\n  js: mode === 'development' ? 'cheap-module-source-map' : false,\n  css: false,\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:"Used to set whether to generate source map files, and which format of source map to generate."}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"What is a source map"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsx)(n.p,{children:"Source map is an information file that saves the source code mapping relationship. It records each location of the compiled code and the corresponding pre-compilation location. With source map, you can directly view the source code when debugging the compiled code."})})]}),"\n",(0,r.jsxs)(n.h2,{id:"default-behavior",children:["Default Behavior",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-behavior",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"By default, the source map generation rules for Rsbuild are as follows:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"In development mode, source maps for JS files are generated for development debugging, while source maps for CSS files are not generated."}),"\n",(0,r.jsx)(n.li,{children:"In production mode, no source maps for JS and CSS files are generated to improve build performance."}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"boolean-value",children:["Boolean value",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#boolean-value",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["If ",(0,r.jsx)(n.code,{children:"output.sourceMap"})," is ",(0,r.jsx)(n.code,{children:"true"}),", the source map will be generated according to the ",(0,r.jsx)(n.a,{href:"/config/mode",children:"mode"}),", equivalent to:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    sourceMap: {\n      js: mode === 'development' ? 'cheap-module-source-map' : 'source-map',\n      css: true,\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If ",(0,r.jsx)(n.code,{children:"output.sourceMap"})," is ",(0,r.jsx)(n.code,{children:"false"}),", no source map will be generated, equivalent to:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    sourceMap: {\n      js: false,\n      css: false,\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"js-source-map",children:["JS Source Map",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#js-source-map",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["The source map for JS files is controlled by ",(0,r.jsx)(n.code,{children:"sourceMap.js"})," and can be configured by passing in all the source map formats supported by Rspack's ",(0,r.jsx)(n.a,{href:"https://rspack.dev/config/devtool",target:"_blank",rel:"noopener noreferrer",children:"devtool"})," option. Setting it to ",(0,r.jsx)(n.code,{children:"false"})," will disable the source map."]}),"\n",(0,r.jsx)(n.p,{children:"For example, if you need to generate high-quality source maps in all environments, you can set it as follows:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    sourceMap: {\n      js: 'source-map',\n    },\n  },\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can also set different source map formats based on the environment."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    sourceMap: {\n      js:\n        process.env.NODE_ENV === 'production'\n          ? // Use a high quality source map format for production\n            'source-map'\n          : // Use a more performant source map format for development\n            'cheap-module-source-map',\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"css-source-map",children:["CSS Source Map",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#css-source-map",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["The source map for CSS files is controlled by ",(0,r.jsx)(n.code,{children:"sourceMap.css"}),". Setting it to ",(0,r.jsx)(n.code,{children:"true"})," will enable the source map, while setting it to ",(0,r.jsx)(n.code,{children:"false"})," will disable it."]}),"\n",(0,r.jsx)(n.p,{children:"For example, if you need to generate a source map for CSS files, you can set it as follows:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    sourceMap: {\n      css: true,\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.p,{children:["In production builds, it is not recommended to enable both ",(0,r.jsx)(n.a,{href:"/config/output/inject-styles",children:"output.injectStyles"})," and ",(0,r.jsx)(n.code,{children:"output.sourceMap.css"}),", as ",(0,r.jsx)(n.code,{children:"output.injectStyles"})," will inject the source map into the JS bundles, which will increase the file size and slow down the page loading speed."]}),"\n",(0,r.jsx)(n.p,{children:"You can only enable the CSS file source map in the development mode:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    injectStyles: true,\n    sourceMap: {\n      css: process.env.NODE_ENV === 'development',\n    },\n  },\n};\n"})})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}let t=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fconfig%2Foutput%2Fsource-map.mdx"]={toc:[{text:"Default Behavior",id:"default-behavior",depth:2},{text:"Boolean value",id:"boolean-value",depth:2},{text:"JS Source Map",id:"js-source-map",depth:2},{text:"CSS Source Map",id:"css-source-map",depth:2}],title:"output.sourceMap",frontmatter:{}}}}]);