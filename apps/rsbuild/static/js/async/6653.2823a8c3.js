"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["6653"],{44352:function(n,e,o){o.r(e),o.d(e,{default:function(){return c}});var r=o(55367),s=o(26971);function i(n){let e=Object.assign({h1:"h1",a:"a",p:"p",code:"code",blockquote:"blockquote",ul:"ul",li:"li",strong:"strong",pre:"pre",h2:"h2"},(0,s.ah)(),n.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"environments",children:["environments",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#environments",children:"#"})]}),"\n",(0,r.jsxs)(e.p,{children:["Rsbuild supports building outputs for multiple environments. You can use ",(0,r.jsx)(e.code,{children:"environments"})," to define different Rsbuild configurations for each environment."]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Please refer to ",(0,r.jsx)(e.a,{href:"/guide/advanced/environments",children:"Multi-Environment Builds"})," for more information."]}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"Type:"})}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",children:"interface EnvironmentConfig {\n  plugins?: RsbuildPlugins;\n  dev?: Pick<\n    DevConfig,\n    'hmr' | 'assetPrefix' | 'progressBar' | 'lazyCompilation' | 'writeToDisk'\n  >;\n  html?: HtmlConfig;\n  tools?: ToolsConfig;\n  source?: SourceConfig;\n  output?: OutputConfig;\n  resolve?: ResolveConfig;\n  security?: SecurityConfig;\n  performance?: PerformanceConfig;\n  moduleFederation?: ModuleFederationConfig;\n}\n\ntype Environments = {\n  [name: string]: EnvironmentConfig;\n};\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Default:"})," ",(0,r.jsx)(e.code,{children:"undefined"})]}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"example",children:["Example",(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,r.jsxs)(e.p,{children:["Configure Rsbuild configuration for ",(0,r.jsx)(e.code,{children:"web"})," (client) and ",(0,r.jsx)(e.code,{children:"node"})," (SSR) environments:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  // Shared configuration for all environments\n  resolve: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n  environments: {\n    // configuration for client\n    web: {\n      source: {\n        entry: {\n          index: './src/index.client.js',\n        },\n      },\n      output: {\n        target: 'web',\n      },\n      resolve: {\n        alias: {\n          '@common1': './src/web/common1',\n        },\n      },\n    },\n    // configuration for SSR\n    node: {\n      source: {\n        entry: {\n          index: './src/index.server.js',\n        },\n      },\n      output: {\n        target: 'node',\n      },\n      resolve: {\n        alias: {\n          '@common1': './src/ssr/common1',\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(e.p,{children:["For the ",(0,r.jsx)(e.code,{children:"web"})," environment, the merged Rsbuild configuration is:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"const webConfig = {\n  source: {\n    entry: {\n      index: './src/index.client.js',\n    },\n  },\n  output: {\n    target: 'web',\n  },\n  resolve: {\n    alias: {\n      '@common': './src/common',\n      '@common1': './src/web/common1',\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(e.p,{children:["For the ",(0,r.jsx)(e.code,{children:"node"})," environment, the merged Rsbuild configuration is:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-js",children:"const nodeConfig = {\n  source: {\n    entry: {\n      index: './src/index.server.js',\n    },\n  },\n  output: {\n    target: 'node',\n  },\n  resolve: {\n    alias: {\n      '@common': './src/common',\n      '@common1': './src/ssr/common1',\n    },\n  },\n};\n"})})]})}function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,s.ah)(),n.components);return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(i,{...n})}):i(n)}let c=t;t.__RSPRESS_PAGE_META={},t.__RSPRESS_PAGE_META["en%2Fconfig%2Fenvironments.mdx"]={toc:[{text:"Example",id:"example",depth:2}],title:"environments",frontmatter:{}}}}]);