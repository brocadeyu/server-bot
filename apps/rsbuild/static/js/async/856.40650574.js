"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["856"],{11802:function(e,n,i){i.r(n),i.d(n,{default:function(){return t}});var s=i(55367),o=i(26971);function r(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3",div:"div",ul:"ul",li:"li"},(0,o.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"cli",children:["CLI",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#cli",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["Rsbuild comes with a lightweight CLI that includes commands such as ",(0,s.jsx)(n.a,{href:"#rsbuild-dev",children:"rsbuild dev"})," and ",(0,s.jsx)(n.a,{href:"#rsbuild-build",children:"rsbuild build"}),"."]}),"\n",(0,s.jsxs)(n.h2,{id:"rsbuild--h",children:["rsbuild -h",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rsbuild--h",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"To view all available CLI commands, run the following command in the project directory:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npx rsbuild -h\n"})}),"\n",(0,s.jsx)(n.p,{children:"The output is shown below:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"Usage: rsbuild <command> [options]\n\nOptions:\n  -V, --version      output the version number\n  -h, --help         display help for command\n\nCommands:\n  dev [options]      starting the dev server\n  build [options]    build the app for production\n  preview [options]  preview the production build locally\n  inspect [options]  inspect the Rspack and Rsbuild configs\n  help [command]     display help for command\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"rsbuild-dev",children:["rsbuild dev",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rsbuild-dev",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"rsbuild dev"})," command is used to start a local dev server and compile the source code for development."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Usage: rsbuild dev [options]\n\nOptions:\n  -c --config <config>  specify the configuration file, can be a relative or absolute path\n  -r --root <root>      specify the project root directory, can be an absolute path or a path relative to cwd\n  -m --mode <mode>      specify the build mode, can be `development`, `production` or `none`\n  -o, --open [url]      open the page in browser on startup\n  --port <port>         specify a port number for Rsbuild Server to listen\n  --host <host>         specify the host that the Rsbuild Server listens to\n  --env-mode <mode>     specify the env mode to load the `.env.[mode]` file\n  --env-dir <dir>       specify the directory to load `.env` files\n  --environment <name>  specify the name of environment to build\n  -h, --help            display help for command\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"opening-page",children:["Opening Page",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#opening-page",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"--open"})," option allows you to automatically open a page when starting the dev server, which is equivalent to setting ",(0,s.jsx)(n.a,{href:"/config/server/open",children:"server.open"})," to ",(0,s.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"rsbuild dev --open\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"--open"})," option also supports specifying the URL to be opened, for example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"rsbuild dev --open http://localhost:3000/foo\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"--open"})," option can also be abbreviated to ",(0,s.jsx)(n.code,{children:"-o"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"rsbuild dev -o\n"})}),"\n",(0,s.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,s.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,s.jsx)(n.div,{className:"rspress-directive-content",children:(0,s.jsxs)(n.p,{children:["When using ",(0,s.jsx)(n.a,{href:"/config/server/open",children:"server.open"})," and ",(0,s.jsx)(n.code,{children:"--open"})," at the same time, ",(0,s.jsx)(n.code,{children:"--open"})," takes precedence.\n"]})})]}),"\n",(0,s.jsxs)(n.h2,{id:"rsbuild-build",children:["rsbuild build",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rsbuild-build",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"rsbuild build"})," command will build the outputs for production in the ",(0,s.jsx)(n.code,{children:"dist/"})," directory by default."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Usage: rsbuild build [options]\n\nOptions:\n  -c --config <config>  specify the configuration file, can be a relative or absolute path\n  -r --root <root>      specify the project root directory, can be an absolute path or a path relative to cwd\n  -m --mode <mode>      specify the build mode, can be `development`, `production` or `none`\n  -w --watch            turn on watch mode, watch for changes and rebuild\n  --env-mode <mode>     specify the env mode to load the `.env.[mode]` file\n  --env-dir <dir>       specify the directory to load `.env` files\n  --environment <name>  specify the name of environment to build\n  -h, --help            display help for command\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"rsbuild-preview",children:["rsbuild preview",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rsbuild-preview",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"rsbuild preview"})," command is used to preview the production build outputs locally. Note that you need to execute the ",(0,s.jsx)(n.code,{children:"rsbuild build"})," command beforehand to generate the build outputs."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"Usage: rsbuild preview [options]\n\nOptions:\n  -c --config <config>  specify the configuration file, can be a relative or absolute path\n  -r --root <root>      specify the project root directory, can be an absolute path or a path relative to cwd\n  -m --mode <mode>      specify the build mode, can be `development`, `production` or `none`\n  -o, --open [url]      open the page in browser on startup\n  --port <port>         specify a port number for Rsbuild Server to listen\n  --host <host>         specify the host that the Rsbuild Server listens to\n  --env-mode <mode>     specify the env mode to load the `.env.[mode]` file\n  --env-dir <dir>       specify the directory to load `.env` files\n  --environment <name>  specify the name of environment to build\n  -h, --help            display help for command\n"})}),"\n",(0,s.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,s.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,s.jsx)(n.div,{className:"rspress-directive-content",children:(0,s.jsx)(n.p,{children:"The preview command is only used for local preview. Do not use it for production servers, as it is not designed for that."})})]}),"\n",(0,s.jsxs)(n.h2,{id:"rsbuild-inspect",children:["rsbuild inspect",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rsbuild-inspect",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"rsbuild inspect"})," command is used to view the Rsbuild config and Rspack config of the project."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'Usage: rsbuild inspect [options]\n\nOptions:\n  -c --config <config>  specify the configuration file, can be a relative or absolute path\n  -r --root <root>      specify the project root directory, can be an absolute path or a path relative to cwd\n  -m --mode <mode>      specify the build mode, can be `development`, `production` or `none`\n  --output <output>     specify the path to output in the dist (default: ".rsbuild")\n  --verbose             show the full function in the result\n  --env-mode <mode>     specify the env mode to load the `.env.[mode]` file\n  --env-dir <dir>       specify the directory to load `.env` files\n  --environment <name>  specify the name of environment to build\n  -h, --help            show command help\n'})}),"\n",(0,s.jsxs)(n.p,{children:["When you run the command ",(0,s.jsx)(n.code,{children:"npx rsbuild inspect"})," in the project root directory, the following files will be generated in the ",(0,s.jsx)(n.code,{children:"dist/.rsbuild"})," directory of the project:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"rsbuild.config.mjs"}),": Represents the Rsbuild configuration used during the build."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"rspack.config.web.mjs"}),": Represents the Rspack configuration used during the build."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"➜ npx rsbuild inspect\n\nInspect config succeed, open following files to view the content:\n\n  - Rsbuild Config: /project/dist/.rsbuild/rsbuild.config.mjs\n  - Rspack Config (web): /project/dist/.rsbuild/rspack.config.web.mjs\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"specifying-mode",children:["Specifying Mode",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#specifying-mode",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["By default, the inspect command outputs the configuration for the development mode. You can add the ",(0,s.jsx)(n.code,{children:"--env production"})," option to output the configuration for the production mode:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"rsbuild inspect --mode production\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"verbose-content",children:["Verbose content",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#verbose-content",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["By default, the inspect command omits the content of functions in the configuration object. You can add the ",(0,s.jsx)(n.code,{children:"--verbose"})," option to output the complete content of functions:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"rsbuild inspect --verbose\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"multiple-targets",children:["Multiple Targets",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#multiple-targets",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["If the current project has multiple build targets, such as building browser artifact and Node.js artifact simultaneously, multiple Rspack configuration files will be generated in the ",(0,s.jsx)(n.code,{children:"dist/.rsbuild"})," directory."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"➜ npx rsbuild inspect\n\nInspect config succeed, open following files to view the content:\n\n  - Rsbuild Config (web): /project/dist/.rsbuild/rsbuild.config.web.mjs\n  - Rsbuild Config (node): /project/dist/.rsbuild/rsbuild.config.node.mjs\n  - Rspack Config (web): /project/dist/.rsbuild/rspack.config.web.mjs\n  - Rspack Config (node): /project/dist/.rsbuild/rspack.config.node.mjs\n"})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,o.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}let t=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["en%2Fguide%2Fbasic%2Fcli.mdx"]={toc:[{text:"rsbuild -h",id:"rsbuild--h",depth:2},{text:"rsbuild dev",id:"rsbuild-dev",depth:2},{text:"Opening Page",id:"opening-page",depth:3},{text:"rsbuild build",id:"rsbuild-build",depth:2},{text:"rsbuild preview",id:"rsbuild-preview",depth:2},{text:"rsbuild inspect",id:"rsbuild-inspect",depth:2},{text:"Specifying Mode",id:"specifying-mode",depth:3},{text:"Verbose content",id:"verbose-content",depth:3},{text:"Multiple Targets",id:"multiple-targets",depth:3}],title:"CLI",frontmatter:{}}}}]);