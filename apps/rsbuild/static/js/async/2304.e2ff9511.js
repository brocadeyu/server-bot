"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["2304"],{9136:function(e,s,n){n.r(s),n.d(s,{default:function(){return c}});var i=n(55367),d=n(26971);function r(e){let s=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",h2:"h2"},(0,d.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.h1,{id:"开启调试模式",children:["开启调试模式",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#开启调试模式",children:"#"})]}),"\n",(0,i.jsxs)(s.p,{children:["为了便于排查问题，Rsbuild 提供了调试模式，你可以在执行构建时添加 ",(0,i.jsx)(s.code,{children:"DEBUG=rsbuild"})," 环境变量来开启 Rsbuild 的调试模式。"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# 调试开发模式\nDEBUG=rsbuild pnpm dev\n\n# 调试生产模式\nDEBUG=rsbuild pnpm build\n"})}),"\n",(0,i.jsx)(s.p,{children:"在调试模式下，Rsbuild 会输出一些额外的日志信息，并将内部最终生成的 Rsbuild 配置和 Rspack 配置写入到产物目录下，便于开发者查看和调试。"}),"\n",(0,i.jsxs)(s.h2,{id:"日志信息",children:["日志信息",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#日志信息",children:"#"})]}),"\n",(0,i.jsxs)(s.p,{children:["在调试模式下，你会看到 terminal 中输出了一些以 ",(0,i.jsx)(s.code,{children:"rsbuild"})," 开头的日志，包括 Rsbuild 内部执行的操作、当前使用的 Rspack 版本等。"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"$ DEBUG=rsbuild pnpm dev\n\n  ...\n  rsbuild init plugins\n  rsbuild init plugins done\n  rsbuild Use Rspack v1.0.0\n  ...\n"})}),"\n",(0,i.jsx)(s.p,{children:"此外，terminal 中还会输出以下日志，表示 Rsbuild 将内部生成的构建配置写入到磁盘中，此时你可以打开这些配置文件来查看相应的内容。"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"Inspect config succeed, open following files to view the content:\n\n  - Rsbuild Config: /Project/demo/dist/.rsbuild/rsbuild.config.mjs\n  - Rspack Config (web): /Project/demo/dist/.rsbuild/rspack.config.web.mjs\n"})}),"\n",(0,i.jsxs)(s.h2,{id:"rsbuild-配置文件",children:["Rsbuild 配置文件",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#rsbuild-配置文件",children:"#"})]}),"\n",(0,i.jsxs)(s.p,{children:["在调试模式下，Rsbuild 会自动生成 ",(0,i.jsx)(s.code,{children:"dist/.rsbuild/rsbuild.config.mjs"})," 文件，这里面包含了最终生成的 Rsbuild 配置。在这个文件里，你可以了解到你传入的 Rsbuild 配置在经过框架层和 Rsbuild 处理后的最终结果。"]}),"\n",(0,i.jsx)(s.p,{children:"该文件的大致结构如下："}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",meta:'title="rsbuild.config.mjs"',children:"export default {\n  dev: {\n    // some configs...\n  },\n  source: {\n    // some configs...\n  },\n  // other configs...\n};\n"})}),"\n",(0,i.jsxs)(s.p,{children:["关于 Rsbuild 配置项的完整介绍，请查看 ",(0,i.jsx)(s.a,{href:"/guide/basic/configure-rsbuild",children:"配置 Rsbuild"})," 章节。"]}),"\n",(0,i.jsxs)(s.h2,{id:"rspack-配置文件",children:["Rspack 配置文件",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#rspack-配置文件",children:"#"})]}),"\n",(0,i.jsxs)(s.p,{children:["在调试模式下，Rsbuild 还会自动生成 ",(0,i.jsx)(s.code,{children:"dist/.rsbuild/rspack.config.web.mjs"})," 文件，这里面包含了最终生成的 Rspack 配置。在这个文件里，你可以了解到 Rsbuild 最终传递给 Rspack 的配置里包含了哪些内容。"]}),"\n",(0,i.jsx)(s.p,{children:"该文件的大致结构如下："}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",meta:'title="rspack.config.web.mjs"',children:"export default {\n  resolve: {\n    // some resolve configs...\n  },\n  module: {\n    // some Rspack loaders...\n  },\n  plugins: [\n    // some Rspack plugins...\n  ],\n  // other configs...\n};\n"})}),"\n",(0,i.jsxs)(s.p,{children:["关于 Rspack 配置项的完整介绍，请查看 ",(0,i.jsx)(s.a,{href:"https://rspack.dev/zh/config",target:"_blank",rel:"noopener noreferrer",children:"Rspack 官方文档"}),"。"]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,d.ah)(),e.components);return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(r,{...e})}):r(e)}let c=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["zh%2Fguide%2Fdebug%2Fdebug-mode.mdx"]={toc:[{text:"日志信息",id:"日志信息",depth:2},{text:"Rsbuild 配置文件",id:"rsbuild-配置文件",depth:2},{text:"Rspack 配置文件",id:"rspack-配置文件",depth:2}],title:"开启调试模式",frontmatter:{}}}}]);