"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["8563"],{61672:function(e,n,s){s.r(n),s.d(n,{default:function(){return c}});var r=s(55367),l=s(26971);function i(e){let n=Object.assign({h1:"h1",a:"a",blockquote:"blockquote",p:"p",img:"img",h2:"h2",code:"code",ul:"ul",li:"li",pre:"pre"},(0,l.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"announcing-rsbuild-02",children:["Announcing Rsbuild 0.2",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#announcing-rsbuild-02",children:"#"})]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"December 11, 2023"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"https://assets.rspack.dev/rsbuild/rsbuild-banner-v0-2.png",alt:""})}),"\n",(0,r.jsx)(n.p,{children:"The Rsbuild 0.2 contains some incompatible API changes. Please refer to the current documentation for upgrading."}),"\n",(0,r.jsxs)(n.h2,{id:"targets",children:["Targets",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#targets",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["We will move the ",(0,r.jsx)(n.code,{children:"target"})," option of ",(0,r.jsx)(n.code,{children:"createRsbuild"})," to rsbuild config, this change allows user to configure ",(0,r.jsx)(n.code,{children:"targets"})," in the rsbuild config file."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"before:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const rsbuild = await createRsbuild({\n  target: ['web', 'node'],\n});\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"after:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// rsbuild.config.ts\nexport default {\n  output: {\n    targets: ['web', 'node'],\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Only affect JavaScript API. Users using the Rsbuild CLI do not need to change."}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"entry",children:["Entry",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entry",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["Remove the deprecated ",(0,r.jsx)(n.code,{children:"source.entries"})," config."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"source.entries"})," has been renamed to ",(0,r.jsx)(n.code,{children:"source.entry"})," since Rsbuild 0.1.0, and we will remove the legacy ",(0,r.jsx)(n.code,{children:"source.entries"})," config in Rsbuild v0.2.0."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"before:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// rsbuild.config.ts\nexport default {\n  source: {\n    entries: {},\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"after:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// rsbuild.config.ts\nexport default {\n  source: {\n    entry: {},\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"write-to-disk",children:["Write to Disk",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#write-to-disk",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"dev.writeToDisk"})," defaults to ",(0,r.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Motivation:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Reduce fs overhead and improve dev server performance."}),"\n",(0,r.jsxs)(n.li,{children:["Avoid trigger watcher of UnoCSS and other tools. See ",(0,r.jsx)(n.a,{href:"https://github.com/web-infra-dev/rsbuild/issues/654",target:"_blank",rel:"noopener noreferrer",children:"#654"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Align the default behavior with webpack-dev-middleware and other community dev servers."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"User can enable writeToDisk manually:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    writeToDisk: true,\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"babel-plugin",children:["Babel Plugin",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#babel-plugin",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"@rsbuild/plugin-babel"})," will move all babel-loader options to ",(0,r.jsx)(n.code,{children:"babelLoaderOptions"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"before:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"pluginBabel({\n  plugins: [],\n  presets: [],\n});\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"after:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"pluginBabel([\n  babelLoaderOptions: {\n    plugins: [],\n    presets: [],\n  }\n]);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This change allows us to add more options for ",(0,r.jsx)(n.code,{children:"pluginBabel"}),", such as ",(0,r.jsx)(n.code,{children:"include"})," and ",(0,r.jsx)(n.code,{children:"exclude"}),"."]}),"\n",(0,r.jsxs)(n.h2,{id:"source-map",children:["Source Map",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#source-map",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"output.disableSourceMap"})," has been renamed to ",(0,r.jsx)(n.code,{children:"output.sourceMap"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"before:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSourceMap: {\n      js: true,\n      css: true,\n    },\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"after:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    sourceMap: {\n      js: false,\n      css: false,\n    },\n  },\n};\n"})}),"\n",(0,r.jsx)(n.p,{children:"The default value of source map has also been updated to improve build performance."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"before: generate JS / CSS source map in development, generate JS source map in production."}),"\n",(0,r.jsx)(n.li,{children:"after: generate JS source map in development, no source map are generated in production."}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"inject-styles",children:["Inject Styles",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#inject-styles",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["Rename ",(0,r.jsx)(n.code,{children:"output.disableCssExtract"})," to ",(0,r.jsx)(n.code,{children:"output.injectStyles"})," to be clearer:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"before:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableCssExtract: true,\n  },\n};\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"after:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    injectStyles: true,\n  },\n};\n"})})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,l.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}let c=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["en%2Fcommunity%2Freleases%2Fv0-2.mdx"]={toc:[{text:"Targets",id:"targets",depth:2},{text:"Entry",id:"entry",depth:2},{text:"Write to Disk",id:"write-to-disk",depth:2},{text:"Babel Plugin",id:"babel-plugin",depth:2},{text:"Source Map",id:"source-map",depth:2},{text:"Inject Styles",id:"inject-styles",depth:2}],title:"Announcing Rsbuild 0.2",frontmatter:{published_at:"2023-12-11T08:00:00.000Z"}}}}]);