"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["908"],{19325:function(e,n,i){i.r(n),i.d(n,{default:function(){return s}});var l=i(55367),t=i(26971);function a(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",h2:"h2",code:"code",pre:"pre"},(0,t.ah)(),e.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.h1,{id:"hot-module-replacement",children:["Hot Module Replacement",(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hot-module-replacement",children:"#"})]}),"\n",(0,l.jsx)(n.p,{children:"Hot Module Replacement (HMR) exchanges, adds, or removes modules while an application is running, without a full reload. This can significantly speed up development in a few ways:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Retain application state which is lost during a full reload."}),"\n",(0,l.jsx)(n.li,{children:"Save valuable development time by only updating what's changed."}),"\n",(0,l.jsx)(n.li,{children:"Instantly update the browser when modifications are made to CSS / JS in the source code, which is almost comparable to changing styles directly in the browser's dev tools."}),"\n"]}),"\n",(0,l.jsxs)(n.h2,{id:"hmr-toggle",children:["HMR Toggle",(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hmr-toggle",children:"#"})]}),"\n",(0,l.jsx)(n.p,{children:"Rsbuild has built-in support for HMR, which is enabled by default in development mode."}),"\n",(0,l.jsxs)(n.p,{children:["If you do not need to use HMR, you can set ",(0,l.jsx)(n.a,{href:"/config/dev/hmr",children:"dev.hmr"})," to ",(0,l.jsx)(n.code,{children:"false"}),". This will disable HMR and react-refresh will, and Rsbuild will automatically fallback to ",(0,l.jsx)(n.a,{href:"/config/dev/live-reload",children:"dev.liveReload"}),"."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  dev: {\n    hmr: false,\n  },\n};\n"})}),"\n",(0,l.jsxs)(n.p,{children:["If you need to disable both HMR and liveReload, you can set both ",(0,l.jsx)(n.a,{href:"/config/dev/hmr",children:"dev.hmr"})," and ",(0,l.jsx)(n.a,{href:"/config/dev/live-reload",children:"dev.liveReload"})," to ",(0,l.jsx)(n.code,{children:"false"}),". Then, no Web Socket requests will be made to the dev server on the page, and the page will not automatically refresh when files change."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",meta:'title="rsbuild.config.ts"',children:"export default {\n  dev: {\n    hmr: false,\n    liveReload: false,\n  },\n};\n"})}),"\n",(0,l.jsxs)(n.h2,{id:"specify-hmr-url",children:["Specify HMR URL",(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#specify-hmr-url",children:"#"})]}),"\n",(0,l.jsx)(n.p,{children:"By default, Rsbuild uses the host and port number of the current page to splice the WebSocket URL for HMR."}),"\n",(0,l.jsxs)(n.p,{children:["When the HMR connection fails, you can specify the WebSocket URL by customizing ",(0,l.jsx)(n.a,{href:"/config/dev/client",children:"dev.client"})," config."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  dev: {\n    client: {\n      host: 'localhost',\n      protocol: 'ws',\n    },\n  },\n};\n"})}),"\n",(0,l.jsxs)(n.h2,{id:"file-watching",children:["File Watching",(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#file-watching",children:"#"})]}),"\n",(0,l.jsxs)(n.p,{children:["By default, Rsbuild does not watching files in the ",(0,l.jsx)(n.code,{children:".git/"})," and ",(0,l.jsx)(n.code,{children:"node_modules/"})," directories. When files in these directories changed, Rsbuild will not trigger a rebuild. This helps to reduce memory usage and improve build performance."]}),"\n",(0,l.jsxs)(n.p,{children:["If you want to watch these directories, you can manually configure Rspack's ",(0,l.jsx)(n.a,{href:"https://rspack.dev/config/watch#watchoptionsignored",target:"_blank",rel:"noopener noreferrer",children:"watchOptions.ignored"})," to override the default behavior."]}),"\n",(0,l.jsxs)(n.p,{children:["For example, to watch the ",(0,l.jsx)(n.code,{children:"node_modules/"})," directory and ignore the ",(0,l.jsx)(n.code,{children:".git/"})," directory, you can configure it as follows:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",meta:'title="rsbuild.config.ts"',children:"export default {\n  tools: {\n    rspack: {\n      watchOptions: {\n        ignored: /\\.git/,\n      },\n    },\n  },\n};\n"})}),"\n",(0,l.jsxs)(n.h2,{id:"faq",children:["FAQ",(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#faq",children:"#"})]}),"\n",(0,l.jsxs)(n.p,{children:["Please refer to ",(0,l.jsx)(n.a,{href:"/guide/faq/hmr",children:"HMR FAQ"}),"."]})]})}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}let s=r;r.__RSPRESS_PAGE_META={},r.__RSPRESS_PAGE_META["en%2Fguide%2Fadvanced%2Fhmr.mdx"]={toc:[{text:"HMR Toggle",id:"hmr-toggle",depth:2},{text:"Specify HMR URL",id:"specify-hmr-url",depth:2},{text:"File Watching",id:"file-watching",depth:2},{text:"FAQ",id:"faq",depth:2}],title:"Hot Module Replacement",frontmatter:{}}}}]);