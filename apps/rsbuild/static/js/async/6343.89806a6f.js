"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["6343"],{60593:function(e,n,i){i.r(n),i.d(n,{default:function(){return d}});var s=i(55367),r=i(26971);function l(e){let n=Object.assign({h1:"h1",a:"a",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",blockquote:"blockquote",h2:"h2",h3:"h3",div:"div"},(0,r.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.h1,{id:"serverpublicdir",children:["server.publicDir",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#serverpublicdir",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"type PublicDirOptions = {\n  name?: string;\n  copyOnBuild?: boolean;\n  watch?: boolean;\n};\ntype PublicDir = false | PublicDirOptions | PublicDirOptions[];\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const defaultValue = {\n  name: 'public',\n  copyOnBuild: true,\n};\n"})}),"\n",(0,s.jsxs)(n.p,{children:["By default, Rsbuild will use the ",(0,s.jsx)(n.code,{children:"public"})," directory as the directory for serving public assets, files in this directory will be served at ",(0,s.jsx)(n.a,{href:"/config/server/base",children:"server.base"})," path (default ",(0,s.jsx)(n.code,{children:"/"}),")."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Related document: ",(0,s.jsx)(n.a,{href:"/guide/basic/static-assets#public-folder",children:"Public Folder"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"options",children:["Options",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#options",children:"#"})]}),"\n",(0,s.jsxs)(n.h3,{id:"name",children:["name",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#name",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type:"})," ",(0,s.jsx)(n.code,{children:"string"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Default:"})," ",(0,s.jsx)(n.code,{children:"'public'"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The name of the public directory. The value of ",(0,s.jsx)(n.code,{children:"name"})," can be set to a relative path or an absolute path. Relative path will be resolved relative to the project root directory."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Relative path example:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"export default {\n  server: {\n    publicDir: {\n      name: '../some-public',\n    },\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Absolute path example:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import path from 'node:path';\n\nexport default {\n  server: {\n    publicDir: {\n      name: path.join(__dirname, '../some-public'),\n    },\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"copyonbuild",children:["copyOnBuild",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#copyonbuild",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type:"})," ",(0,s.jsx)(n.code,{children:"boolean"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Default:"})," ",(0,s.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Whether to copy files from the publicDir to the distDir on production build."}),"\n",(0,s.jsxs)(n.p,{children:["For example, disable ",(0,s.jsx)(n.code,{children:"copyOnBuild"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"export default {\n  server: {\n    publicDir: {\n      copyOnBuild: false,\n    },\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Note that setting the value of ",(0,s.jsx)(n.code,{children:"copyOnBuild"})," to false means that when you run ",(0,s.jsx)(n.code,{children:"rsbuild preview"})," for a production preview, you will not be able to access the corresponding static resources."]}),"\n",(0,s.jsxs)(n.div,{className:"rspress-directive tip",children:[(0,s.jsx)(n.div,{className:"rspress-directive-title",children:"TIP"}),(0,s.jsx)(n.div,{className:"rspress-directive-content",children:(0,s.jsxs)(n.p,{children:["During dev builds, if you need to copy some static assets to the output directory, you can use the ",(0,s.jsx)(n.a,{href:"/config/output/copy",children:"output.copy"})," option instead.\n"]})})]}),"\n",(0,s.jsxs)(n.h3,{id:"watch",children:["watch",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#watch",children:"#"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type:"})," ",(0,s.jsx)(n.code,{children:"boolean"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Default:"})," ",(0,s.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Whether to watch the public directory and reload the page when the files change."}),"\n",(0,s.jsxs)(n.p,{children:["Setting ",(0,s.jsx)(n.code,{children:"watch"})," to ",(0,s.jsx)(n.code,{children:"true"})," allows the dev server to watch changes to files in the specified public directory and reload the page when the files are changed:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"export default {\n  server: {\n    publicDir: {\n      watch: true,\n    },\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Note that the ",(0,s.jsx)(n.code,{children:"watch"})," option is only valid in development mode. If ",(0,s.jsx)(n.a,{href:"/config/dev/hmr",children:"dev.hmr"})," and ",(0,s.jsx)(n.a,{href:"/config/dev/live-reload",children:"dev.liveReload"})," are both set to false, ",(0,s.jsx)(n.code,{children:"watch"})," will be ignored."]}),"\n",(0,s.jsxs)(n.h2,{id:"multiple-directories",children:["Multiple Directories",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#multiple-directories",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"server.publicDir"})," can be configured as an array, allowing you to serve multiple directories as static assets folders:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"export default {\n  server: {\n    publicDir: [\n      {\n        name: 'public',\n      },\n      {\n        name: 'assets',\n        watch: false,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"disabled",children:["Disabled",(0,s.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disabled",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["You can set ",(0,s.jsx)(n.code,{children:"publicDir"})," to ",(0,s.jsx)(n.code,{children:"false"})," to disable the static assets serving:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"export default {\n  server: {\n    publicDir: false,\n  },\n};\n"})})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}let d=c;c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["en%2Fconfig%2Fserver%2Fpublic-dir.mdx"]={toc:[{text:"Options",id:"options",depth:2},{text:"name",id:"name",depth:3},{text:"copyOnBuild",id:"copyonbuild",depth:3},{text:"watch",id:"watch",depth:3},{text:"Multiple Directories",id:"multiple-directories",depth:2},{text:"Disabled",id:"disabled",depth:2}],title:"server.publicDir",frontmatter:{}}}}]);