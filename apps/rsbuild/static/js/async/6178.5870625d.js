"use strict";(self.webpackChunkrsbuild_website=self.webpackChunkrsbuild_website||[]).push([["6178"],{87348:function(e,r,n){n.r(r),n.d(r,{default:function(){return d}});var s=n(55367),l=n(26971);function t(e){let r=Object.assign({h1:"h1",a:"a",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h2:"h2",h3:"h3"},(0,l.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.h1,{id:"serverprinturls",children:["server.printUrls",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#serverprinturls",children:"#"})]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.strong,{children:"类型："})}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",children:"type Routes = Array<{\n  entryName: string;\n  pathname: string;\n}>;\n\ntype PrintUrls =\n  | boolean\n  | ((params: {\n      urls: string[];\n      port: number;\n      routes: Routes;\n      protocol: string;\n    }) => string[] | void);\n"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"默认值："})," ",(0,s.jsx)(r.code,{children:"true"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"是否输出 server 的 URL 地址。"}),"\n",(0,s.jsx)(r.p,{children:"默认情况下，当你启动 dev server 或 preview server 后，Rsbuild 会输出以下日志信息："}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"  ➜ Local:    http://localhost:3000\n  ➜ Network:  http://192.168.0.1:3000\n"})}),"\n",(0,s.jsxs)(r.h2,{id:"自定义日志",children:["自定义日志",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义日志",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.code,{children:"server.printUrls"})," 可以设置为一个函数，函数的入参包括 ",(0,s.jsx)(r.code,{children:"port"}),"，",(0,s.jsx)(r.code,{children:"protocol"}),"、",(0,s.jsx)(r.code,{children:"urls"})," 和 ",(0,s.jsx)(r.code,{children:"routes"}),"。"]}),"\n",(0,s.jsxs)(r.h3,{id:"修改-url",children:["修改 URL",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#修改-url",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["如果 ",(0,s.jsx)(r.code,{children:"printUrls"})," 函数返回了一组新的 URLs，那么 Rsbuild 将会把这组 URLs 按照默认格式输出到 terminal："]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  server: {\n    printUrls({ urls }) {\n      return urls.map((url) => `${url}/base/`);\n    },\n  },\n};\n"})}),"\n",(0,s.jsx)(r.p,{children:"输出为："}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"  ➜ Local:    http://localhost:3000/base/\n  ➜ Network:  http://192.168.0.1:3000/base/\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"完全自定义",children:["完全自定义",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#完全自定义",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["如果 ",(0,s.jsx)(r.code,{children:"printUrls"})," 函数没有返回值，Rsbuild 将不会输出 server 的 URL 地址，你可以基于入参来自定义日志内容，并自行输出到 terminal。"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  server: {\n    printUrls({ urls, port, protocol }) {\n      console.log(urls); // ['http://localhost:3000', 'http://192.168.0.1:3000']\n      console.log(port); // 3000\n      console.log(protocol); // 'http' or 'https'\n    },\n  },\n};\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"多页面输出",children:["多页面输出",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#多页面输出",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["如果当前项目包含多个页面，你可以基于 ",(0,s.jsx)(r.code,{children:"routes"})," 参数，为每个页面单独输出一份 URL。"]}),"\n",(0,s.jsxs)(r.p,{children:["比如项目包含 ",(0,s.jsx)(r.code,{children:"index"})," 和 ",(0,s.jsx)(r.code,{children:"detail"})," 两个页面时，routes 的内容如下："]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  server: {\n    printUrls({ routes }) {\n      /**\n       * [\n       *   { entryName: 'index', pathname: '/' },\n       *   { entryName: 'detail', pathname: '/detail' }\n       * ]\n       */\n      console.log(routes);\n    },\n  },\n};\n"})}),"\n",(0,s.jsxs)(r.h2,{id:"禁用输出",children:["禁用输出",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#禁用输出",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["将 ",(0,s.jsx)(r.code,{children:"server.printUrls"})," 设置为 ",(0,s.jsx)(r.code,{children:"false"}),"，Rsbuild 将不会输出 server 的 URL 地址。"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  server: {\n    printUrls: false,\n  },\n};\n"})}),"\n",(0,s.jsxs)(r.h3,{id:"禁用-html",children:["禁用 HTML",(0,s.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#禁用-html",children:"#"})]}),"\n",(0,s.jsxs)(r.p,{children:["当 ",(0,s.jsx)(r.a,{href:"/config/tools/html-plugin",children:"tools.htmlPlugin"})," 被设置为 ",(0,s.jsx)(r.code,{children:"false"})," 时，Rsbuild 不会生成 HTML 文件，也不会输出 server 的 URL 地址。"]}),"\n",(0,s.jsxs)(r.p,{children:["但你仍然可以通过 ",(0,s.jsx)(r.code,{children:"server.printUrls"})," 函数来输出 URL 地址，它具有更高的优先级。"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"export default {\n  tools: {\n    htmlPlugin: false,\n  },\n  server: {\n    printUrls: ({ port }) => [`http://localhost:${port}`],\n  },\n};\n"})}),"\n",(0,s.jsx)(r.p,{children:"输出："}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{children:"  ➜ Local:    http://localhost:3000\n"})})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,l.ah)(),e.components);return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}let d=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["zh%2Fconfig%2Fserver%2Fprint-urls.mdx"]={toc:[{text:"自定义日志",id:"自定义日志",depth:2},{text:"修改 URL",id:"修改-url",depth:3},{text:"完全自定义",id:"完全自定义",depth:3},{text:"多页面输出",id:"多页面输出",depth:3},{text:"禁用输出",id:"禁用输出",depth:2},{text:"禁用 HTML",id:"禁用-html",depth:3}],title:"server.printUrls",frontmatter:{}}}}]);