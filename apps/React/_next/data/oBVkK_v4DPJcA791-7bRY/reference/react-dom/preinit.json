{"pageProps":{"toc":"[{\"url\":\"#\",\"text\":\"Overview\",\"depth\":2},{\"url\":\"#reference\",\"depth\":2,\"text\":\"Reference \"},{\"url\":\"#preinit\",\"depth\":3,\"text\":[[\"$r\",\"code\",null,{\"children\":\"preinit(href, options)\"}],\" \"]},{\"url\":\"#usage\",\"depth\":2,\"text\":\"Usage \"},{\"url\":\"#preiniting-when-rendering\",\"depth\":3,\"text\":\"Preiniting when rendering \"},{\"url\":\"#preiniting-in-an-event-handler\",\"depth\":3,\"text\":\"Preiniting in an event handler \"}]","content":"[[\"$r\",\"MaxWidth\",\"40\",{\"children\":[[\"$r\",\"Note\",null,{\"children\":[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"a\",null,{\"href\":\"/learn/start-a-new-react-project\",\"children\":\"React-based frameworks\"}],\" frequently handle resource loading for you, so you might not have to call this API yourself. Consult your framework’s documentation for details.\"]}]}],\"\\n\",[\"$r\",\"Intro\",null,{\"children\":[[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"preinit\"}],\" lets you eagerly fetch and evaluate a stylesheet or external script.\"]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"preinit(\\\"https://example.com/script.js\\\", {as: \\\"script\\\"});\\n\"}]}]]}],\"\\n\",[\"$r\",\"InlineToc\",null,{}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"reference\",\"children\":\"Reference \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"preinit\",\"children\":[[\"$r\",\"code\",null,{\"children\":\"preinit(href, options)\"}],\" \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"To preinit a script or stylesheet, call the \",[\"$r\",\"code\",null,{\"children\":\"preinit\"}],\" function from \",[\"$r\",\"code\",null,{\"children\":\"react-dom\"}],\".\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { preinit } from 'react-dom';\\n\\nfunction AppRoot() {\\n  preinit(\\\"https://example.com/script.js\\\", {as: \\\"script\\\"});\\n  // ...\\n}\\n\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"a\",null,{\"href\":\"#usage\",\"children\":\"See more examples below.\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"The \",[\"$r\",\"code\",null,{\"children\":\"preinit\"}],\" function provides the browser with a hint that it should start downloading and executing the given resource, which can save time. Scripts that you \",[\"$r\",\"code\",null,{\"children\":\"preinit\"}],\" are executed when they finish downloading. Stylesheets that you preinit are inserted into the document, which causes them to go into effect right away.\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"parameters\",\"children\":\"Parameters \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"href\"}],\": a string. The URL of the resource you want to download and execute.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"options\"}],\": an object. It contains the following properties:\",\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"as\"}],\": a required string. The type of resource. Its possible values are \",[\"$r\",\"code\",null,{\"children\":\"script\"}],\" and \",[\"$r\",\"code\",null,{\"children\":\"style\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"precedence\"}],\": a string. Required with stylesheets. Says where to insert the stylesheet relative to others. Stylesheets with higher precedence can override those with lower precedence. The possible values are \",[\"$r\",\"code\",null,{\"children\":\"reset\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"low\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"medium\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"high\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"crossOrigin\"}],\": a string. The \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/crossorigin\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"CORS policy\"}],\" to use. Its possible values are \",[\"$r\",\"code\",null,{\"children\":\"anonymous\"}],\" and \",[\"$r\",\"code\",null,{\"children\":\"use-credentials\"}],\". It is required when \",[\"$r\",\"code\",null,{\"children\":\"as\"}],\" is set to \",[\"$r\",\"code\",null,{\"children\":\"\\\"fetch\\\"\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"integrity\"}],\": a string. A cryptographic hash of the resource, to \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"verify its authenticity\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"nonce\"}],\": a string. A cryptographic \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"nonce to allow the resource\"}],\" when using a strict Content Security Policy.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"fetchPriority\"}],\": a string. Suggests a relative priority for fetching the resource. The possible values are \",[\"$r\",\"code\",null,{\"children\":\"auto\"}],\" (the default), \",[\"$r\",\"code\",null,{\"children\":\"high\"}],\", and \",[\"$r\",\"code\",null,{\"children\":\"low\"}],\".\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"returns\",\"children\":\"Returns \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"preinit\"}],\" returns nothing.\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"caveats\",\"children\":\"Caveats \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"Multiple calls to \",[\"$r\",\"code\",null,{\"children\":\"preinit\"}],\" with the same \",[\"$r\",\"code\",null,{\"children\":\"href\"}],\" have the same effect as a single call.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"In the browser, you can call \",[\"$r\",\"code\",null,{\"children\":\"preinit\"}],\" in any situation: while rendering a component, in an Effect, in an event handler, and so on.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"In server-side rendering or when rendering Server Components, \",[\"$r\",\"code\",null,{\"children\":\"preinit\"}],\" only has an effect if you call it while rendering a component or in an async context originating from rendering a component. Any other calls will be ignored.\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"usage\",\"children\":\"Usage \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"preiniting-when-rendering\",\"children\":\"Preiniting when rendering \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"Call \",[\"$r\",\"code\",null,{\"children\":\"preinit\"}],\" when rendering a component if you know that it or its children will use a specific resource, and you’re OK with the resource being evaluated and thereby taking effect immediately upon being downloaded.\"]}],\"\\n\"]}],[\"$r\",\"Recipes\",null,{\"titleText\":\"Examples of preiniting\",\"children\":[[\"$r\",\"h4\",null,{\"id\":\"preiniting-an-external-script\",\"children\":\"Preiniting an external script \"}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { preinit } from 'react-dom';\\n\\nfunction AppRoot() {\\n  preinit(\\\"https://example.com/script.js\\\", {as: \\\"script\\\"});\\n  return ...;\\n}\\n\"}]}],[\"$r\",\"p\",null,{\"children\":[\"If you want the browser to download the script but not to execute it right away, use \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/preload\",\"children\":[\"$r\",\"code\",null,{\"children\":\"preload\"}]}],\" instead. If you want to load an ESM module, use \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/preinitModule\",\"children\":[\"$r\",\"code\",null,{\"children\":\"preinitModule\"}]}],\".\"]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"preiniting-a-stylesheet\",\"children\":\"Preiniting a stylesheet \"}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { preinit } from 'react-dom';\\n\\nfunction AppRoot() {\\n  preinit(\\\"https://example.com/style.css\\\", {as: \\\"style\\\", precedence: \\\"medium\\\"});\\n  return ...;\\n}\\n\"}]}],[\"$r\",\"p\",null,{\"children\":[\"The \",[\"$r\",\"code\",null,{\"children\":\"precedence\"}],\" option, which is required, lets you control the order of stylesheets within the document. Stylesheets with higher precedence can overrule those with lower precedence.\"]}],[\"$r\",\"p\",null,{\"children\":[\"If you want to download the stylesheet but not to insert it into the document right away, use \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/preload\",\"children\":[\"$r\",\"code\",null,{\"children\":\"preload\"}]}],\" instead.\"]}],[\"$r\",\"Solution\",null,{}]]}],[\"$r\",\"MaxWidth\",\"last\",{\"children\":[\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"preiniting-in-an-event-handler\",\"children\":\"Preiniting in an event handler \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"Call \",[\"$r\",\"code\",null,{\"children\":\"preinit\"}],\" in an event handler before transitioning to a page or state where external resources will be needed. This gets the process started earlier than if you call it during the rendering of the new page or state.\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { preinit } from 'react-dom';\\n\\nfunction CallToAction() {\\n  const onClick = () => {\\n    preinit(\\\"https://example.com/wizardStyles.css\\\", {as: \\\"style\\\"});\\n    startWizard();\\n  }\\n  return (\\n    <button onClick={onClick}>Start Wizard</button>\\n  );\\n}\\n\"}]}]]}]]","meta":{"title":"preinit"},"languages":null},"__N_SSG":true}