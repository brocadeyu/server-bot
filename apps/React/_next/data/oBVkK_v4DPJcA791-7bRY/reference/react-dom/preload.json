{"pageProps":{"toc":"[{\"url\":\"#\",\"text\":\"Overview\",\"depth\":2},{\"url\":\"#reference\",\"depth\":2,\"text\":\"Reference \"},{\"url\":\"#preload\",\"depth\":3,\"text\":[[\"$r\",\"code\",null,{\"children\":\"preload(href, options)\"}],\" \"]},{\"url\":\"#usage\",\"depth\":2,\"text\":\"Usage \"},{\"url\":\"#preloading-when-rendering\",\"depth\":3,\"text\":\"Preloading when rendering \"},{\"url\":\"#preloading-in-an-event-handler\",\"depth\":3,\"text\":\"Preloading in an event handler \"}]","content":"[[\"$r\",\"MaxWidth\",\"40\",{\"children\":[[\"$r\",\"Note\",null,{\"children\":[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"a\",null,{\"href\":\"/learn/start-a-new-react-project\",\"children\":\"React-based frameworks\"}],\" frequently handle resource loading for you, so you might not have to call this API yourself. Consult your framework’s documentation for details.\"]}]}],\"\\n\",[\"$r\",\"Intro\",null,{\"children\":[[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"preload\"}],\" lets you eagerly fetch a resource such as a stylesheet, font, or external script that you expect to use.\"]}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"preload(\\\"https://example.com/font.woff2\\\", {as: \\\"font\\\"});\\n\"}]}]]}],\"\\n\",[\"$r\",\"InlineToc\",null,{}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"reference\",\"children\":\"Reference \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"preload\",\"children\":[[\"$r\",\"code\",null,{\"children\":\"preload(href, options)\"}],\" \"]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"To preload a resource, call the \",[\"$r\",\"code\",null,{\"children\":\"preload\"}],\" function from \",[\"$r\",\"code\",null,{\"children\":\"react-dom\"}],\".\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { preload } from 'react-dom';\\n\\nfunction AppRoot() {\\n  preload(\\\"https://example.com/font.woff2\\\", {as: \\\"font\\\"});\\n  // ...\\n}\\n\\n\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"$r\",\"a\",null,{\"href\":\"#usage\",\"children\":\"See more examples below.\"}]}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"The \",[\"$r\",\"code\",null,{\"children\":\"preload\"}],\" function provides the browser with a hint that it should start downloading the given resource, which can save time.\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"parameters\",\"children\":\"Parameters \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"href\"}],\": a string. The URL of the resource you want to download.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"options\"}],\": an object. It contains the following properties:\",\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"as\"}],\": a required string. The type of resource. Its \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#as\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"possible values\"}],\" are \",[\"$r\",\"code\",null,{\"children\":\"audio\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"document\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"embed\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"fetch\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"font\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"image\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"object\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"script\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"style\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"track\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"video\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"worker\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"crossOrigin\"}],\": a string. The \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/crossorigin\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"CORS policy\"}],\" to use. Its possible values are \",[\"$r\",\"code\",null,{\"children\":\"anonymous\"}],\" and \",[\"$r\",\"code\",null,{\"children\":\"use-credentials\"}],\". It is required when \",[\"$r\",\"code\",null,{\"children\":\"as\"}],\" is set to \",[\"$r\",\"code\",null,{\"children\":\"\\\"fetch\\\"\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"referrerPolicy\"}],\": a string. The \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#referrerpolicy\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"Referrer header\"}],\" to send when fetching. Its possible values are \",[\"$r\",\"code\",null,{\"children\":\"no-referrer-when-downgrade\"}],\" (the default), \",[\"$r\",\"code\",null,{\"children\":\"no-referrer\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"origin\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"origin-when-cross-origin\"}],\", and \",[\"$r\",\"code\",null,{\"children\":\"unsafe-url\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"integrity\"}],\": a string. A cryptographic hash of the resource, to \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"verify its authenticity\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"type\"}],\": a string. The MIME type of the resource.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"nonce\"}],\": a string. A cryptographic \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"nonce to allow the resource\"}],\" when using a strict Content Security Policy.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"fetchPriority\"}],\": a string. Suggests a relative priority for fetching the resource. The possible values are \",[\"$r\",\"code\",null,{\"children\":\"auto\"}],\" (the default), \",[\"$r\",\"code\",null,{\"children\":\"high\"}],\", and \",[\"$r\",\"code\",null,{\"children\":\"low\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"imageSrcSet\"}],\": a string. For use only with \",[\"$r\",\"code\",null,{\"children\":\"as: \\\"image\\\"\"}],\". Specifies the \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"source set of the image\"}],\".\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"imageSizes\"}],\": a string. For use only with \",[\"$r\",\"code\",null,{\"children\":\"as: \\\"image\\\"\"}],\". Specifies the \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"sizes of the image\"}],\".\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"returns\",\"children\":\"Returns \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[[\"$r\",\"code\",null,{\"children\":\"preload\"}],\" returns nothing.\"]}],\"\\n\",[\"$r\",\"h4\",null,{\"id\":\"caveats\",\"children\":\"Caveats \"}],\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"Multiple equivalent calls to \",[\"$r\",\"code\",null,{\"children\":\"preload\"}],\" have the same effect as a single call. Calls to \",[\"$r\",\"code\",null,{\"children\":\"preload\"}],\" are considered equivalent according to the following rules:\",\"\\n\",[\"$r\",\"ul\",null,{\"children\":[\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"Two calls are equivalent if they have the same \",[\"$r\",\"code\",null,{\"children\":\"href\"}],\", except:\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"If \",[\"$r\",\"code\",null,{\"children\":\"as\"}],\" is set to \",[\"$r\",\"code\",null,{\"children\":\"image\"}],\", two calls are equivalent if they have the same \",[\"$r\",\"code\",null,{\"children\":\"href\"}],\", \",[\"$r\",\"code\",null,{\"children\":\"imageSrcSet\"}],\", and \",[\"$r\",\"code\",null,{\"children\":\"imageSizes\"}],\".\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"In the browser, you can call \",[\"$r\",\"code\",null,{\"children\":\"preload\"}],\" in any situation: while rendering a component, in an Effect, in an event handler, and so on.\"]}],\"\\n\",[\"$r\",\"li\",null,{\"children\":[\"In server-side rendering or when rendering Server Components, \",[\"$r\",\"code\",null,{\"children\":\"preload\"}],\" only has an effect if you call it while rendering a component or in an async context originating from rendering a component. Any other calls will be ignored.\"]}],\"\\n\"]}],\"\\n\",[\"$r\",\"hr\",null,{}],\"\\n\",[\"$r\",\"h2\",null,{\"id\":\"usage\",\"children\":\"Usage \"}],\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"preloading-when-rendering\",\"children\":\"Preloading when rendering \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"Call \",[\"$r\",\"code\",null,{\"children\":\"preload\"}],\" when rendering a component if you know that it or its children will use a specific resource.\"]}],\"\\n\"]}],[\"$r\",\"Recipes\",null,{\"titleText\":\"Examples of preloading\",\"children\":[[\"$r\",\"h4\",null,{\"id\":\"preloading-an-external-script\",\"children\":\"Preloading an external script \"}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { preload } from 'react-dom';\\n\\nfunction AppRoot() {\\n  preload(\\\"https://example.com/script.js\\\", {as: \\\"script\\\"});\\n  return ...;\\n}\\n\"}]}],[\"$r\",\"p\",null,{\"children\":[\"If you want the browser to start executing the script immediately (rather than just downloading it), use \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/preinit\",\"children\":[\"$r\",\"code\",null,{\"children\":\"preinit\"}]}],\" instead. If you want to load an ESM module, use \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/preloadModule\",\"children\":[\"$r\",\"code\",null,{\"children\":\"preloadModule\"}]}],\".\"]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"preloading-a-stylesheet\",\"children\":\"Preloading a stylesheet \"}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { preload } from 'react-dom';\\n\\nfunction AppRoot() {\\n  preload(\\\"https://example.com/style.css\\\", {as: \\\"style\\\"});\\n  return ...;\\n}\\n\"}]}],[\"$r\",\"p\",null,{\"children\":[\"If you want the stylesheet to be inserted into the document immediately (which means the browser will start parsing it immediately rather than just downloading it), use \",[\"$r\",\"a\",null,{\"href\":\"/reference/react-dom/preinit\",\"children\":[\"$r\",\"code\",null,{\"children\":\"preinit\"}]}],\" instead.\"]}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"preloading-a-font\",\"children\":\"Preloading a font \"}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { preload } from 'react-dom';\\n\\nfunction AppRoot() {\\n  preload(\\\"https://example.com/style.css\\\", {as: \\\"style\\\"});\\n  preload(\\\"https://example.com/font.woff2\\\", {as: \\\"font\\\"});\\n  return ...;\\n}\\n\"}]}],[\"$r\",\"p\",null,{\"children\":\"If you preload a stylesheet, it’s smart to also preload any fonts that the stylesheet refers to. That way, the browser can start downloading the font before it’s downloaded and parsed the stylesheet.\"}],[\"$r\",\"Solution\",null,{}],[\"$r\",\"h4\",null,{\"id\":\"preloading-an-image\",\"children\":\"Preloading an image \"}],[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { preload } from 'react-dom';\\n\\nfunction AppRoot() {\\n  preload(\\\"/banner.png\\\", {\\n    as: \\\"image\\\",\\n    imageSrcSet: \\\"/banner512.png 512w, /banner1024.png 1024w\\\",\\n    imageSizes: \\\"(max-width: 512px) 512px, 1024px\\\",\\n  });\\n  return ...;\\n}\\n\"}]}],[\"$r\",\"p\",null,{\"children\":[\"When preloading an image, the \",[\"$r\",\"code\",null,{\"children\":\"imageSrcSet\"}],\" and \",[\"$r\",\"code\",null,{\"children\":\"imageSizes\"}],\" options help the browser \",[\"$r\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images\",\"target\":\"_blank\",\"rel\":\"nofollow noopener noreferrer\",\"children\":\"fetch the correctly sized image for the size of the screen\"}],\".\"]}],[\"$r\",\"Solution\",null,{}]]}],[\"$r\",\"MaxWidth\",\"last\",{\"children\":[\"\\n\",[\"$r\",\"h3\",null,{\"id\":\"preloading-in-an-event-handler\",\"children\":\"Preloading in an event handler \"}],\"\\n\",[\"$r\",\"p\",null,{\"children\":[\"Call \",[\"$r\",\"code\",null,{\"children\":\"preload\"}],\" in an event handler before transitioning to a page or state where external resources will be needed. This gets the process started earlier than if you call it during the rendering of the new page or state.\"]}],\"\\n\",[\"$r\",\"pre\",null,{\"children\":[\"$r\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { preload } from 'react-dom';\\n\\nfunction CallToAction() {\\n  const onClick = () => {\\n    preload(\\\"https://example.com/wizardStyles.css\\\", {as: \\\"style\\\"});\\n    startWizard();\\n  }\\n  return (\\n    <button onClick={onClick}>Start Wizard</button>\\n  );\\n}\\n\"}]}]]}]]","meta":{"title":"preload"},"languages":null},"__N_SSG":true}