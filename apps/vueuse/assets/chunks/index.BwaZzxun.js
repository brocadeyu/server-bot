import{d as m}from"./configurable.C7TV9RQd.js";import{u as s}from"./index.C2bU4x7s.js";import{u as c}from"./index.sHUUJ0RR.js";import{r as d}from"./vue.CliZxonC.js";function h(i={}){const{window:r=m,deep:f=!0,triggerOnRemoval:n=!1}=i,o=i.document??(r==null?void 0:r.document),l=()=>{var t;let e=o==null?void 0:o.activeElement;if(f)for(;e!=null&&e.shadowRoot;)e=(t=e==null?void 0:e.shadowRoot)==null?void 0:t.activeElement;return e},a=d(),u=()=>{a.value=l()};return r&&(s(r,"blur",e=>{e.relatedTarget===null&&u()},!0),s(r,"focus",u,!0)),n&&c(o,e=>{e.filter(t=>t.removedNodes.length).map(t=>Array.from(t.removedNodes)).flat().forEach(t=>{t===a.value&&u()})},{childList:!0,subtree:!0}),u(),a}export{h as u};
