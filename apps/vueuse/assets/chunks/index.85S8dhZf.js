import{u as g}from"./index.B0Xb53oQ.js";import{b as A}from"./index.BaH89Rsy.js";import{v as m,r as l}from"./vue.CliZxonC.js";import{n as v}from"./configurable.C7TV9RQd.js";function T(n,s,h){const{immediate:d=!0,delay:w=0,onError:p=v,onSuccess:y=v,resetOnExecute:x=!0,shallow:E=!0,throwError:L}=h??{},r=E?m(s):l(s),u=l(!1),a=l(!1),c=m(void 0);async function f(e=0,...o){x&&(r.value=s),c.value=void 0,u.value=!1,a.value=!0,e>0&&await A(e);const b=typeof n=="function"?n(...o):n;try{const t=await b;r.value=t,u.value=!0,y(t)}catch(t){if(c.value=t,p(t),L)throw t}finally{a.value=!1}return r.value}d&&f(w);const i={state:r,isReady:u,isLoading:a,error:c,execute:f};function R(){return new Promise((e,o)=>{g(a).toBe(!1).then(()=>e(i)).catch(o)})}return{...i,then(e,o){return R().then(e,o)}}}export{T as u};
