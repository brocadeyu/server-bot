import{t as l,h as v,d as h,a as w}from"./configurable.C7TV9RQd.js";import{u as O}from"./index.CFoihoJv.js";import{u as S}from"./index.BZhC5QYF.js";import{f as b,x as y}from"./vue.CliZxonC.js";function E(i,u,c={}){const{window:s=h,...p}=c;let t;const r=S(()=>s&&"MutationObserver"in s),n=()=>{t&&(t.disconnect(),t=void 0)},m=b(()=>{const e=l(i),o=(Array.isArray(e)?e:[e]).map(O).filter(v);return new Set(o)}),f=y(()=>m.value,e=>{n(),r.value&&e.size&&(t=new MutationObserver(u),e.forEach(o=>t.observe(o,p)))},{immediate:!0,flush:"post"}),d=()=>t==null?void 0:t.takeRecords(),a=()=>{f(),n()};return w(a),{isSupported:r,stop:a,takeRecords:d}}export{E as u};
