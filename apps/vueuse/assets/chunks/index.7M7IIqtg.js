import{t as g,h as x,n as o,d as y,a as A}from"./configurable.C7TV9RQd.js";import{u as s}from"./index.CFoihoJv.js";import{u as I}from"./index.BZhC5QYF.js";import{f as S,r as E,x as W}from"./vue.CliZxonC.js";function _(l,f,m={}){const{root:v,rootMargin:d="0px",threshold:h=0,window:n=y,immediate:a=!0}=m,u=I(()=>n&&"IntersectionObserver"in n),b=S(()=>{const t=g(l);return(Array.isArray(t)?t:[t]).map(s).filter(x)});let r=o;const e=E(a),w=u.value?W(()=>[b.value,s(v),e.value],([t,O])=>{if(r(),!e.value||!t.length)return;const c=new IntersectionObserver(f,{root:s(O),rootMargin:d,threshold:h});t.forEach(p=>p&&c.observe(p)),r=()=>{c.disconnect(),r=o}},{immediate:a,flush:"post"}):o,i=()=>{r(),w(),e.value=!1};return A(i),{isSupported:u,isActive:e,pause(){r(),e.value=!1},resume(){e.value=!0},stop:i}}export{_ as u};
