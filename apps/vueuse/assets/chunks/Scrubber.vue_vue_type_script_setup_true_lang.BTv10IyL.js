import{u as k}from"./index.C2bU4x7s.js";import{u as B}from"./index.CweokXA1.js";import{c as C}from"./index.RaJregKa.js";import{l as X}from"./configurable.C7TV9RQd.js";import{r as g,x,M as z,f as F,O as I,g as J,o as O,c as _,a as b,n as S,u as h,K as q,J as D}from"./vue.CliZxonC.js";function K(a,s,f,y={}){var w,N,E;const{clone:n=!1,passive:l=!1,eventName:o,deep:r=!1,defaultValue:u,shouldEmit:i}=y,e=I(),c=f||(e==null?void 0:e.emit)||((w=e==null?void 0:e.$emit)==null?void 0:w.bind(e))||((E=(N=e==null?void 0:e.proxy)==null?void 0:N.$emit)==null?void 0:E.bind(e==null?void 0:e.proxy));let d=o;d=d||`update:${s.toString()}`;const V=t=>n?typeof n=="function"?n(t):C(t):t,M=()=>X(a[s])?V(a[s]):u,$=t=>{i?i(t)&&c(d,t):c(d,t)};if(l){const t=M(),v=g(t);let m=!1;return x(()=>a[s],p=>{m||(m=!0,v.value=V(p),z(()=>m=!1))}),x(v,p=>{!m&&(p!==a[s]||r)&&$(p)},{deep:r}),v}else return F({get(){return M()},set(t){$(t)}})}const L={class:"relative overflow-hidden h-full w-full rounded"},G=J({__name:"Scrubber",props:{min:{type:Number,default:0},max:{type:Number,default:100},secondary:{type:Number,default:0},modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup(a,{emit:s}){const f=a,y=s,n=g(),l=g(!1),o=g(0);k("mouseup",()=>l.value=!1);const r=K(f,"modelValue",y),{elementX:u,elementWidth:i}=B(n);return x([l,u],()=>{const e=Math.max(0,Math.min(1,u.value/i.value));o.value=e*f.max,l.value&&(r.value=o.value)}),(e,c)=>(O(),_("div",{ref_key:"scrubber",ref:n,class:"relative h-2 rounded cursor-pointer select-none bg-black dark:bg-white dark:bg-opacity-10 bg-opacity-20",onMousedown:c[0]||(c[0]=d=>l.value=!0)},[b("div",L,[b("div",{class:"h-full absolute opacity-30 left-0 top-0 bg-emerald-700 w-full rounded",style:S({transform:`translateX(${a.secondary/a.max*100-100}%)`})},null,4),b("div",{class:"relative h-full w-full bg-emerald-500 rounded",style:S({transform:`translateX(${h(r)/a.max*100-100}%)`})},null,4)]),b("div",{class:D(["absolute inset-0 hover:opacity-100 opacity-0",{"!opacity-100":l.value}])},[q(e.$slots,"default",{pendingValue:o.value,position:`${Math.max(0,Math.min(h(u),h(i)))}px`})],2)],544))}});export{G as _};
