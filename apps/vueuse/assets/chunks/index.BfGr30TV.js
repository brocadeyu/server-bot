import{t as c,n as W,d as q}from"./configurable.C7TV9RQd.js";import{t as z}from"./index.BaP1Ew-9.js";import{u as B}from"./index.YaRFe_A9.js";import{u as G}from"./index.dnJP40w_.js";import{u as J}from"./index.CFoihoJv.js";import{u as C}from"./index.C2bU4x7s.js";import{r as y,f as F,y as I}from"./vue.CliZxonC.js";const M=1;function ot(i,V={}){const{throttle:b=0,idle:X=200,onStop:_=W,onScroll:P=W,offset:p={left:0,right:0,top:0,bottom:0},eventListenerOptions:g={capture:!1,passive:!0},behavior:Y="auto",window:n=q,onError:j=t=>{console.error(t)}}=V,u=y(0),f=y(0),E=F({get(){return u.value},set(t){L(t,void 0)}}),S=F({get(){return f.value},set(t){L(void 0,t)}});function L(t,e){var h,m;if(!n)return;const o=c(i);if(!o)return;(h=o instanceof Document?n.document.body:o)==null||h.scrollTo({top:c(e)??S.value,left:c(t)??E.value,behavior:c(Y)});const a=((m=o==null?void 0:o.document)==null?void 0:m.documentElement)||(o==null?void 0:o.documentElement)||o;E!=null&&(u.value=a.scrollLeft),S!=null&&(f.value=a.scrollTop)}const v=y(!1),l=I({left:!0,right:!1,top:!0,bottom:!1}),r=I({left:!1,right:!1,top:!1,bottom:!1}),D=t=>{v.value&&(v.value=!1,r.left=!1,r.right=!1,r.top=!1,r.bottom=!1,_(t))},k=B(D,b+X),T=t=>{var R;if(!n)return;const e=((R=t==null?void 0:t.document)==null?void 0:R.documentElement)||(t==null?void 0:t.documentElement)||J(t),{display:o,flexDirection:a,direction:h}=getComputedStyle(e),m=h==="rtl"?-1:1,d=e.scrollLeft;r.left=d<u.value,r.right=d>u.value;const H=d*m<=(p.left||0),w=d*m+e.clientWidth>=e.scrollWidth-(p.right||0)-M;o==="flex"&&a==="row-reverse"?(l.left=w,l.right=H):(l.left=H,l.right=w),u.value=d;let s=e.scrollTop;t===n.document&&!s&&(s=n.document.body.scrollTop),r.top=s<f.value,r.bottom=s>f.value;const A=s<=(p.top||0),O=s+e.clientHeight>=e.scrollHeight-(p.bottom||0)-M;o==="flex"&&a==="column-reverse"?(l.top=O,l.bottom=A):(l.top=A,l.bottom=O),f.value=s},x=t=>{if(!n)return;const e=t.target.documentElement??t.target;T(e),v.value=!0,k(t),P(t)};return C(i,"scroll",b?G(x,b,!0,!1):x,g),z(()=>{try{const t=c(i);if(!t)return;T(t)}catch(t){j(t)}}),C(i,"scrollend",D,g),{x:E,y:S,isScrolling:v,arrivedState:l,directions:r,measure(){const t=c(i);n&&t&&T(t)}}}export{ot as u};
