{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"share_target","mdn_url":"/en-US/docs/Web/Manifest/share_target","locale":"en-US","native":"English (US)","browserCompat":["html.manifest.share_target"],"baseline":{"baseline":false,"support":{"chrome":"89","chrome_android":"76","edge":"89"}},"sidebarHTML":"\n<ol><li><a href=\"/en-US/docs/Web/Manifest/background_color\">background_color</a></li><li><a href=\"/en-US/docs/Web/Manifest/categories\">categories</a></li><li><a href=\"/en-US/docs/Web/Manifest/description\">description</a></li><li><a href=\"/en-US/docs/Web/Manifest/display\">display</a></li><li><a href=\"/en-US/docs/Web/Manifest/display_override\">display_override</a></li><li><a href=\"/en-US/docs/Web/Manifest/file_handlers\">file_handlers</a></li><li><a href=\"/en-US/docs/Web/Manifest/icons\">icons</a></li><li><a href=\"/en-US/docs/Web/Manifest/id\">id</a></li><li><a href=\"/en-US/docs/Web/Manifest/launch_handler\">launch_handler</a></li><li><a href=\"/en-US/docs/Web/Manifest/name\">name</a></li><li><a href=\"/en-US/docs/Web/Manifest/orientation\">orientation</a></li><li><a href=\"/en-US/docs/Web/Manifest/prefer_related_applications\">prefer_related_applications</a></li><li><a href=\"/en-US/docs/Web/Manifest/protocol_handlers\">protocol_handlers</a></li><li><a href=\"/en-US/docs/Web/Manifest/related_applications\">related_applications</a></li><li><a href=\"/en-US/docs/Web/Manifest/scope\">scope</a></li><li><a href=\"/en-US/docs/Web/Manifest/screenshots\">screenshots</a></li><li><a href=\"/en-US/docs/Web/Manifest/serviceworker\">serviceworker</a></li><li><em><a href=\"/en-US/docs/Web/Manifest/share_target\" aria-current=\"page\">share_target</a></em></li><li><a href=\"/en-US/docs/Web/Manifest/short_name\">short_name</a></li><li><a href=\"/en-US/docs/Web/Manifest/shortcuts\">shortcuts</a></li><li><a href=\"/en-US/docs/Web/Manifest/start_url\">start_url</a></li><li><a href=\"/en-US/docs/Web/Manifest/theme_color\">theme_color</a></li></ol>\n","sidebarMacro":"QuickLinksWithSubpages","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\"><p><strong>Experimental:</strong> <strong>This is an <a href=\"/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental\">experimental technology</a></strong><br>Check the <a href=\"#browser_compatibility\">Browser compatibility table</a> carefully before using this in production.</p></div>\n<p>The <code>share_target</code> manifest member allows installed <a href=\"/en-US/docs/Glossary/Progressive_web_apps\">Progressive Web Apps</a> (PWAs) to be registered as a share target in the system's share dialog.</p>\n<p>Once registered and installed, a PWA that uses the Web Share Target API acts as a content sharing target, along with typical system share targets like email, messengers, and other native apps that can receive shared content.</p>\n<div class=\"notecard note\">\n  <p><strong>Note:</strong> If you want to share data using the Web Share API, see <a href=\"/en-US/docs/Web/API/Web_Share_API\">Web Share API</a> and <a href=\"/en-US/docs/Web/API/Navigator/share\"><code>navigator.share()</code></a>.</p>\n</div>"}},{"type":"prose","value":{"id":"values","title":"Values","isH3":true,"content":"<p>The value of the <code>share_target</code> member is an object that defines how an application can receive shared data. This object may contain the following properties (<code>action</code> and <code>params</code> are required):</p>\n<dl>\n  <dt id=\"action\"><a href=\"#action\"><code>action</code></a></dt>\n  <dd>\n    <p>The URL for the web share target.</p>\n  </dd>\n  <dt id=\"enctype\"><a href=\"#enctype\"><code>enctype</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>The encoding of the share data when a <a href=\"/en-US/docs/Web/HTTP/Methods/POST\"><code>POST</code></a> request is used. Ignored with <a href=\"/en-US/docs/Web/HTTP/Methods/GET\"><code>GET</code></a> requests.</p>\n  </dd>\n  <dt id=\"method\"><a href=\"#method\"><code>method</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>The <a href=\"/en-US/docs/Web/HTTP/Methods\">HTTP request method</a> to use. Either <a href=\"/en-US/docs/Web/HTTP/Methods/GET\"><code>GET</code></a> or <a href=\"/en-US/docs/Web/HTTP/Methods/POST\"><code>POST</code></a>. Use <code>POST</code> if the shared data includes binary data like image(s), or if it changes the target app, for example, if it creates a data point like a bookmark.</p>\n  </dd>\n  <dt id=\"params\"><a href=\"#params\"><code>params</code></a></dt>\n  <dd>\n    <p>An object to configure the share parameters. The object keys correspond to the <a href=\"/en-US/docs/Web/API/Navigator/share#parameters\"><code>data</code> object in <code>navigator.share()</code></a>. The object values can be specified and will be used as query parameters:</p>\n    <ul>\n      <li><code>title</code> <span class=\"badge inline optional\">Optional</span>: Name of the query parameter to use for the title of the document being shared.</li>\n      <li><code>text</code> <span class=\"badge inline optional\">Optional</span>: Name of the query parameter for the text (or body) of the message being shared.</li>\n      <li><code>url</code> <span class=\"badge inline optional\">Optional</span>: Name of the query parameter for the URL to the resource being shared.</li>\n      <li><code>files</code> <span class=\"badge inline optional\">Optional</span>: An object (or an array of objects) defining which files are accepted by the share target. The object requires the following properties:\n        <ul>\n          <li><code>name</code>: Name of the form field used to share files.</li>\n          <li><code>accept</code>: A string (or an array of strings) of accepted MIME types or file extensions.</li>\n        </ul>\n      </li>\n    </ul>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"receiving_share_data_using_get","title":"Receiving share data using GET","isH3":true,"content":"<p>A share target can be registered using the following <code>share_target</code> manifest member:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">json</span></div><pre class=\"brush: json notranslate\"><code>{\n  \"share_target\": {\n    \"action\": \"/shared-content-receiver/\",\n    \"method\": \"GET\",\n    \"params\": {\n      \"title\": \"name\",\n      \"text\": \"description\",\n      \"url\": \"link\"\n    }\n  }\n}\n</code></pre></div>\n<p>When a user selects your app in the system's share dialog, your PWA is launched, and a <code>GET</code> HTTP request is made to the provided URL including the specified query parameters. It will look like this: <code>/shared-content-receiver/?name=a+shared+name&amp;description=a+shared+description&amp;link=https%3A%2F%2Fexample.com%2F</code>.</p>\n<p>The <a href=\"/en-US/docs/Web/API/URLSearchParams\">URLSearchParams</a> interface can be useful to handle the shared data in your application and do something with it.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const sharedName = url.searchParams.get(\"name\");\nconst sharedDescription = url.searchParams.get(\"description\");\nconst sharedLink = url.searchParams.get(\"link\");\n</code></pre></div>"}},{"type":"prose","value":{"id":"receiving_share_data_using_post","title":"Receiving share data using POST","isH3":true,"content":"<p>If the share request includes one or multiple files or causes a side effect in your application, the HTTP <a href=\"/en-US/docs/Web/HTTP/Methods/POST\"><code>POST</code></a> method should be used. For example, if your application receives images for further processing or wants to save a shared link as a bookmark in your database.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">json</span></div><pre class=\"brush: json notranslate\"><code>{\n  \"share_target\": {\n    \"action\": \"/save-bookmark/\",\n    \"method\": \"POST\",\n    \"enctype\": \"multipart/form-data\",\n    \"params\": {\n      \"url\": \"link\"\n    }\n  }\n}\n</code></pre></div>\n<p>You can either handle <code>POST</code> share data using server-side code, or, to provide a better experience for offline users, a <code>fetch</code> event listener can be used to intercept the HTTP request which allows to access the data in a <a href=\"/en-US/docs/Web/API/Service_Worker_API\">service worker</a>.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>self.addEventListener(\"fetch\", (event) =&gt; {\n  // Regular requests not related to Web Share Target.\n  if (event.request.method !== \"POST\") {\n    event.respondWith(fetch(event.request));\n    return;\n  }\n\n  // Requests related to Web Share Target.\n  event.respondWith(\n    (async () =&gt; {\n      const formData = await event.request.formData();\n      const link = formData.get(\"link\") || \"\";\n      // Instead of the original URL `/save-bookmark/`, redirect\n      // the user to a URL returned by the `saveBookmark()`\n      // function, for example, `/`.\n      const responseUrl = await saveBookmark(link);\n      return Response.redirect(responseUrl, 303);\n    })(),\n  );\n});\n</code></pre></div>\n<p>The <code>POST</code> request is then ideally replied with an HTTP <a href=\"/en-US/docs/Web/HTTP/Status/303\">303 See Other</a> redirect to avoid multiple <code>POST</code> requests from being submitted if a page refresh was initiated by the user, for example.</p>"}},{"type":"prose","value":{"id":"receiving_shared_files","title":"Receiving shared files","isH3":true,"content":"<p>To accept shared files, the HTTP method must be <code>POST</code>, the <code>enctype</code> must be <code>multipart/form-data</code>, and a <code>files</code> entry defining the types of accepted files must be provided.</p>\n<p>Files must have a <code>name</code> property, and the <code>accept</code> property must specify accepted MIME types or file extensions. It's probably a good idea to define both, since operating systems might differ in which they prefer.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">json</span></div><pre class=\"brush: json notranslate\"><code>{\n  \"share_target\": {\n    \"action\": \"/file-collector\",\n    \"method\": \"POST\",\n    \"enctype\": \"multipart/form-data\",\n    \"params\": {\n      \"title\": \"name\",\n      \"text\": \"description\",\n      \"url\": \"link\",\n      \"files\": [\n        {\n          \"name\": \"lists\",\n          \"accept\": [\"text/csv\", \".csv\"]\n        },\n        {\n          \"name\": \"photos\",\n          \"accept\": [\"image/svg+xml\", \".svg\"]\n        }\n      ]\n    }\n  }\n}\n</code></pre></div>\n<p>To handle shared file data, see the <code>POST</code> example above and the <a href=\"/en-US/docs/Web/API/FileReader\"><code>FileReader</code></a> API to read the files. In order to get the files from the service worker context over to client contexts, one solution is to temporarily write the files to the <a href=\"/en-US/docs/Web/API/Cache\"><code>Cache</code></a> or <a href=\"/en-US/docs/Web/API/IndexedDB_API\">IndexedDB</a> and then notify its clients using <a href=\"/en-US/docs/Web/API/Client/postMessage\"><code>Client.postMessage()</code></a>.</p>"}},{"type":"prose","value":{"id":"security_privacy","title":"Security &amp; Privacy","isH3":false,"content":"<p>Your PWA can only act as a web share target if it has been installed. See also <a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/js13kGames/Installable_PWAs\">How to make PWAs installable</a>.</p>\n<p>Similar to HTML form submissions, you should be cautious about data that is sent to your application via the share target. Be sure to validate incoming data before using it.</p>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/web-share-target/#share_target-member","title":"Web Share Target API"}],"query":"html.manifest.share_target"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"html.manifest.share_target"}}],"toc":[{"text":"Examples","id":"examples"},{"text":"Security &amp; Privacy","id":"security_privacy"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The share_target manifest member allows installed Progressive Web Apps (PWAs) to be registered as a share target in the system's share dialog.","popularity":0.0041,"modified":null,"other_translations":[],"pageType":"web-manifest-member","source":{"folder":"en-us/web/manifest/share_target","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/manifest/share_target/index.md","last_commit_url":"https://github.com/mdn/content/commit/null","filename":"index.md"},"short_title":"share_target","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/Manifest","title":"Web app manifests"},{"uri":"/en-US/docs/Web/Manifest/share_target","title":"share_target"}],"pageTitle":"share_target - Web app manifests | MDN","noIndexing":false},"url":"/en-US/docs/Web/Manifest/share_target"}