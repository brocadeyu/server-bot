<html><head></head><body>
<p>The <strong><code>contain-intrinsic-size</code></strong> <a href="/en-US/docs/Web/CSS">CSS</a> <a href="/en-US/docs/Web/CSS/Shorthand_properties">shorthand property</a> sets the size of an element that a browser will use for layout when the element is subject to <a href="/en-US/docs/Web/CSS/CSS_containment/Using_CSS_containment#size_containment">size containment</a>.</p>
<h2 id="constituent_properties">Constituent properties</h2>
<p>This property is a shorthand for the following CSS properties:</p>
<ul>
  <li><a href="/en-US/docs/Web/CSS/contain-intrinsic-width"><code>contain-intrinsic-width</code></a></li>
  <li><a href="/en-US/docs/Web/CSS/contain-intrinsic-height"><code>contain-intrinsic-height</code></a></li>
</ul>
<h2 id="syntax">Syntax</h2>
<pre class="brush: css">/* Keyword values */
contain-intrinsic-size: none;

/* &lt;length&gt; values */
contain-intrinsic-size: 1000px;
contain-intrinsic-size: 10rem;

/* width | height */
contain-intrinsic-size: 1000px 1.5em;

/* auto &lt;length&gt; */
contain-intrinsic-size: auto 300px;
contain-intrinsic-size: auto none;

/* auto width | auto height */
contain-intrinsic-size: auto 300px auto 4rem;

/* Global values */
contain-intrinsic-size: inherit;
contain-intrinsic-size: initial;
contain-intrinsic-size: revert;
contain-intrinsic-size: revert-layer;
contain-intrinsic-size: unset;
</pre>
<h3 id="values">Values</h3>
<p>The following values may be specified for the <code>contain-intrinsic-size</code> property:</p>
<dl>
  <dt id="none"><a href="#none"><code>none</code></a></dt>
  <dd>
    <p>The element has no intrinsic size in the given dimension(s).</p>
  </dd>
  <dt id="length"><a href="#length"><code>&lt;length&gt;</code></a></dt>
  <dd>
    <p>The element has the specified <a href="/en-US/docs/Web/CSS/length"><code>&lt;length&gt;</code></a> in the given dimension(s).</p>
  </dd>
  <dt id="auto_length_none"><a href="#auto_length_none"><code>auto [&lt;length&gt; | none]</code></a></dt>
  <dd>
    <p>
      A remembered value of the "normally rendered" element size if one exists and the element is skipping its contents (for example, when it is offscreen); otherwise the specified <code>&lt;length&gt;</code>.
      The <code>none</code> keyword may be used in place of <code>&lt;length&gt;</code> where <code>0px</code> fixed lengths behave differently than <code>none</code> (such as in multi column, or grid layouts).
    </p>
  </dd>
</dl>
<p>If one value is provided as a keyword, a length or an <code>auto [&lt;length&gt; | none]</code> pair, it applies to both width and height.</p>
<p>
  Two length values may be specified, which apply to the width and height in that order.
  If two <code>auto [&lt;length&gt; | none]</code> pairs are specified, the first pair applies to the width, and the second to the height.
</p>
<h2 id="description">Description</h2>
<p>The property is commonly applied alongside elements that can trigger size containment, such as <a href="/en-US/docs/Web/CSS/contain"><code>contain: size</code></a> and <a href="/en-US/docs/Web/CSS/content-visibility"><code>content-visibility</code></a>.</p>
<p>
  Size containment allows a user agent to lay out an element as though it had a fixed size, preventing unnecessary reflows by avoiding the re-rendering of child elements to determine the actual size (thereby improving user experience).
  By default, size containment treats elements as though they had no contents, and may collapse the layout in the same way as if the contents had no width or height.
  The <code>contain-intrinsic-size</code> property allows authors to specify an appropriate value to be used as the size for layout.
</p>
<p>
  The <code>auto &lt;length&gt;</code> value allows the size of the element to be stored if the element is ever "normally rendered" (with its child elements), and then used instead of the specified length when the element is skipping its contents.
  This allows offscreen elements with <a href="/en-US/docs/Web/CSS/content-visibility"><code>content-visibility: auto</code></a> to benefit from size containment without developers having to be as precise in their estimates of element size.
  The remembered value is not used if the child elements are being rendered (if size containment is enabled, the <code>&lt;length&gt;</code> will be used).
</p>
<p>
  In grid and multi column layouts, an explicit size is treated differently than implicit content-based height.
  Elements might lay out substantially differently than it would have were it simply filled with content up to that height.
  The <code>auto none</code> value allows the element to fallback to <code>contain-intrinsic-size: none</code> if no remembered value exists, which will allow the element to be laid out as though it had no contents. This is almost always preferred to setting 0px as the intrinsic size in grid and multi column layouts, where contained elements may overflow their parents and can result in unexpected page layout.
</p>
<h2 id="formal_definition">Formal definition</h2><table class="properties"><tbody><tr><th scope="row"><a href="/en-US/docs/Web/CSS/initial_value">Initial value</a></th><td>as each of the properties of the shorthand:<br><ul><li><a href="/en-US/docs/Web/CSS/contain-intrinsic-width"><code>contain-intrinsic-width</code></a>: <code>none</code></li><li><a href="/en-US/docs/Web/CSS/contain-intrinsic-height"><code>contain-intrinsic-height</code></a>: <code>none</code></li></ul></td></tr><tr><th scope="row">Applies to</th><td>elements for which size containment can apply</td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/Inheritance">Inherited</a></th><td>no</td></tr><tr><th scope="row">Percentages</th><td>as each of the properties of the shorthand:<br><ul><li><a href="/en-US/docs/Web/CSS/contain-intrinsic-width"><code>contain-intrinsic-width</code></a>: no</li><li><a href="/en-US/docs/Web/CSS/contain-intrinsic-height"><code>contain-intrinsic-height</code></a>: no</li></ul></td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/computed_value">Computed value</a></th><td>as each of the properties of the shorthand:<br><ul><li><a href="/en-US/docs/Web/CSS/contain-intrinsic-width"><code>contain-intrinsic-width</code></a>: as specified, with &lt;length&gt;s values computed</li><li><a href="/en-US/docs/Web/CSS/contain-intrinsic-height"><code>contain-intrinsic-height</code></a>: as specified, with &lt;length&gt;s values computed</li></ul></td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/CSS_animated_properties">Animation type</a></th><td>as each of the properties of the shorthand:<br><ul><li><a href="/en-US/docs/Web/CSS/contain-intrinsic-width"><code>contain-intrinsic-width</code></a>: by computed value type</li><li><a href="/en-US/docs/Web/CSS/contain-intrinsic-height"><code>contain-intrinsic-height</code></a>: by computed value type</li></ul></td></tr></tbody></table>
<h2 id="formal_syntax">Formal syntax</h2><pre><span class="token property" id="contain-intrinsic-size">contain-intrinsic-size = </span><br>  <a href="/en-US/docs/Web/CSS/Value_definition_syntax#brackets" title="Brackets: enclose several entities, combinators, and multipliers to transform them as a single component">[</a> <span class="token keyword">auto</span><a href="/en-US/docs/Web/CSS/Value_definition_syntax#question_mark" title="Question mark: the entity is optional">?</a> <a href="/en-US/docs/Web/CSS/Value_definition_syntax#brackets" title="Brackets: enclose several entities, combinators, and multipliers to transform them as a single component">[</a> <span class="token keyword">none</span> <a href="/en-US/docs/Web/CSS/Value_definition_syntax#single_bar" title="Single bar: exactly one of the entities must be present">|</a> <a href="/en-US/docs/Web/CSS/length"><span class="token property">&lt;length&gt;</span></a> <a href="/en-US/docs/Web/CSS/Value_definition_syntax#brackets" title="Brackets: enclose several entities, combinators, and multipliers to transform them as a single component">]</a> <a href="/en-US/docs/Web/CSS/Value_definition_syntax#brackets" title="Brackets: enclose several entities, combinators, and multipliers to transform them as a single component">]</a><a href="/en-US/docs/Web/CSS/Value_definition_syntax#curly_braces" title="Curly braces: encloses two integers defining the minimal and maximal numbers of occurrences of the entity, or a single integer defining the exact number required">{1,2}</a>  <br><br></pre>
<h2 id="examples">Examples</h2>
<h3 id="using_auto_value_pairs_for_intrinsic_size">Using auto value pairs for intrinsic size</h3>
<p>
  This example demonstrates <code>contain-intrinsic-size: auto &lt;length&gt;</code> and <code>contain-intrinsic-size: auto none</code>, using a layout where there are many elements displayed vertically that have both accurate and incorrect intrinsic size estimations.
  Using <code>content-visibility: auto</code> skips rendering elements when they are offscreen, so this property is a good candidate to combine with <code>contain-intrinsic-size</code> to improve rendering performance and minimize <a href="/en-US/docs/Glossary/Reflow">reflows</a>.
</p>
<p>
  The <code>contain-intrinsic-size: auto 500px</code> value pair tells the browser to use 500px as a kind of 'placeholder' size (width and height) for the element when it is offscreen and the page is being laid out.
  When the user scrolls to the element and it needs to be displayed, the browser will calculate the actual size of the element and its contents.
  If there is a difference between the placeholder and calculated size this might force a new layout, with accompanying changes to the sidebar position.
</p>
<p>
  Once the browser has actual size information for the element, it will remember this size when the element scrolls offscreen again, and use the remembered size for layout calculations instead of the placeholder value.
  The benefit is that the browser does not need to repeatedly render the element contents to calculate its size and is especially useful when the contents are complex or depend on network resources or JavaScript.
</p>
<h4 id="html">HTML</h4>
<pre class="brush: html">&lt;div id="container"&gt;
  &lt;div id="auto-length-note"&gt;
    &lt;p&gt;
      Your browser does not support
      &lt;code&gt;contain-intrinsic-size: auto &amp;lt;length&amp;gt;&lt;/code&gt;.
    &lt;/p&gt;
  &lt;/div&gt;
  &lt;div class="auto-length"&gt;
    &lt;p&gt;Item one&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class="auto-length"&gt;
    &lt;p&gt;Item two&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class="auto-length large-intrinsic-size"&gt;
    &lt;p class="small"&gt;Item three&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class="auto-length large-intrinsic-size"&gt;
    &lt;p class="small"&gt;Item four&lt;/p&gt;
  &lt;/div&gt;
  &lt;div id="auto-none-note"&gt;
    &lt;p&gt;
      Your browser does not support
      &lt;code&gt;contain-intrinsic-size: auto none&lt;/code&gt;.
    &lt;/p&gt;
  &lt;/div&gt;
  &lt;div class="auto-length none"&gt;
    &lt;p&gt;Item five&lt;/p&gt;
  &lt;/div&gt;
  &lt;div class="auto-length none"&gt;
    &lt;p&gt;Item six&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>
<h4 id="css">CSS</h4>
<pre class="brush: css hidden">div,
p {
  padding: 1rem;
  margin-bottom: 1rem;
  font-size: 2rem;
  font-family: sans-serif;
}

code {
  background-color: lightgray;
  padding: 0.25rem;
  border-radius: 0.25rem;
}

#container {
  width: 90%;
  height: 80%;
}

.auto-length,
.auto-length.none {
  display: none;
}

#auto-length-note,
#auto-none-note {
  display: block;
  padding: 0;
}

#auto-length-note p,
#auto-none-note p {
  padding: 0.5rem;
  width: 100%;
  height: max-content;
  font-size: 1rem;
  line-height: 1.5rem;
  background-color: tomato;
}

@supports (contain-intrinsic-size: auto none) {
  .auto-length.none {
    display: block;
  }
  #auto-none-note {
    display: none;
  }
}
@supports (contain-intrinsic-size: auto 500px) {
  .auto-length {
    display: block;
  }
  #auto-length-note {
    display: none;
  }
}
</pre>
<pre class="brush: css">p {
  height: 500px;
  width: 500px;
  border: 4px dotted;
  background: lightblue;
}

.auto-length {
  content-visibility: auto;
  contain-intrinsic-size: auto 500px;
  background-color: linen;
  outline: 4px dotted blue;
}

.large-intrinsic-size {
  /* Setting an inaccurate intrinsic size for the element */
  contain-intrinsic-size: auto 5000px;
  background-color: lightgray;
  outline: 4px dotted red;
}

.small {
  /* This element is a lot smaller than expected */
  height: 100px;
  width: 100px;
}

.none {
  background-color: papayawhip;
  contain-intrinsic-size: auto none;
  outline: 4px dotted red;
}
</pre>
<h4 id="result">Result</h4>
<ul>
  <li>
    <p>The first two boxes have an intrinsic size that matches their actual size, so as they flow into view, the layout is recalculated but we see no change in the scrollbar or the scroll position.</p>
  </li>
  <li>
    <p>The third and fourth boxes have a huge intrinsic size, so the initial layout that the browser calculated is far too big, and we've made these boxes smaller so that it's obvious when you've reached a point that forces a drastic layout change.</p>
    <p>
      When the third and fourth boxes scroll into view, the size is recalculated, making the box and its parent less tall.
      The effect is that the scroller jumps down the page (we've effectively scrolled further through the box than we'd estimated) and the scroller is longer, because the entire page is less tall than we'd estimated.
    </p>
  </li>
  <li>
    <p>
      The last boxes have <code>auto none</code>, so they have zero estimated size.
      When they scroll into view the size of the element and its parent are recalculated to be much larger, so the scroller decreases in size and moves up the bar.
    </p>
  </li>
</ul>
<p>After scrolling all the way to the bottom you can subsequently scroll up and down smoothly, because using <code>content-visibility: auto</code> saves the actual rendered size of the element for next time it is displayed.</p><div class="code-example"><div class="example-header"></div><iframe class="sample-code-frame" title="Using auto value pairs for intrinsic size sample" id="frame_using_auto_value_pairs_for_intrinsic_size" width="800" height="400" src="about:blank" data-live-path="/en-US/docs/Web/CSS/contain-intrinsic-size" data-live-id="using_auto_value_pairs_for_intrinsic_size" sandbox="allow-same-origin allow-scripts"></iframe></div>
<h3 id="setting_the_intrinsic_size">Setting the intrinsic size</h3>
<p>This example provides selection lists that can be used to modify <code>contain-intrinsic-size</code>, <code>content-visibility</code> and <code>contain</code> on an element in order to observe the effect of the different settings.</p>
<h4 id="css_2">CSS</h4>
<pre class="brush: css">#contained_element {
  border: 2px solid green;
  width: 120px;
}
.child_element {
  border: 1px solid red;
  background: blue;
  height: 50px;
  width: 150px;
}
</pre>
<h4 id="javascript">JavaScript</h4>
<p>The code below adds styles to, and removes styles from, the containing element based on the selected options.</p>
<pre class="brush: js">const containedElement = document.querySelector("#contained_element");
const intrinsicSizeSelector = document.querySelector(
  "#contain_intrinsic_size_selector",
);
const containSelector = document.querySelector("#contain_selector");
const contentVisibilitySelector = document.querySelector(
  "#content_visibility_selector",
);

containedElement.style["contain-intrinsic-size"] =
  intrinsicSizeSelector.options[intrinsicSizeSelector.selectedIndex].text;
containedElement.style["contain"] =
  containSelector.options[containSelector.selectedIndex].text;
containedElement.style["content-visibility"] =
  contentVisibilitySelector.options[
    contentVisibilitySelector.selectedIndex
  ].text;

intrinsicSizeSelector.addEventListener("change", () =&gt; {
  containedElement.style["contain-intrinsic-size"] =
    intrinsicSizeSelector.options[intrinsicSizeSelector.selectedIndex].text;
});

containSelector.addEventListener("change", () =&gt; {
  containedElement.style["contain"] =
    containSelector.options[containSelector.selectedIndex].text;
});

contentVisibilitySelector.addEventListener("change", () =&gt; {
  containedElement.style["content-visibility"] =
    contentVisibilitySelector.options[
      contentVisibilitySelector.selectedIndex
    ].text;
});
</pre>
<h4 id="html_2">HTML</h4>
<p>The HTML defines two buttons, a container element that is subject to containment via the <code>content-visibility</code> property.</p>
<pre class="brush: html">&lt;p&gt;
  &lt;label for="contain_intrinsic_size_selector"&gt;contain-intrinsic-size:&lt;/label&gt;
  &lt;select id="contain_intrinsic_size_selector"&gt;
    &lt;option&gt;none&lt;/option&gt;
    &lt;option&gt;40px 130px&lt;/option&gt;
    &lt;option&gt;auto 40px auto 130px&lt;/option&gt;&lt;/select
  &gt;;&lt;br /&gt;

  &lt;label for="contain_selector"&gt;contain:&lt;/label&gt;
  &lt;select id="contain_selector"&gt;
    &lt;option&gt;none&lt;/option&gt;
    &lt;option&gt;size&lt;/option&gt;
    &lt;option&gt;strict&lt;/option&gt;&lt;/select
  &gt;;&lt;br /&gt;

  &lt;label for="content_visibility_selector"&gt;content-visibility:&lt;/label&gt;
  &lt;select id="content_visibility_selector"&gt;
    &lt;option&gt;visible&lt;/option&gt;
    &lt;option&gt;auto&lt;/option&gt;
    &lt;option&gt;hidden&lt;/option&gt;&lt;/select
  &gt;;
&lt;/p&gt;

&lt;div id="contained_element"&gt;
  &lt;div class="child_element"&gt;&lt;/div&gt;
&lt;/div&gt;
</pre>
<h4 id="result_2">Result</h4>
<p>
  Use the selectors to apply the given styles to the containing <code>div</code> element.
  Note that when <code>content-visibility</code> is <code>visible</code> or <code>auto</code>, changing <code>contain-intrinsic-size</code> makes no difference.
  However if the content is hidden, having a <code>contain-intrinsic-size</code> of <code>none</code> collapses the parent element as though its child element had no size.
</p><div class="code-example"><div class="example-header"></div><iframe class="sample-code-frame" title="Setting the intrinsic size sample" id="frame_setting_the_intrinsic_size" width="100%" height="170" src="about:blank" data-live-path="/en-US/docs/Web/CSS/contain-intrinsic-size" data-live-id="setting_the_intrinsic_size" sandbox="allow-same-origin allow-scripts"></iframe></div>
<h2 id="specifications">Specifications</h2><div class="bc-specs" data-bcd-query="css.properties.contain-intrinsic-size" data-spec-urls="">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="browser_compatibility">Browser compatibility</h2><div class="bc-data" data-query="css.properties.contain-intrinsic-size" data-depth="1" data-multiple="false">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="see_also">See also</h2>
<ul>
  <li><a href="/en-US/docs/Web/CSS/contain-intrinsic-block-size"><code>contain-intrinsic-block-size</code></a></li>
  <li><a href="/en-US/docs/Web/CSS/contain-intrinsic-inline-size"><code>contain-intrinsic-inline-size</code></a></li>
  <li><a href="/en-US/docs/Web/CSS/CSS_containment/Using_CSS_containment">Using CSS containment</a></li>
  <li><a href="/en-US/docs/Web/CSS/CSS_containment">CSS containment</a> module</li>
  <li><a href="https://web.dev/articles/content-visibility"><code>content-visibility</code>: the new CSS property that boosts your rendering performance</a> via web.dev (2020)</li>
</ul>
</body></html>