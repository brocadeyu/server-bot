<html><head></head><body><div class="notecard experimental">
    <h4 id="experimental">Experimental</h4>
    <p><strong>This is an <a href="/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p>
</div>
<p>The <strong><code>position-anchor</code></strong> <a href="/en-US/docs/Web/CSS">CSS</a> property specifies the anchor name of the <strong>anchor element</strong> (i.e. an element that has an <strong>anchor name</strong> set on it via the <a href="/en-US/docs/Web/CSS/anchor-name"><code>anchor-name</code></a> property) a positioned element is associated with.</p>
<h2 id="syntax">Syntax</h2>
<pre class="brush: css">/* Single values */
position-anchor: auto;
position-anchor: --anchorName;

/* Global values */
position-anchor: inherit;
position-anchor: initial;
position-anchor: revert;
position-anchor: revert-layer;
position-anchor: unset;
</pre>
<h3 id="values">Values</h3>
<dl>
  <dt id="auto"><a href="#auto"><code>auto</code></a></dt>
  <dd>
    <p>Associates a positioned element with its implicit anchor element, if it has one — for example as set by the non-standard HTML <a href="/en-US/docs/Web/HTML/Global_attributes/anchor"><code>anchor</code></a> attribute.</p>
  </dd>
  <dt id="dashed-ident"><a href="/en-US/docs/Web/CSS/dashed-ident"><code>&lt;dashed-ident&gt;</code></a></dt>
  <dd>
    <p>The name of the anchor element to associate the positioned element with, as listed in the anchor element's <a href="/en-US/docs/Web/CSS/anchor-name"><code>anchor-name</code></a> property. This is known as the <strong>default anchor specifier</strong>.</p>
  </dd>
</dl>
<h2 id="description">Description</h2>
<p>This property is only relevant to "positioned" elements — elements and pseudo elements that have a <a href="/en-US/docs/Web/CSS/position"><code>position</code></a> of <code>absolute</code> or <code>fixed</code> set.</p>
<p>To position an element relative to an anchor element, the positioned element requires three features: an association, a position, and a location. The <code>position-anchor</code> and <a href="/en-US/docs/Web/CSS/anchor-name"><code>anchor-name</code></a> properties provide the association.</p>
<p>The anchor element accepts one or more <code>&lt;dashed-ident&gt;</code> anchor names set on it via the <code>anchor-name</code> property. When one of those names is then set as the value of the positioned element's <code>position-anchor</code> property, the two elements are associated.</p>
<p>If there are multiple anchor elements with the anchor name listed in the <code>position-anchor</code> property, the positioned element will be associated with the last anchor element in the source order with that anchor name.</p>
<p>To tether a positioned element to its anchor, it must be placed relative to an anchor element using an anchor positioning feature, such as the <a href="/en-US/docs/Web/CSS/anchor"><code>anchor()</code></a> function (set as a value on <a href="/en-US/docs/Glossary/Inset_properties">inset properties</a>) or the <a href="/en-US/docs/Web/CSS/position-area"><code>position-area</code></a> property.</p>
<p>If the associated anchor is hidden, for example with <a href="/en-US/docs/Web/CSS/display"><code>display: none</code></a> or <a href="/en-US/docs/Web/CSS/visibility"><code>visibility: hidden</code></a>, or if it is part of the <a href="/en-US/docs/Web/CSS/CSS_containment/Using_CSS_containment#skips_its_contents">skipped contents</a> of another element due to it having <a href="/en-US/docs/Web/CSS/content-visibility"><code>content-visibility: hidden</code></a> set on it, the anchor positioned element will not be displayed.</p>
<p>The <code>position-anchor</code> property is supported on all elements that are positioned, including <a href="/en-US/docs/Web/CSS/Pseudo-elements">pseudo-elements</a> like <a href="/en-US/docs/Web/CSS/::before"><code>::before</code></a> and <a href="/en-US/docs/Web/CSS/::after"><code>::after</code></a>. Pseudo elements are implicitly anchored to the same element as the pseudo-element's originating element, unless otherwise specified.</p>
<p>For more information on anchor features and usage, see the <a href="/en-US/docs/Web/CSS/CSS_anchor_positioning">CSS anchor positioning</a> module landing page and the <a href="/en-US/docs/Web/CSS/CSS_anchor_positioning/Using">Using CSS anchor positioning</a> guide.</p>
<h2 id="formal_definition">Formal definition</h2><table class="properties"><tbody><tr><th scope="row"><a href="/en-US/docs/Web/CSS/initial_value">Initial value</a></th><td><code>auto</code></td></tr><tr><th scope="row">Applies to</th><td>absolutely positioned elements</td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/Inheritance">Inherited</a></th><td>no</td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/computed_value">Computed value</a></th><td>as specified</td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/CSS_animated_properties">Animation type</a></th><td>discrete</td></tr></tbody></table>
<h2 id="formal_syntax">Formal syntax</h2><pre><span class="token property" id="position-anchor">position-anchor = </span><br>  <span class="token keyword">auto</span>           <a href="/en-US/docs/Web/CSS/Value_definition_syntax#single_bar" title="Single bar: exactly one of the entities must be present">|</a><br>  <span class="token property">&lt;anchor-name&gt;</span>  <br><br><span class="token property" id="<anchor-name>">&lt;anchor-name&gt; = </span><br>  <a href="/en-US/docs/Web/CSS/dashed-ident"><span class="token property">&lt;dashed-ident&gt;</span></a>  <br><br></pre>
<h2 id="examples">Examples</h2>
<p>See the <code>anchor-name</code> documentation for <a href="/en-US/docs/Web/CSS/anchor-name#basic_usage">basic usage</a> and additional <a href="/en-US/docs/Web/CSS/anchor-name#examples"><code>position-anchor</code> examples</a>.</p>
<h3 id="using_a_slider_thumb_as_an_anchor">Using a slider thumb as an anchor</h3>
<p>In this example, an <a href="/en-US/docs/Web/HTML/Element/output"><code>&lt;output&gt;</code></a> is positioned relative to an anchor that is the thumb of a range slider.</p>
<h4 id="html">HTML</h4>
<p>We include an <a href="/en-US/docs/Web/HTML/Element/input/range"><code>&lt;input type="range"&gt;</code></a> element and an <a href="/en-US/docs/Web/HTML/Element/output"><code>&lt;output&gt;</code></a> element to display the value of the range. The value displayed in the <code>&lt;output&gt;</code> element is updated via JavaScript as the slider value changes.</p>
<pre class="brush: html">&lt;label for="slider"&gt;Change the value:&lt;/label&gt;
&lt;input type="range" min="0" max="100" value="25" id="slider" /&gt;
&lt;output&gt;25&lt;/output&gt;
</pre>
<h4 id="css">CSS</h4>
<p>We give the thumb, represented by the <a href="/en-US/docs/Web/CSS/::-webkit-slider-thumb"><code>::-webkit-slider-thumb</code></a> pseudo-element, an anchor name of <code>--thumb</code>. We then set that name as the value of the <code>&lt;output&gt;</code> element's <code>position-anchor</code> property, and give it a <a href="/en-US/docs/Web/CSS/position"><code>position</code></a> value of <code>fixed</code>. These steps associated the <code>&lt;output&gt;</code> with the thumb.</p>
<p>Finally, we use <a href="/en-US/docs/Web/CSS/left"><code>left</code></a> and <a href="/en-US/docs/Web/CSS/top"><code>top</code></a> properties with <a href="/en-US/docs/Web/CSS/anchor"><code>anchor()</code></a> values to position the <code>&lt;output&gt;</code> relative to the thumb.</p>
<pre class="brush: css hidden">body {
  display: grid;
  place-items: center;
  height: 100vh;
  font-size: 1.4rem;
  font-family: sans-serif;
}
input {
  width: 33vw;
}
output {
  background: cyan;
  border: 2px solid darkblue;
  padding: 3px 6px;
  border-radius: 10px;
  font-size: 1.2rem;
}
</pre>
<pre class="brush: css">input::-webkit-slider-thumb {
  anchor-name: --thumb;
}

output {
  position-anchor: --thumb;
  position: absolute;
  left: anchor(right);
  bottom: anchor(top);
}
</pre>
<h4 id="javascript">JavaScript</h4>
<p>We include an event listener that updates the content of the <code>&lt;output&gt;</code> element when the value of the <code>&lt;input&gt;</code> changes:</p>
<pre class="brush: js">const input = document.querySelector("input");
const output = document.querySelector("output");

input.addEventListener("input", (event) =&gt; {
  output.innerText = `${input.value}`;
});
</pre>
<h4 id="results">Results</h4>
<p>The output is anchored to the thumb. Change the value. If anchor positioning is supported in your browser, the value will be above and to the right of the thumb, no matter where it is along the slider.</p><div class="code-example"><div class="example-header"></div><iframe class="sample-code-frame" title="A range thumb as anchor sample" id="frame_a_range_thumb_as_anchor" width="100%" height="225" src="about:blank" data-live-path="/en-US/docs/Web/CSS/position-anchor" data-live-id="a_range_thumb_as_anchor" sandbox="allow-same-origin allow-scripts"></iframe></div>
<h3 id="multiple_positioned_elements_and_anchors">Multiple positioned elements and anchors</h3>
<p>In this example, you can move multiple positioned elements around, associating them with different anchors. This example demonstrates how an anchor can be associated with multiple positioned elements, but an anchor-positioned element can only be associated with a single anchor at a time, the anchor defined by the <code>anchor-position</code> property.</p>
<h4 id="html_2">HTML</h4>
<p>We have four anchors and two positioned elements, distinguished with different <code>id</code> values. The positioned elements contain <a href="/en-US/docs/Web/HTML/Element/select"><code>&lt;select&gt;</code></a> boxes that allow you to choose which anchor you want to associate them with.</p>
<pre class="brush: html">&lt;div id="anchor-container"&gt;
  &lt;div class="anchor" id="anchor1"&gt;⚓︎&lt;/div&gt;
  &lt;div class="anchor" id="anchor2"&gt;⚓︎&lt;/div&gt;
  &lt;div class="anchor" id="anchor3"&gt;⚓︎&lt;/div&gt;
  &lt;div class="anchor" id="anchor4"&gt;⚓︎&lt;/div&gt;
&lt;/div&gt;

&lt;div class="infobox" id="infobox1"&gt;
  &lt;form&gt;
    &lt;label for="anchor1-anchor-select"&gt;Place infobox on:&lt;/label&gt;
    &lt;select id="anchor1-anchor-select"&gt;
      &lt;option value="1"&gt;Anchor 1&lt;/option&gt;
      &lt;option value="2"&gt;Anchor 2&lt;/option&gt;
      &lt;option value="3"&gt;Anchor 3&lt;/option&gt;
      &lt;option value="4"&gt;Anchor 4&lt;/option&gt;
    &lt;/select&gt;
  &lt;/form&gt;
&lt;/div&gt;

&lt;div class="infobox" id="infobox2"&gt;
  &lt;form&gt;
    &lt;label for="anchor2-anchor-select"&gt;Place infobox on:&lt;/label&gt;
    &lt;select id="anchor2-anchor-select"&gt;
      &lt;option value="1"&gt;Anchor 1&lt;/option&gt;
      &lt;option value="2"&gt;Anchor 2&lt;/option&gt;
      &lt;option value="3"&gt;Anchor 3&lt;/option&gt;
      &lt;option value="4"&gt;Anchor 4&lt;/option&gt;
    &lt;/select&gt;
  &lt;/form&gt;
&lt;/div&gt;
</pre>
<h4 id="css_2">CSS</h4>
<p>We declare the first <code>anchor</code> <code>&lt;div&gt;</code> as an anchor using the <code>anchor-name</code> property, which is given two comma-separated anchor names, one for each positioned element. This is the initial state of the demo — both positioned elements will be tethered to the first anchor.</p>
<pre class="brush: css hidden">body {
  height: 100vh;
}

#anchor-container {
  display: grid;
  height: 100%;
  grid-template-columns: 1fr 1fr;
  grid-auto-rows: 1fr 1fr;
  justify-items: center;
  align-items: center;
}

.anchor {
  font-size: 1.8rem;
  color: white;
  text-shadow: 1px 1px 1px black;
  background-color: hsl(240 100% 75%);
  width: fit-content;
  border-radius: 10px;
  border: 1px solid black;
  padding: 3px;
}
</pre>
<pre class="brush: css">#anchor1 {
  anchor-name: --myAnchor1, --myAnchor2;
}
</pre>
<p>Each of the positioned elements is given a <code>position-anchor</code> property with a value matching one of the two anchor names. The positioned elements are then given anchor-relative positioning information using a combination of inset, alignment, and margin properties.</p>
<pre class="brush: css hidden">.infobox {
  color: darkblue;
  background-color: azure;
  border: 1px solid #ddd;
  padding: 10px;
  border-radius: 10px;
  font-size: 1rem;
  width: 120px;
}
</pre>
<pre class="brush: css">#infobox1 {
  position-anchor: --myAnchor1;
  position: fixed;
  left: anchor(right);
  align-self: anchor-center;
  margin-left: 10px;
}

#infobox2 {
  position-anchor: --myAnchor2;
  position: fixed;
  bottom: anchor(top);
  justify-self: anchor-center;
  margin-bottom: 15px;
}
</pre>
<h4 id="javascript_2">JavaScript</h4>
<p>We dynamically change which anchor elements the <code>anchor-name</code> values are set on in response to different anchors being selected in the positioned elements' <code>&lt;select&gt;</code> menus. The key functionality here is the <a href="/en-US/docs/Web/API/HTMLElement/change_event"><code>change</code></a> event handler, <code>updateAnchorNames()</code>. It sets both anchor names on one anchor, if the anchors chosen in the two <code>&lt;select&gt;</code> menus are the same. Otherwise, it sets a single anchor name on two separate anchors as appropriate.</p>
<pre class="brush: js">// Get references to the two select menus
const select1 = document.querySelector("#anchor1-anchor-select");
const select2 = document.querySelector("#anchor2-anchor-select");
// Store references to all the anchors in a NodeList (array-like)
const anchors = document.querySelectorAll("#anchor-container &gt; div");

// Set the same change event handler on both select menus
select1.addEventListener("change", updateAnchorNames);
select2.addEventListener("change", updateAnchorNames);

function updateAnchorNames() {
  // Remove all anchor names from all anchors
  for (const anchor of anchors) {
    anchor.style.anchorName = "none";
  }

  // convert the select menu values to numbers, and remove one to
  // make them match the selected anchors' index positions in the NodeList
  const value1 = Number(select1.value) - 1;
  const value2 = Number(select2.value) - 1;

  if (value1 === value2) {
    // If the chosen anchors are both the same, set both anchor
    // names on the same anchor
    anchors[value1].style.anchorName = "--myAnchor1, --myAnchor2";
  } else {
    // If they are not the same, set the anchor names separately
    // on each selected anchor
    anchors[value1].style.anchorName = "--myAnchor1";
    anchors[value2].style.anchorName = "--myAnchor2";
  }
}
</pre>
<h4 id="result">Result</h4>
<p>Select different values from the drop-down menus to change the anchors that the elements are positioned relative to.</p><div class="code-example"><div class="example-header"></div><iframe class="sample-code-frame" title="Multiple positioned elements and anchors sample" id="frame_multiple_positioned_elements_and_anchors" width="100%" height="400" src="about:blank" data-live-path="/en-US/docs/Web/CSS/position-anchor" data-live-id="multiple_positioned_elements_and_anchors" sandbox="allow-same-origin allow-scripts"></iframe></div>
<h2 id="specifications">Specifications</h2><div class="bc-specs" data-bcd-query="css.properties.position-anchor" data-spec-urls="">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="browser_compatibility">Browser compatibility</h2><div class="bc-data" data-query="css.properties.position-anchor" data-depth="1" data-multiple="false">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="see_also">See also</h2>
<ul>
  <li><a href="/en-US/docs/Web/CSS/anchor-name"><code>anchor-name</code></a></li>
  <li>HTML <a href="/en-US/docs/Web/HTML/Global_attributes/anchor"><code>anchor</code></a> attribute</li>
  <li><a href="/en-US/docs/Web/CSS/CSS_anchor_positioning">CSS anchor positioning</a> module</li>
  <li><a href="/en-US/docs/Web/CSS/CSS_anchor_positioning/Using">Using CSS anchor positioning</a> guide</li>
</ul>
</body></html>