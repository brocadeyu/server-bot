<html><head></head><body><div class="notecard experimental">
    <h4 id="experimental">Experimental</h4>
    <p><strong>This is an <a href="/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p>
</div>
<p>The <strong><code>position-visibility</code></strong> <a href="/en-US/docs/Web/CSS">CSS</a> property enables conditionally hiding an anchor-positioned element depending on, for example, whether it is overflowing its containing element or the viewport.</p>
<h2 id="syntax">Syntax</h2>
<pre class="brush: css">/* Single values */
position-visibility: always;
position-visibility: anchors-visible;
position-visibility: no-overflow;

/* Global values */
position-visibility: inherit;
position-visibility: initial;
position-visibility: revert;
position-visibility: revert-layer;
position-visibility: unset;
</pre>
<h3 id="values">Values</h3>
<dl>
  <dt id="always"><a href="#always"><code>always</code></a></dt>
  <dd>
    <p>The positioned element is always displayed.</p>
  </dd>
  <dt id="anchors-visible"><a href="#anchors-visible"><code>anchors-visible</code></a></dt>
  <dd>
    <p>If the anchor is completely hidden, either by overflowing its containing element (or the viewport) or being covered by other elements, the positioned element will be strongly hidden.</p>
  </dd>
  <dt id="no-overflow"><a href="#no-overflow"><code>no-overflow</code></a></dt>
  <dd>
    <p>If the positioned element starts to overflow its containing element or the viewport, it will be strongly hidden.</p>
  </dd>
</dl>
<p>The specification also defines the <code>anchors-valid</code> value, which has not yet been implemented in any browser.</p>
<h2 id="description">Description</h2>
<p>In some situations you might not want to display an anchor-positioned element. For example, if its associated anchor has been scrolled offscreen but the anchor positioned element would otherwise still be partially or fully visible, it might be unclear what it refers to and take up space unnecessarily, so you may want to hide it altogether.</p>
<p>The <code>position-visibility</code> property can be used to <code>always</code> show the anchor-positioned element, or conditionally hide it if the associated anchor element is completely hidden (<code>anchors-visible</code>) or if the anchor-positioned element itself is partially hidden (<code>no-overflow</code>).</p>
<p>When an element is hidden due to <code>position-visibility</code>, it is referred to as <strong>strongly hidden</strong>. This means that it will act as though it and its descendant elements have a <a href="/en-US/docs/Web/CSS/visibility"><code>visibility</code></a> value of <code>hidden</code> set, regardless of what their actual visibility value is.</p>
<p><code>position-visibility</code> should only be used in situations in which hiding the positioned element altogether is preferred. In most cases, it makes more sense to attempt to change the placement of positioned elements when they start to overflow, to keep them on-screen and usable. This can be done with the <a href="/en-US/docs/Web/CSS/position-try-fallbacks"><code>position-try-fallbacks</code></a> property and <a href="/en-US/docs/Web/CSS/@position-try"><code>@position-try</code></a> at-rule. See the <a href="/en-US/docs/Web/CSS/CSS_anchor_positioning/Try_options_hiding">Handling overflow: try fallbacks and conditional hiding</a> guide for more information.</p>
<h2 id="formal_definition">Formal definition</h2><table class="properties"><tbody><tr><th scope="row"><a href="/en-US/docs/Web/CSS/initial_value">Initial value</a></th><td><code>anchors-visible</code></td></tr><tr><th scope="row">Applies to</th><td>absolutely positioned elements</td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/Inheritance">Inherited</a></th><td>no</td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/computed_value">Computed value</a></th><td>as specified</td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/CSS_animated_properties">Animation type</a></th><td>discrete</td></tr></tbody></table>
<h2 id="formal_syntax">Formal syntax</h2><pre><span class="token property" id="position-visibility">position-visibility = </span><br>  <span class="token keyword">always</span>                                              <a href="/en-US/docs/Web/CSS/Value_definition_syntax#single_bar" title="Single bar: exactly one of the entities must be present">|</a><br>  <a href="/en-US/docs/Web/CSS/Value_definition_syntax#brackets" title="Brackets: enclose several entities, combinators, and multipliers to transform them as a single component">[</a> <span class="token keyword">anchors-valid</span> <a href="/en-US/docs/Web/CSS/Value_definition_syntax#double_bar" title="Double bar: one or several of the entities must be present, in any order">||</a> <span class="token keyword">anchors-visible</span> <a href="/en-US/docs/Web/CSS/Value_definition_syntax#double_bar" title="Double bar: one or several of the entities must be present, in any order">||</a> <span class="token keyword">no-overflow</span> <a href="/en-US/docs/Web/CSS/Value_definition_syntax#brackets" title="Brackets: enclose several entities, combinators, and multipliers to transform them as a single component">]</a>  <br><br></pre>
<h2 id="examples">Examples</h2>
<h3 id="basic_usage">Basic usage</h3>
<p>This example enables changing the value of an anchor positioned element's <code>position-visibility</code> property to demonstrate the effects of each value.</p>
<h4 id="html">HTML</h4>
<p>We specify two <a href="/en-US/docs/Web/HTML/Element/div"><code>&lt;div&gt;</code></a> elements; an anchor element with a class of <code>anchor</code> and a positioned element with a class of <code>infobox</code>.</p>
<pre class="brush: html hidden">&lt;p&gt;
  Malesuada nunc vel risus commodo viverra maecenas accumsan lacus. Vel elit
  scelerisque mauris pellentesque pulvinar pellentesque habitant morbi
  tristique.
&lt;/p&gt;

&lt;p&gt;
  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
  incididunt ut labore et dolore magna aliqua. Dui nunc mattis enim ut tellus
  elementum sagittis vitae et.
&lt;/p&gt;

&lt;p&gt;
  Malesuada nunc vel risus commodo viverra maecenas accumsan lacus. Vel elit
  scelerisque mauris pellentesque pulvinar pellentesque habitant morbi
  tristique. Porta lorem mollis aliquam ut porttitor. Turpis cursus in hac
  habitasse platea dictumst quisque.
&lt;/p&gt;
</pre>
<pre class="brush: html">&lt;div class="anchor"&gt;⚓︎&lt;/div&gt;

&lt;div class="infobox"&gt;
  &lt;p&gt;This is an information box.&lt;/p&gt;
&lt;/div&gt;
</pre>
<pre class="brush: html hidden">&lt;p&gt;
  Nisi quis eleifend quam adipiscing vitae proin sagittis nisl rhoncus. In arcu
  cursus euismod quis viverra nibh cras pulvinar. Vulputate ut pharetra sit amet
  aliquam.
&lt;/p&gt;

&lt;p&gt;
  Malesuada nunc vel risus commodo viverra maecenas accumsan lacus. Vel elit
  scelerisque mauris pellentesque pulvinar pellentesque habitant morbi
  tristique. Porta lorem mollis aliquam ut porttitor. Turpis cursus in hac
  habitasse platea dictumst quisque. Dolor sit amet consectetur adipiscing elit.
  Ornare lectus sit amet est placerat. Nulla aliquet porttitor lacus luctus
  accumsan.
&lt;/p&gt;

&lt;form&gt;
  &lt;fieldset&gt;
    &lt;legend&gt;Choose position visibility&lt;/legend&gt;
    &lt;div&gt;
      &lt;label for="radio-always"&gt;always&lt;/label&gt;
      &lt;input
        type="radio"
        id="radio-always"
        name="position-visibility"
        value="always"
        checked /&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;label for="radio-anchors-visible"&gt;anchors-visible&lt;/label&gt;
      &lt;input
        type="radio"
        id="radio-anchors-visible"
        name="position-visibility"
        value="anchors-visible" /&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;label for="radio-no-overflow"&gt;no-overflow&lt;/label&gt;
      &lt;input
        type="radio"
        id="radio-no-overflow"
        name="position-visibility"
        value="no-overflow" /&gt;
    &lt;/div&gt;
  &lt;/fieldset&gt;
&lt;/form&gt;
</pre>
<p>The HTML also includes filler text to make the content taller than the viewport so scrolling is required. We've also included a <a href="/en-US/docs/Web/HTML/Element/fieldset"><code>&lt;fieldset&gt;</code></a> with a group of <a href="/en-US/docs/Web/HTML/Element/input/radio">radio inputs</a> with different <code>position-visibility</code> values. The markup for these is not shown for the sake of brevity.</p>
<h4 id="css">CSS</h4>
<p>We style an <code>anchor</code> <code>&lt;div&gt;</code> as an anchor element and tether the <code>infobox</code> <code>&lt;div&gt;</code> to it. The relevant CSS is as follows:</p>
<pre class="brush: css hidden">body {
  width: 50%;
  margin: 0 auto;
}

.anchor {
  font-size: 1.8rem;
  color: white;
  text-shadow: 1px 1px 1px black;
  background-color: hsl(240 100% 75%);
  width: fit-content;
  border-radius: 10px;
  border: 1px solid black;
  padding: 3px;
}

form {
  position: fixed;
  background: white;
  bottom: 2px;
  right: 2px;
}

.infobox {
  color: darkblue;
  background-color: azure;
  border: 1px solid #ddd;
  padding: 10px;
  border-radius: 10px;
  font-size: 1rem;
}
</pre>
<pre class="brush: css">.anchor {
  anchor-name: --myAnchor;
}

.infobox {
  position-anchor: --myAnchor;
  position: fixed;
  position-area: top span-all;
  margin-bottom: 5px;
  position-visibility: always;
}
</pre>
<h4 id="javascript">JavaScript</h4>
<p>We include a <a href="/en-US/docs/Web/API/HTMLElement/change_event"><code>change</code></a> event handler on the radio buttons so that, when a new value is selected, we update the infobox's <code>position-visibility</code> property value.</p>
<pre class="brush: js">const infobox = document.querySelector(".infobox");
const radios = document.querySelectorAll('[name="position-visibility"]');

for (const radio of radios) {
  radio.addEventListener("change", setPositionVisibility);
}

function setPositionVisibility(e) {
  infobox.style.positionVisibility = e.target.value;
}
</pre>
<h4 id="result">Result</h4>
<p>Select different <code>position-visibility</code> values and then scroll the page up and down to see their effects. With <code>position-visibility: always</code> set, the positioned element will not be hidden. With <code>position-visibility: anchors-visible</code> set, the positioned element will only be visible when the anchor is partially or fully on-screen. With <code>position-visibility: no-overflow</code> set, the positioned element will be hidden as soon as it starts to overflow the viewport.</p><div class="code-example"><div class="example-header"></div><iframe class="sample-code-frame" title="Basic usage sample" id="frame_basic_usage" width="100%" height="180" src="about:blank" data-live-path="/en-US/docs/Web/CSS/position-visibility" data-live-id="basic_usage" sandbox="allow-same-origin allow-scripts"></iframe></div>
<h2 id="specifications">Specifications</h2><div class="bc-specs" data-bcd-query="css.properties.position-visibility" data-spec-urls="">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="browser_compatibility">Browser compatibility</h2><div class="bc-data" data-query="css.properties.position-visibility" data-depth="1" data-multiple="false">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="see_also">See also</h2>
<ul>
  <li><a href="/en-US/docs/Web/CSS/anchor-name"><code>anchor-name</code></a></li>
  <li><a href="/en-US/docs/Web/CSS/position-anchor"><code>position-anchor</code></a></li>
  <li><a href="/en-US/docs/Web/CSS/position"><code>position</code></a></li>
  <li><a href="/en-US/docs/Web/CSS/position-area"><code>position-area</code></a></li>
  <li><a href="/en-US/docs/Web/CSS/CSS_anchor_positioning">CSS anchor positioning</a> module</li>
  <li><a href="/en-US/docs/Web/CSS/CSS_anchor_positioning/Using">Using CSS anchor positioning</a> guide</li>
  <li><a href="/en-US/docs/Web/CSS/CSS_anchor_positioning/Try_options_hiding">Handling overflow: try fallbacks and conditional hiding</a> guide</li>
</ul>
</body></html>