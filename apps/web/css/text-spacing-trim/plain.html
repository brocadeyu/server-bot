<html><head></head><body><div class="notecard experimental">
    <h4 id="experimental">Experimental</h4>
    <p><strong>This is an <a href="/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p>
</div>
<p>The <strong><code>text-spacing-trim</code></strong> <a href="/en-US/docs/Web/CSS">CSS</a> property controls the internal spacing set on Chinese/Japanese/Korean (CJK) punctuation characters between adjacent characters (kerning) and at the start or end of text lines.</p>
<h2 id="syntax">Syntax</h2>
<pre class="brush: css">/* Keyword values */
text-spacing-trim: normal;
text-spacing-trim: space-all;
text-spacing-trim: space-first;
text-spacing-trim: trim-start;

/* Global values */
text-spacing-trim: inherit;
text-spacing-trim: initial;
text-spacing-trim: revert;
text-spacing-trim: revert-layer;
text-spacing-trim: unset;
</pre>
<h3 id="values">Values</h3>
<dl>
  <dt id="spacing-trim"><a href="#spacing-trim"><code>&lt;spacing-trim&gt;</code></a></dt>
  <dd>
    <p>Defines the different spacing trim options. Available values are:</p>
    <dl>
      <dt id="normal"><a href="#normal"><code>normal</code></a></dt>
      <dd>
        <p>Sets CJK full-width opening punctuation characters to be full-width at the start of each line. Sets CJK full-width closing punctuation characters to be full-width at the end of each line, or half-width if they do not fit on the line before justification. <a href="#full-width_punctuation_collapsing">Collapses spacing</a> between punctuation characters.</p>
      </dd>
      <dt id="space-all"><a href="#space-all"><code>space-all</code></a></dt>
      <dd>
        <p>All CJK full-width punctuation characters are set to be full-width.</p>
      </dd>
      <dt id="space-first"><a href="#space-first"><code>space-first</code></a></dt>
      <dd>
        <p>Behaves as <code>normal</code>, except that CJK full-width opening punctuation characters are set to be full-width at the start of the first line of the text's block container, and the start of every subsequent line coming after an explicit line break such as a newline character.</p>
      </dd>
      <dt id="trim-start"><a href="#trim-start"><code>trim-start</code></a></dt>
      <dd>
        <p>Behaves as <code>normal</code>, except that CJK full-width opening punctuation characters are set to be half-width at the start of each line.</p>
      </dd>
    </dl>
    <div class="notecard note">
      <p><strong>Note:</strong> The <a href="/en-US/docs/Web/CSS/CSS_text">CSS Text</a> module also defines <code>trim-both</code>, <code>trim-all</code>, and <code>auto</code> values. However, these are not currently implemented in any browser.</p>
    </div>
  </dd>
</dl>
<h2 id="description">Description</h2>
<p>The <code>text-spacing-trim</code> property applies spacing/kerning to CJK punctuation characters to produce visually pleasing typography as defined by the <a href="https://w3c.github.io/jlreq/">Requirements for Japanese text layout</a> (JLREQ) and the <a href="https://www.w3.org/International/clreq/">Requirements for Chinese text layout</a> (CLREQ).</p>
<p>Many CJK punctuation characters include glyph-internal spacing. For example, the CJK full stop and the CJK close parenthesis usually have glyph-internal spacing on their right-hand side, to give them a constant <a href="/en-US/docs/Glossary/Advance_measure">advance measure</a> consistent with other ideographic characters. However, when they appear in a row, the glyph-internal spacing can become excessive.</p>
<p><code>text-spacing-trim</code> can be used to adjust such excessive spacing between adjacent characters (kerning) and at the start or end of text lines. Generally speaking:</p>
<ul>
  <li>If a full-width punctuation character is set to be full-width, it has internal spacing set on both sides and is the full width of an ideograph.</li>
  <li>If a full-width punctuation character is set to be half-width, it has internal spacing set on one side only, and its other side is flush to the start (in the case of opening punctuation characters) or end (in the case of closing punctuation characters). Half-width characters are typically half the width of an ideograph.</li>
</ul>
<div class="notecard note">
  <p><strong>Note:</strong> To avoid the risk of excessive kerning, fonts must have the OpenType Alternate Half Widths (<code>halt</code>) feature, the Contextual Half-width Spacing (<code>chws</code>) feature, or both. If the font doesn't have either feature, <code>text-spacing-trim</code> is disabled.</p>
</div>
<h3 id="full-width_punctuation_collapsing">Full-width punctuation collapsing</h3>
<p>When pairs of punctuation characters are adjacent to one another, the space between them is collapsed according to the following rules:</p>
<ul>
  <li>Set a full-width opening punctuation character to half-width if the previous character is a fullwidth opening punctuation character, a fullwidth middle dot, an ideographic space (U+3000), a fullwidth closing punctuation character of an equivalent or larger font size, or a character belonging to <a href="https://www.compart.com/en/unicode/category/Ps">Unicode general category "Open punctuation" Ps</a>. Otherwise, set it to full-width.</li>
  <li>Set a full-width closing punctuation character to half-width if the next character is a fullwidth closing punctuation character, a fullwidth middle dot, an ideographic space (U+3000), a fullwidth opening punctuation character with larger font size, or a character belonging to <a href="https://www.compart.com/en/unicode/category/Pe">Unicode general category "Close punctuation" (Pe)</a>. Otherwise, set it to full-width.</li>
</ul>
<h2 id="formal_definition">Formal definition</h2><table class="properties"><tbody><tr><th scope="row"><a href="/en-US/docs/Web/CSS/initial_value">Initial value</a></th><td><code>normal</code></td></tr><tr><th scope="row">Applies to</th><td>text elements</td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/Inheritance">Inherited</a></th><td>yes</td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/computed_value">Computed value</a></th><td>as specified</td></tr><tr><th scope="row"><a href="/en-US/docs/Web/CSS/CSS_animated_properties">Animation type</a></th><td>discrete</td></tr></tbody></table>
<h2 id="formal_syntax">Formal syntax</h2><pre><span class="token property" id="text-spacing-trim">text-spacing-trim = </span><br>  <span class="token property">&lt;spacing-trim&gt;</span>  <a href="/en-US/docs/Web/CSS/Value_definition_syntax#single_bar" title="Single bar: exactly one of the entities must be present">|</a><br>  <span class="token keyword">auto</span>            <br><br><span class="token property" id="<spacing-trim>">&lt;spacing-trim&gt; = </span><br>  <span class="token keyword">space-all</span>    <a href="/en-US/docs/Web/CSS/Value_definition_syntax#single_bar" title="Single bar: exactly one of the entities must be present">|</a><br>  <span class="token keyword">normal</span>       <a href="/en-US/docs/Web/CSS/Value_definition_syntax#single_bar" title="Single bar: exactly one of the entities must be present">|</a><br>  <span class="token keyword">space-first</span>  <a href="/en-US/docs/Web/CSS/Value_definition_syntax#single_bar" title="Single bar: exactly one of the entities must be present">|</a><br>  <span class="token keyword">trim-start</span>   <a href="/en-US/docs/Web/CSS/Value_definition_syntax#single_bar" title="Single bar: exactly one of the entities must be present">|</a><br>  <span class="token keyword">trim-both</span>    <a href="/en-US/docs/Web/CSS/Value_definition_syntax#single_bar" title="Single bar: exactly one of the entities must be present">|</a><br>  <span class="token keyword">trim-all</span>     <br><br></pre>
<h2 id="examples">Examples</h2>
<h3 id="text-spacing-trim_value_comparison"><code>text-spacing-trim</code> value comparison</h3>
<p>This example compares the effect of four different <code>text-spacing-trim</code> properties, applying them to four identical paragraphs so you can see the visual differences between each one.</p>
<h4 id="html">HTML</h4>
<pre class="brush: html">&lt;main&gt;
  &lt;div id="normal"&gt;
    &lt;h2&gt;normal&lt;/h2&gt;
    &lt;p&gt;
      （東）、【「（東）」】。&lt;br /&gt;
      「東」「東」「東」東東東「東」。
    &lt;/p&gt;
  &lt;/div&gt;
  &lt;div id="space-all"&gt;
    &lt;h2&gt;space-all&lt;/h2&gt;
    &lt;p&gt;
      （東）、【「（東）」】。&lt;br /&gt;
      「東」「東」「東」東東東「東」。
    &lt;/p&gt;
  &lt;/div&gt;
  &lt;div id="space-first"&gt;
    &lt;h2&gt;space-first&lt;/h2&gt;
    &lt;p&gt;
      （東）、【「（東）」】。&lt;br /&gt;
      「東」「東」「東」東東東「東」。
    &lt;/p&gt;
  &lt;/div&gt;
  &lt;div id="trim-start"&gt;
    &lt;h2&gt;trim-start&lt;/h2&gt;
    &lt;p&gt;
      （東）、【「（東）」】。&lt;br /&gt;
      「東」「東」「東」東東東「東」。
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/main&gt;
</pre>
<h4 id="css">CSS</h4>
<pre class="brush: css">main {
  font-family: "Yu Gothic", "YuGothic", "Noto Sans JP", "Hiragino Sans",
    "Hiragino Kaku Gothic ProN", sans-serif;
  display: grid;
  gap: 0.5em;
  grid-template-columns: 1fr 1fr;
  width: 70%;
  margin: 0 auto;
}
h2 {
  font-size: 80%;
  margin: 0;
}
p {
  font-size: 20px;
  border: 1px solid blue;
  margin: 0;
}
#normal {
  text-spacing-trim: normal;
  grid-column: 1;
  grid-row: 1;
}
#space-all {
  text-spacing-trim: space-all;
  grid-column: 2;
  grid-row: 1;
}
#space-first {
  text-spacing-trim: space-first;
  grid-column: 1;
  grid-row: 2;
}
#trim-start {
  text-spacing-trim: trim-start;
  grid-column: 2;
  grid-row: 2;
}
</pre>
<h4 id="result">Result</h4><div class="code-example"><div class="example-header"></div><iframe class="sample-code-frame" title="`text-spacing-trim` value comparison sample" id="frame_text-spacing-trim_value_comparison" width="100%" height="320" src="about:blank" data-live-path="/en-US/docs/Web/CSS/text-spacing-trim" data-live-id="text-spacing-trim_value_comparison" sandbox="allow-same-origin allow-scripts"></iframe></div>
<h2 id="specifications">Specifications</h2><div class="bc-specs" data-bcd-query="css.properties.text-spacing-trim" data-spec-urls="">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="browser_compatibility">Browser compatibility</h2><div class="bc-data" data-query="css.properties.text-spacing-trim" data-depth="1" data-multiple="false">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="see_also">See also</h2>
<ul>
  <li><a href="/en-US/docs/Web/CSS/CSS_Values_and_Units#local_font-relative_lengths"><code>ic</code></a> and <a href="/en-US/docs/Web/CSS/CSS_Values_and_Units#root_font-relative_lengths"><code>ric</code></a> units</li>
  <li><a href="/en-US/docs/Web/CSS/CSS_text">CSS Text</a> module</li>
</ul>
</body></html>