{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"IFrame credentialless","mdn_url":"/en-US/docs/Web/Security/IFrame_credentialless","locale":"en-US","native":"English (US)","browserCompat":["html.elements.iframe.credentialless"],"baseline":{"baseline":false,"support":{"chrome":"110","chrome_android":"110","edge":"110"}},"sidebarHTML":"\n<ol><li><a href=\"/en-US/docs/Web/Security/Attacks\">Attacks</a><ol><li><a href=\"/en-US/docs/Web/Security/Attacks\">Attacks</a></li><li><a href=\"/en-US/docs/Web/Security/Attacks/Clickjacking\">Clickjacking</a></li><li><a href=\"/en-US/docs/Web/Security/Attacks/XSS\">Cross-site scripting (XSS)</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Certificate_Transparency\">Certificate Transparency</a></li><li><a href=\"/en-US/docs/Web/Security/User_activation\">Features gated by user activation</a></li><li><a href=\"/en-US/docs/Web/Security/Firefox_Security_Guidelines\">Firefox security guidelines</a></li><li><em><a href=\"/en-US/docs/Web/Security/IFrame_credentialless\" aria-current=\"page\">IFrame credentialless</a></em></li><li><a href=\"/en-US/docs/Web/Security/Insecure_passwords\">Insecure passwords</a></li><li><a href=\"/en-US/docs/Web/Security/Mixed_content\">Mixed content</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides\">Practical security implementation guides</a><ol><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides\">Practical security implementation guides</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/Clickjacking\">Clickjacking prevention</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/Cookies\">Secure cookie configuration</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/CORP\">Cross-Origin Resource Policy (CORP) implementation</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/CORS\">Cross-Origin Resource Sharing (CORS) configuration</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/CSP\">Content Security Policy (CSP) implementation</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/CSRF_prevention\">Cross-site request forgery (CSRF) prevention</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/MIME_types\">MIME type verification</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/Referrer_policy\">Referrer policy configuration</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/Robots_txt\">robots.txt configuration</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/SRI\">Subresource integrity (SRI) implementation</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/TLS\">Transport Layer Security (TLS) configuration</a></li><li><a href=\"/en-US/docs/Web/Security/Practical_implementation_guides/Turning_off_form_autocompletion\">How to turn off form autocompletion</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Referer_header:_privacy_and_security_concerns\">Referer header: Privacy and security concerns</a></li><li><a href=\"/en-US/docs/Web/Security/Same-origin_policy\">Same-origin policy</a></li><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts\">Secure contexts</a><ol><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts\">Secure contexts</a></li><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts\">Features restricted to secure contexts</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Subdomain_takeovers\">Subdomain takeovers</a></li><li><a href=\"/en-US/docs/Web/Security/Subresource_Integrity\">Subresource Integrity</a></li><li><a href=\"/en-US/docs/Web/Security/Transport_Layer_Security\">Transport Layer Security</a></li><li><a href=\"/en-US/docs/Web/Security/Types_of_attacks\">Types of attacks</a></li><li><a href=\"/en-US/docs/Web/Security/Weak_Signature_Algorithm\">Weak signature algorithms</a></li></ol>\n","sidebarMacro":"QuickLinksWithSubpages","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\"><p><strong>Experimental:</strong> <strong>This is an <a href=\"/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental\">experimental technology</a></strong><br>Check the <a href=\"#browser_compatibility\">Browser compatibility table</a> carefully before using this in production.</p></div>\n<p><strong>IFrame credentialless</strong> provides a mechanism for developers to load third-party resources in <a href=\"/en-US/docs/Web/HTML/Element/iframe\"><code>&lt;iframe&gt;</code></a>s using a new, ephemeral context. It doesn't have access to its regular origin's network, cookies, and storage data. It uses a new context local to the top-level document lifetime. In return, the <a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy\"><code>Cross-Origin-Embedder-Policy</code></a> (COEP) embedding rules can be lifted, so documents with COEP set can embed third-party documents that do not.</p>"}},{"type":"prose","value":{"id":"the_problem","title":"The problem","isH3":false,"content":"<p>Various web API features can only be used on sites that opt in to cross-origin isolation — examples include <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer\"><code>SharedArrayBuffer</code></a> and <a href=\"/en-US/docs/Web/API/DOMHighResTimeStamp\" title=\"high-resolution timers\">high-resolution timers</a>. This is because of the risk of such features being exploited in <a href=\"https://spectreattack.com/spectre.pdf\" class=\"external\" target=\"_blank\">Spectre attacks</a>, where a victim's confidential information can be leaked via a side channel and captured by an attacker.</p>\n<p>To opt in to cross-origin isolation, a resource must be served with a <a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy\"><code>Cross-Origin-Opener-Policy</code></a> with a value of <code>same-origin</code> (protects your origin from attackers) and <a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy\"><code>Cross-Origin-Embedder-Policy</code></a> with a value of <code>credentialless</code> or <code>require-corp</code> (protects victims from your origin). The latter prevents a document from loading any credentialled cross-origin resources that don't explicitly grant the document permission using <a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Resource-Policy\"><code>Cross-Origin-Resource-Policy</code></a> or <a href=\"/en-US/docs/Web/HTTP/CORS\">Cross-Origin Resource Sharing</a>.</p>\n<p>The key issue limiting the adoption of cross-origin isolation is the fact that <code>Cross-Origin-Embedder-Policy</code> is applied recursively — any third-party content loaded into <code>&lt;iframe&gt;</code>s in a document with a <code>Cross-Origin-Embedder-Policy</code> set must also deploy <code>Cross-Origin-Embedder-Policy</code> for the embedding to succeed. This is a problem for developers embedding third-party content in their apps (such as ad-network content) as they generally have no control over it — their only choice up to now has been to wait for the third-party content providers to implement <code>Cross-Origin-Embedder-Policy</code>.</p>\n<p>This problem can be solved by IFrame credentialless.</p>"}},{"type":"prose","value":{"id":"the_solution_—_iframe_credentialless","title":"The solution — Iframe credentialless","isH3":false,"content":"<p>An <code>&lt;iframe&gt;</code> is made credentialless by applying the <a href=\"/en-US/docs/Web/HTML/Element/iframe#credentialless\"><code>credentialless</code></a> attribute to it, or setting the equivalent DOM property — <a href=\"/en-US/docs/Web/API/HTMLIFrameElement/credentialless\"><code>HTMLIFrameElement.credentialless</code></a> — to <code>true</code>.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">html</span></div><pre class=\"brush: html notranslate\"><code>&lt;iframe\n  src=\"https://en.wikipedia.org/wiki/Spectre_(security_vulnerability)\"\n  title=\"Spectre vulnerability Wikipedia page\"\n  width=\"960\"\n  height=\"600\"\n  credentialless&gt;&lt;/iframe&gt;\n</code></pre></div>\n<p>Or:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">html</span></div><pre class=\"brush: html notranslate\"><code>&lt;iframe width=\"960\" height=\"600\"&gt; &lt;/iframe&gt;\n</code></pre></div>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>const iframeElem = document.querySelector(\"iframe\");\n\niframeElem.credentialless = true;\niframeElem.title = \"Spectre vulnerability Wikipedia page\";\niframeElem.src =\n  \"https://en.wikipedia.org/wiki/Spectre_(security_vulnerability)\";\n</code></pre></div>\n<div class=\"notecard note\">\n  <p><strong>Note:</strong> The <a href=\"/en-US/docs/Web/API/Window/credentialless\"><code>window.credentialless</code></a> property can be queried by a document embedded in an <code>&lt;iframe&gt;</code> to test whether it is being run in a credentialless context. A value of <code>true</code> means the embedding <code>&lt;iframe&gt;</code> is credentialless.</p>\n</div>\n<p>This results in the documents inside the credentialless <code>&lt;iframe&gt;</code> being loaded using new, ephemeral contexts — those contexts don't have access to the data associated with their origins; for example <a href=\"/en-US/docs/Web/HTTP/Cookies\">cookies</a> and <a href=\"/en-US/docs/Web/API/Window/localStorage\">localStorage</a>. The credentialless storage is partitioned out separately with storage keys modified by a nonce (\"number used once\") value, set once per top-level document. So a cookie set in one credentialless <code>&lt;iframe&gt;</code> will be accessible only from other same-origin credentialless <code>&lt;iframe&gt;</code>s embedded below the same top-level document.</p>\n<p>The nonce is shared for every credentialless iframe that is a descendant of the same top-level document, but it is different for each distinct top-level document the user navigates to, and no longer accessible once the user has navigated away. Credentialless IFrames do not share storage across different pages. Returning to the cookie mentioned above, reloading the document will load the credentialless <code>&lt;iframe&gt;</code>s in a different context, so none of the previously-set cookies will be available.</p>\n<p>In addition:</p>\n<ul>\n  <li>Pop-ups opened by credentialless iframes are opened with <a href=\"/en-US/docs/Web/HTML/Attributes/rel/noopener\"><code>rel=\"noopener\"</code></a> set. This prevents OAuth pop-up flows from being used in credentialless iframes.</li>\n  <li>Browser autofill or password manager functionality is unavailable in credentialless <code>&lt;iframe&gt;</code>s.</li>\n</ul>\n<p>The result of this is that documents loaded into credentialless <code>&lt;iframe&gt;</code>s are effectively vanilla or \"public\" versions, not customized with any user's sensitive information. Since there is no sensitive information available to leak from these documents, they are of no use to would-be attackers, and so the Cross-Origin Embedder Policy requirement is dropped for those IFrames.</p>"}},{"type":"prose","value":{"id":"recursive_credentialless_inside_child_iframes","title":"Recursive credentialless inside child IFrames","isH3":false,"content":"<p>If <code>credentialless</code> is set on an <code>&lt;iframe&gt;</code> that has child <code>&lt;iframe&gt;</code>s embedded in the document loaded inside it, those child <code>&lt;iframe&gt;</code>s inherit the credentialless setting.</p>"}},{"type":"prose","value":{"id":"live_demo","title":"Live demo","isH3":false,"content":"<p>Use the <a href=\"https://anonymous-iframe.glitch.me/\" class=\"external\" target=\"_blank\">https://anonymous-iframe.glitch.me/</a> demo to see IFrame credentialless in action.</p>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://wicg.github.io/anonymous-iframe/","title":"Iframe credentialless"}],"query":"html.elements.iframe.credentialless"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"html.elements.iframe.credentialless"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Opener-Policy\"><code>Cross-Origin-Opener-Policy</code></a></li>\n  <li><a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Embedder-Policy\"><code>Cross-Origin-Embedder-Policy</code></a></li>\n  <li><a href=\"/en-US/docs/Web/HTTP/Headers/Cross-Origin-Resource-Policy\"><code>Cross-Origin-Resource-Policy</code></a></li>\n  <li><a href=\"/en-US/docs/Web/HTTP/CORS\">Cross-Origin Resource Sharing</a></li>\n  <li>The <code>&lt;iframe&gt;</code> <a href=\"/en-US/docs/Web/HTML/Element/iframe#credentialless\"><code>credentialless</code></a> attribute</li>\n  <li><a href=\"/en-US/docs/Web/API/HTMLIFrameElement/credentialless\"><code>HTMLIFrameElement.credentialless</code></a></li>\n</ul>"}}],"toc":[{"text":"The problem","id":"the_problem"},{"text":"The solution — Iframe credentialless","id":"the_solution_—_iframe_credentialless"},{"text":"Recursive credentialless inside child IFrames","id":"recursive_credentialless_inside_child_iframes"},{"text":"Live demo","id":"live_demo"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"IFrame credentialless provides a mechanism for developers to load third-party resources in <iframe>s using a new, ephemeral context. It doesn't have access to its regular origin's network, cookies, and storage data. It uses a new context local to the top-level document lifetime. In return, the Cross-Origin-Embedder-Policy (COEP) embedding rules can be lifted, so documents with COEP set can embed third-party documents that do not.","popularity":0.0028,"modified":null,"other_translations":[],"pageType":"guide","source":{"folder":"en-us/web/security/iframe_credentialless","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/security/iframe_credentialless/index.md","last_commit_url":"https://github.com/mdn/content/commit/null","filename":"index.md"},"short_title":"IFrame credentialless","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/Security","title":"Security on the web"},{"uri":"/en-US/docs/Web/Security/IFrame_credentialless","title":"IFrame credentialless"}],"pageTitle":"IFrame credentialless - Security on the web | MDN","noIndexing":false},"url":"/en-US/docs/Web/Security/IFrame_credentialless"}