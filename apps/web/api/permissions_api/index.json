{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Permissions API","mdn_url":"/en-US/docs/Web/API/Permissions_API","locale":"en-US","native":"English (US)","browserCompat":["api.Permissions","api.Navigator.permissions","api.WorkerNavigator.permissions"],"sidebarHTML":"<ol><li class=\"section\"><em><a href=\"/en-US/docs/Web/API/Permissions_API\" aria-current=\"page\">Permissions API</a></em></li><li class=\"toggle\"><details open=\"\"><summary>Guides</summary><ol><li><a href=\"/en-US/docs/Web/API/Permissions_API/Using_the_Permissions_API\">Using the Permissions API</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Interfaces</summary><ol><li><a href=\"/en-US/docs/Web/API/Permissions\"><code>Permissions</code></a></li><li><a href=\"/en-US/docs/Web/API/PermissionStatus\"><code>PermissionStatus</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/Navigator/permissions\"><code>Navigator.permissions</code></a></li><li><a href=\"/en-US/docs/Web/API/WorkerNavigator/permissions\"><code>WorkerNavigator.permissions</code></a></li></ol></details></li></ol>","sidebarMacro":"DefaultAPISidebar","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard note\">\n  <p><strong>Note:</strong> This feature is available in <a href=\"/en-US/docs/Web/API/Web_Workers_API\">Web Workers</a>.</p>\n</div>\n<p>\n  The <strong>Permissions API</strong> provides a consistent programmatic way to query the status of API permissions attributed to the current context, such as a web page or worker.\n  For example, it can be used to determine if permission to access a particular feature or API has been granted, denied, or requires specific user permission.\n</p>"}},{"type":"prose","value":{"id":"concepts_and_usage","title":"Concepts and usage","isH3":false,"content":"<p>\n  Historically different APIs handle their own permissions inconsistently — for example the <a href=\"/en-US/docs/Web/API/Notifications_API\">Notifications API</a> provided its own methods for requesting permissions and checking permission status, whereas the <a href=\"/en-US/docs/Web/API/Geolocation\">Geolocation API</a> did not.\n  The Permissions API provides the tools to allow developers to implement a consistent user experience for working with permissions.\n</p>\n<p>\n  The permissions from this API effectively aggregate all security restrictions for the context, including any requirement for an API to be used in a secure context, <a href=\"/en-US/docs/Web/HTTP/Headers/Permissions-Policy\">Permissions-Policy</a> restrictions applied to the document, requirements for user interaction, and user prompts.\n  So, for example, if an API is restricted by permissions policy, the returned permission would be <code>denied</code> and the user would not be prompted for access.\n</p>\n<p>The <code>permissions</code> property has been made available on the <a href=\"/en-US/docs/Web/API/Navigator\"><code>Navigator</code></a> object, both in the standard browsing context and the worker context (<a href=\"/en-US/docs/Web/API/WorkerNavigator\"><code>WorkerNavigator</code></a> — so permission checks are available inside workers), and returns a <a href=\"/en-US/docs/Web/API/Permissions\"><code>Permissions</code></a> object that provides access to the Permissions API functionality.</p>\n<p>Once you have this object you can then use the <a href=\"/en-US/docs/Web/API/Permissions/query\"><code>Permissions.query()</code></a> method to return a promise that resolves with the <a href=\"/en-US/docs/Web/API/PermissionStatus\"><code>PermissionStatus</code></a> for a specific API.</p>"}},{"type":"prose","value":{"id":"requesting_permission","title":"Requesting permission","isH3":true,"content":"<p>If the permission status is <code>prompt</code>, the user must acknowledge a prompt to grant access to the feature.</p>\n<p>\n  The mechanism that triggers this prompt will depend on the specific API — it is not defined as part of the Permissions API.\n  Generally the trigger is code calling a method to access or open the feature, or that registers for notifications from the feature that will subsequently access it.\n</p>\n<p>\n  Note that not all features require a prompt.\n  Permission might be granted by a <code>Permission Policy</code>, implicitly by <a href=\"/en-US/docs/Glossary/Transient_activation\">transient activation</a>, or via some other mechanism.\n</p>"}},{"type":"prose","value":{"id":"revoking_permission","title":"Revoking permission","isH3":true,"content":"<p>\n  Permission revocation is not managed by the API.\n  More specifically, a <a href=\"/en-US/docs/Web/API/Permissions/revoke\"><code>Permissions.revoke()</code></a> method was proposed, but has since been removed from those browsers where it was implemented.\n</p>\n<p>Users can manually remove permission for particular sites using browser settings:</p>\n<ul>\n  <li><strong>Firefox</strong>: <em>Hamburger Menu &gt; Settings &gt; Privacy &amp; Security &gt; Permissions</em> (then select the <strong>Settings</strong> button for the permission of interest).</li>\n  <li><strong>Chrome</strong>: <em>Hamburger Menu &gt; Settings &gt; Show advanced settings</em>. In the <em>Privacy</em> section, click <em>Content Settings</em>. In the resulting dialog, find the <em>Location</em> section and select <em>Ask when a site tries to…</em>. Finally, click <em>Manage Exceptions</em> and remove the permissions you granted to the sites you are interested in.</li>\n</ul>"}},{"type":"prose","value":{"id":"permission-aware_apis","title":"Permission-aware APIs","isH3":true,"content":"<p>\n  Not all APIs' permission statuses can be queried using the Permissions API.\n  A non-exhaustive list of permission-aware APIs includes:\n</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/Background_Synchronization_API\">Background Synchronization API</a>: <code>background-sync</code> (should always be granted)</li>\n  <li><a href=\"/en-US/docs/Web/API/Clipboard_API#security_considerations\">Clipboard_API</a>: <code>clipboard-read</code>, <code>clipboard-write</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Compute_Pressure_API\">Compute Pressure API</a>: <code>compute-pressure</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Geolocation_API#security_considerations\">Geolocation API</a>: <code>geolocation</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Local_Font_Access_API\">Local Font Access API</a>: <code>local-fonts</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Media_Capture_and_Streams_API\">Media Capture and Streams API</a>: <code>microphone</code>, <code>camera</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Notifications_API\">Notifications API</a>: <code>notifications</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Payment_Handler_API\">Payment Handler API</a>: <code>payment-handler</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Push_API\">Push API</a>: <code>push</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Screen_Wake_Lock_API\">Screen Wake Lock API</a>: <code>screen-wake-lock</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Sensor_APIs\">Sensor APIs</a>: <code>accelerometer</code>, <code>gyroscope</code>, <code>magnetometer</code>, <code>ambient-light-sensor</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Storage_Access_API\">Storage Access API</a>: <code>storage-access</code>, <code>top-level-storage-access</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Storage_API\">Storage API</a>: <code>persistent-storage</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Web_Bluetooth_API\">Web Bluetooth API</a>: <code>bluetooth</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Web_MIDI_API\">Web MIDI API</a>: <code>midi</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Window_Management_API\">Window Management API</a>: <code>window-management</code></li>\n</ul>"}},{"type":"prose","value":{"id":"interfaces","title":"Interfaces","isH3":false,"content":"<dl>\n  <dt id=\"permissions\"><a href=\"/en-US/docs/Web/API/Permissions\"><code>Permissions</code></a></dt>\n  <dd>\n    <p>Provides the core Permission API functionality, such as methods for querying and revoking permissions.</p>\n  </dd>\n  <dt id=\"permissionstatus\"><a href=\"/en-US/docs/Web/API/PermissionStatus\"><code>PermissionStatus</code></a></dt>\n  <dd>\n    <p>Provides access to the current status of a permission, and an event handler to respond to changes in permission status.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"extensions_to_other_interfaces","title":"Extensions to other interfaces","isH3":true,"content":"<dl>\n  <dt id=\"navigator.permissions\"><a href=\"/en-US/docs/Web/API/Navigator/permissions\"><code>Navigator.permissions</code></a> and <a href=\"/en-US/docs/Web/API/WorkerNavigator/permissions\"><code>WorkerNavigator.permissions</code></a> <span class=\"badge inline readonly\" title=\"This value may not be changed.\">Read only </span></dt>\n  <dd>\n    <p>Provides access to the <a href=\"/en-US/docs/Web/API/Permissions\"><code>Permissions</code></a> object from the main context and worker context respectively.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>\n  We have created an example called Location Finder.\n  You can <a href=\"https://chrisdavidmills.github.io/location-finder-permissions-api/\" class=\"external\" target=\"_blank\">run the example live</a>, <a href=\"https://github.com/chrisdavidmills/location-finder-permissions-api/tree/gh-pages\" class=\"external\" target=\"_blank\">view the source code on GitHub</a>, or read more about how it works in our article <a href=\"/en-US/docs/Web/API/Permissions_API/Using_the_Permissions_API\">Using the Permissions API</a>.\n</p>\n<p>The <a href=\"/en-US/docs/Web/API/Permissions/query#test_support_for_various_permissions\"><code>Permissions.query()</code> example</a> also so shows code that tests most permissions on the current browser and logs the result.</p>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/permissions/","title":"Permissions"}],"query":"api.Permissions,api.Navigator.permissions,api.WorkerNavigator.permissions"}},{"type":"prose","value":{"id":"browser_compatibility","title":"Browser compatibility","isH3":false,"content":""}},{"type":"browser_compatibility","value":{"title":"api.Permissions","id":"api.Permissions","isH3":true,"query":"api.Permissions"}},{"type":"browser_compatibility","value":{"title":"api.Navigator.permissions","id":"api.Navigator.permissions","isH3":true,"query":"api.Navigator.permissions"}},{"type":"browser_compatibility","value":{"title":"api.WorkerNavigator.permissions","id":"api.WorkerNavigator.permissions","isH3":true,"query":"api.WorkerNavigator.permissions"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/Permissions_API/Using_the_Permissions_API\">Using the Permissions API</a></li>\n  <li><a href=\"https://blog.addpipe.com/using-permissions-api-to-detect-getusermedia-responses/\" class=\"external\" target=\"_blank\">Using the Permissions API to Detect How Often Users Allow or Deny Camera Access</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Notification/permission_static\" title=\"Notification.permission\"><code>Notification.permission</code></a></li>\n  <li><a href=\"/en-US/docs/Web/Privacy\">Privacy, permissions, and information security</a></li>\n</ul>"}}],"toc":[{"text":"Concepts and usage","id":"concepts_and_usage"},{"text":"Interfaces","id":"interfaces"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The Permissions API provides a consistent programmatic way to query the status of API permissions attributed to the current context, such as a web page or worker.\n  For example, it can be used to determine if permission to access a particular feature or API has been granted, denied, or requires specific user permission.","popularity":0.0134,"modified":"2020-12-13T23:09:50.655Z","other_translations":[],"pageType":"web-api-overview","source":{"folder":"en-us/web/api/permissions_api","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/permissions_api/index.md","last_commit_url":"https://github.com/mdn/content/commit/null","filename":"index.md"},"short_title":"Permissions API","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Permissions_API","title":"Permissions API"}],"pageTitle":"Permissions API - Web APIs | MDN","noIndexing":false},"url":"/en-US/docs/Web/API/Permissions_API"}