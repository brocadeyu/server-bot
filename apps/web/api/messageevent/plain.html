<html><head></head><body><div class="notecard note">
  <p><strong>Note:</strong> This feature is available in <a href="/en-US/docs/Web/API/Web_Workers_API">Web Workers</a>.</p>
</div>
<p>The <strong><code>MessageEvent</code></strong> interface represents a message received by a target object.</p>
<p>This is used to represent messages in:</p>
<ul>
  <li><a href="/en-US/docs/Web/API/Server-sent_events">Server-sent events</a> (see the <a href="/en-US/docs/Web/API/EventSource/message_event" title="message"><code>message</code></a> event of <a href="/en-US/docs/Web/API/EventSource"><code>EventSource</code></a>).</li>
  <li><a href="/en-US/docs/Web/API/WebSockets_API">Web sockets</a> (see the <a href="/en-US/docs/Web/API/WebSocket/message_event" title="message"><code>message</code></a> event of <a href="/en-US/docs/Web/API/WebSocket"><code>WebSocket</code></a>).</li>
  <li>Cross-document messaging (see <a href="/en-US/docs/Web/API/Window/postMessage"><code>Window.postMessage()</code></a> and the <a href="/en-US/docs/Web/API/Window/message_event" title="message"><code>message</code></a> event of <a href="/en-US/docs/Web/API/Window"><code>Window</code></a>).</li>
  <li><a href="/en-US/docs/Web/API/Channel_Messaging_API">Channel messaging</a> (see <a href="/en-US/docs/Web/API/MessagePort/postMessage"><code>MessagePort.postMessage()</code></a> and the <a href="/en-US/docs/Web/API/MessagePort/message_event" title="message"><code>message</code></a> event of <a href="/en-US/docs/Web/API/MessagePort"><code>MessagePort</code></a>).</li>
  <li>Cross-worker/document messaging (see the above two entries, but also <a href="/en-US/docs/Web/API/Worker/postMessage"><code>Worker.postMessage()</code></a>, the <a href="/en-US/docs/Web/API/Worker/message_event" title="message"><code>message</code></a> event of <a href="/en-US/docs/Web/API/Worker"><code>Worker</code></a>, the <a href="/en-US/docs/Web/API/ServiceWorkerGlobalScope/message_event" title="message"><code>message</code></a> event of <a href="/en-US/docs/Web/API/ServiceWorkerGlobalScope"><code>ServiceWorkerGlobalScope</code></a>, etc.)</li>
  <li><a href="/en-US/docs/Web/API/Broadcast_Channel_API">Broadcast channels</a> (see <a href="/en-US/docs/Web/API/BroadcastChannel/postMessage"><code>BroadcastChannel.postMessage()</code></a> and the <a href="/en-US/docs/Web/API/BroadcastChannel/message_event" title="message"><code>message</code></a> event of <a href="/en-US/docs/Web/API/BroadcastChannel"><code>BroadcastChannel</code></a>).</li>
  <li>WebRTC data channels (see the <a href="/en-US/docs/Web/API/RTCDataChannel/message_event" title="message"><code>message</code></a> event of <a href="/en-US/docs/Web/API/RTCDataChannel"><code>RTCDataChannel</code></a>).</li>
</ul>
<p>The action triggered by this event is defined in a function set as the event handler for the relevant <code>message</code> event.</p><svg viewBox="-1 -1 650 42" preserveAspectRatio="xMinYMin meet">
  <a style="text-decoration: none;" href="/en-US/docs/Web/API/Event">
    <rect x="0" y="0" width="75" height="25" fill="#fff" stroke="#D4DDE4" stroke-width="2px"></rect>
    <text x="37.5" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle">
      Event
    </text>
  </a>
  <line x1="75" y1="14" x2="105" y2="14" stroke="#D4DDE4"></line>
  <polyline points="75,14 85,9 85,19 75,14" stroke="#D4DDE4" fill="#fff"></polyline>
  <a style="text-decoration: none;" href="/en-US/docs/Web/API/MessageEvent" aria-current="page">
    <rect x="105" y="0" width="96" height="25" fill="#F4F7F8" stroke="#D4DDE4" stroke-width="2px"></rect>
    <text x="153" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle">
      MessageEvent
    </text>
  </a></svg>
<h2 id="constructor">Constructor</h2>
<dl>
  <dt id="messageevent"><a href="/en-US/docs/Web/API/MessageEvent/MessageEvent" title="MessageEvent()"><code>MessageEvent()</code></a></dt>
  <dd>
    <p>Creates a new <code>MessageEvent</code>.</p>
  </dd>
</dl>
<h2 id="instance_properties">Instance properties</h2>
<p><em>This interface also inherits properties from its parent, <a href="/en-US/docs/Web/API/Event"><code>Event</code></a>.</em></p>
<dl>
  <dt id="messageevent.data"><a href="/en-US/docs/Web/API/MessageEvent/data"><code>MessageEvent.data</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span></dt>
  <dd>
    <p>The data sent by the message emitter.</p>
  </dd>
  <dt id="messageevent.origin"><a href="/en-US/docs/Web/API/MessageEvent/origin"><code>MessageEvent.origin</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span></dt>
  <dd>
    <p>A string representing the origin of the message emitter.</p>
  </dd>
  <dt id="messageevent.lasteventid"><a href="/en-US/docs/Web/API/MessageEvent/lastEventId"><code>MessageEvent.lastEventId</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span></dt>
  <dd>
    <p>A string representing a unique ID for the event.</p>
  </dd>
  <dt id="messageevent.source"><a href="/en-US/docs/Web/API/MessageEvent/source"><code>MessageEvent.source</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span></dt>
  <dd>
    <p>A <code>MessageEventSource</code> (which can be a <a href="/en-US/docs/Glossary/WindowProxy">WindowProxy</a>, <a href="/en-US/docs/Web/API/MessagePort"><code>MessagePort</code></a>, or <a href="/en-US/docs/Web/API/ServiceWorker"><code>ServiceWorker</code></a> object) representing the message emitter.</p>
  </dd>
  <dt id="messageevent.ports"><a href="/en-US/docs/Web/API/MessageEvent/ports"><code>MessageEvent.ports</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span></dt>
  <dd>
    <p>An array of <a href="/en-US/docs/Web/API/MessagePort"><code>MessagePort</code></a> objects containing all <a href="/en-US/docs/Web/API/MessagePort"><code>MessagePort</code></a> objects sent with the message, in order.</p>
  </dd>
</dl>
<h2 id="instance_methods">Instance methods</h2>
<p><em>This interface also inherits methods from its parent, <a href="/en-US/docs/Web/API/Event"><code>Event</code></a>.</em></p>
<dl>
  <dt id="initmessageevent"><a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!" data-flaw-src="{{domxref(&quot;MessageEvent.initMessageEvent&quot;,&quot;initMessageEvent()&quot;)}}"><code>initMessageEvent()</code></a> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites.">
  <span class="visually-hidden">Deprecated</span>
</abbr></dt>
  <dd>
    <p>Initializes a message event. <strong>Do not use this anymore</strong> — <strong>use the <a href="/en-US/docs/Web/API/MessageEvent/MessageEvent" title="MessageEvent()"><code>MessageEvent()</code></a> constructor instead.</strong></p>
  </dd>
</dl>
<h2 id="examples">Examples</h2>
<p>In our <a href="https://github.com/mdn/dom-examples/tree/main/web-workers/simple-shared-worker">Basic shared worker example</a> (<a href="https://mdn.github.io/dom-examples/web-workers/simple-shared-worker/">run shared worker</a>), we have two HTML pages, each of which uses some JavaScript to perform a calculation. The different scripts are using the same worker file to perform the calculation — they can both access it, even if their pages are running inside different windows.</p>
<p>The following code snippet shows creation of a <a href="/en-US/docs/Web/API/SharedWorker"><code>SharedWorker</code></a> object using the <a href="/en-US/docs/Web/API/SharedWorker/SharedWorker" title="SharedWorker()"><code>SharedWorker()</code></a> constructor. Both scripts contain this:</p>
<pre class="brush: js">const myWorker = new SharedWorker("worker.js");
</pre>
<p>Both scripts then access the worker through a <a href="/en-US/docs/Web/API/MessagePort"><code>MessagePort</code></a> object created using the <a href="/en-US/docs/Web/API/SharedWorker/port"><code>SharedWorker.port</code></a> property. If the onmessage event is attached using addEventListener, the port is manually started using its <code>start()</code> method:</p>
<pre class="brush: js">myWorker.port.start();
</pre>
<p>When the port is started, both scripts post messages to the worker and handle messages sent from it using <code>port.postMessage()</code> and <code>port.onmessage</code>, respectively:</p>
<pre class="brush: js">first.onchange = () =&gt; {
  myWorker.port.postMessage([first.value, second.value]);
  console.log("Message posted to worker");
};

second.onchange = () =&gt; {
  myWorker.port.postMessage([first.value, second.value]);
  console.log("Message posted to worker");
};

myWorker.port.onmessage = (e) =&gt; {
  result1.textContent = e.data;
  console.log("Message received from worker");
};
</pre>
<p>Inside the worker we use the <a href="/en-US/docs/Web/API/SharedWorkerGlobalScope/connect_event" title="onconnect"><code>onconnect</code></a> handler to connect to the same port discussed above. The ports associated with that worker are accessible in the <a href="/en-US/docs/Web/API/SharedWorkerGlobalScope/connect_event" title="connect"><code>connect</code></a> event's <code>ports</code> property — we then use <a href="/en-US/docs/Web/API/MessagePort"><code>MessagePort</code></a> <code>start()</code> method to start the port, and the <code>onmessage</code> handler to deal with messages sent from the main threads.</p>
<pre class="brush: js">onconnect = (e) =&gt; {
  const port = e.ports[0];

  port.addEventListener("message", (e) =&gt; {
    const workerResult = `Result: ${e.data[0] * e.data[1]}`;
    port.postMessage(workerResult);
  });

  port.start(); // Required when using addEventListener. Otherwise called implicitly by onmessage setter.
};
</pre>
<h2 id="specifications">Specifications</h2><div class="bc-specs" data-bcd-query="api.MessageEvent" data-spec-urls="">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="browser_compatibility">Browser compatibility</h2><div class="bc-data" data-query="api.MessageEvent" data-depth="1" data-multiple="false">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="see_also">See also</h2>
<ul>
  <li><a href="/en-US/docs/Web/API/ExtendableMessageEvent"><code>ExtendableMessageEvent</code></a> — similar to this interface but used in interfaces that needs to give more flexibility to authors.</li>
</ul>
</body></html>