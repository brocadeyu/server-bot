{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"PushManager","mdn_url":"/en-US/docs/Web/API/PushManager","locale":"en-US","native":"English (US)","browserCompat":["api.PushManager"],"baseline":{"baseline":"low","baseline_low_date":"2023-03-27","support":{"chrome":"50","chrome_android":"50","edge":"17","firefox":"44","firefox_android":"48","safari":"16","safari_ios":"16.4"}},"sidebarHTML":"<ol><li class=\"section\"><a href=\"/en-US/docs/Web/API/Push_API\">Push API</a></li><li class=\"section\"><em><a href=\"/en-US/docs/Web/API/PushManager\" aria-current=\"page\"><code>PushManager</code></a></em></li><li class=\"toggle\"><details open=\"\"><summary>Static properties</summary><ol><li><a href=\"/en-US/docs/Web/API/PushManager/supportedContentEncodings_static\"><code>supportedContentEncodings</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/PushManager/getSubscription\"><code>getSubscription()</code></a></li><li><a href=\"/en-US/docs/Web/API/PushManager/hasPermission\"><code>hasPermission()</code></a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/PushManager/permissionState\"><code>permissionState()</code></a></li><li><a href=\"/en-US/docs/Web/API/PushManager/register\"><code>register()</code></a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/PushManager/registrations\"><code>registrations()</code></a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/PushManager/subscribe\"><code>subscribe()</code></a></li><li><a href=\"/en-US/docs/Web/API/PushManager/unregister\"><code>unregister()</code></a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Push API</summary><ol><li><a href=\"/en-US/docs/Web/API/PushEvent\"><code>PushEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/PushMessageData\"><code>PushMessageData</code></a></li><li><a href=\"/en-US/docs/Web/API/PushSubscription\"><code>PushSubscription</code></a></li><li><a href=\"/en-US/docs/Web/API/ServiceWorkerRegistration/pushManager\"><code>ServiceWorkerRegistration.pushManager</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\"><p><strong>Secure context:</strong> This feature is available only in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a> (HTTPS), in some or all <a href=\"#browser_compatibility\">supporting browsers</a>.</p></div><div class=\"notecard note\">\n  <p><strong>Note:</strong> This feature is available in <a href=\"/en-US/docs/Web/API/Web_Workers_API\">Web Workers</a>.</p>\n</div>\n<p>The <strong><code>PushManager</code></strong> interface of the <a href=\"/en-US/docs/Web/API/Push_API\">Push API</a> provides a way to receive notifications from third-party servers as well as request URLs for push notifications.</p>\n<p>This interface is accessed via the <a href=\"/en-US/docs/Web/API/ServiceWorkerRegistration/pushManager\"><code>ServiceWorkerRegistration.pushManager</code></a> property.</p>"}},{"type":"prose","value":{"id":"static_properties","title":"Static properties","isH3":false,"content":"<dl>\n  <dt id=\"pushmanager.supportedcontentencodings\"><a href=\"/en-US/docs/Web/API/PushManager/supportedContentEncodings_static\"><code>PushManager.supportedContentEncodings</code></a></dt>\n  <dd>\n    <p>Returns an array of supported content codings that can be used to encrypt the payload of a push message.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"instance_methods","title":"Instance methods","isH3":false,"content":"<dl>\n  <dt id=\"pushmanager.getsubscription\"><a href=\"/en-US/docs/Web/API/PushManager/getSubscription\"><code>PushManager.getSubscription()</code></a></dt>\n  <dd>\n    <p>Retrieves an existing push subscription. It returns a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that resolves to a <a href=\"/en-US/docs/Web/API/PushSubscription\"><code>PushSubscription</code></a> object containing details of an existing subscription. If no existing subscription exists, this resolves to a <code>null</code> value.</p>\n  </dd>\n  <dt id=\"pushmanager.permissionstate\"><a href=\"/en-US/docs/Web/API/PushManager/permissionState\"><code>PushManager.permissionState()</code></a></dt>\n  <dd>\n    <p>Returns a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that resolves to the permission state of the current <code>PushManager</code>, which will be one of <code>'granted'</code>, <code>'denied'</code>, or <code>'prompt'</code>.</p>\n  </dd>\n  <dt id=\"pushmanager.subscribe\"><a href=\"/en-US/docs/Web/API/PushManager/subscribe\"><code>PushManager.subscribe()</code></a></dt>\n  <dd>\n    <p>Subscribes to a push service. It returns a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that resolves to a <a href=\"/en-US/docs/Web/API/PushSubscription\"><code>PushSubscription</code></a> object containing details of a push subscription. A new push subscription is created if the current service worker does not have an existing subscription.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"deprecated_methods","title":"Deprecated methods","isH3":true,"content":"<dl>\n  <dt id=\"pushmanager.haspermission\"><a href=\"/en-US/docs/Web/API/PushManager/hasPermission\"><code>PushManager.hasPermission()</code></a> <abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr> <abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr></dt>\n  <dd>\n    <p>Returns a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that resolves to the <code>PushPermissionStatus</code> of the requesting webapp, which will be one of <code>granted</code>, <code>denied</code>, or <code>default</code>. Replaced by <a href=\"/en-US/docs/Web/API/PushManager/permissionState\"><code>PushManager.permissionState()</code></a>.</p>\n  </dd>\n  <dt id=\"pushmanager.register\"><a href=\"/en-US/docs/Web/API/PushManager/register\"><code>PushManager.register()</code></a> <abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr> <abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr></dt>\n  <dd>\n    <p>Subscribes to a push subscription. Replaced by <a href=\"/en-US/docs/Web/API/PushManager/subscribe\"><code>PushManager.subscribe()</code></a>.</p>\n  </dd>\n  <dt id=\"pushmanager.registrations\"><a href=\"/en-US/docs/Web/API/PushManager/registrations\"><code>PushManager.registrations()</code></a> <abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr> <abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr></dt>\n  <dd>\n    <p>Retrieves existing push subscriptions. Replaced by <a href=\"/en-US/docs/Web/API/PushManager/getSubscription\"><code>PushManager.getSubscription()</code></a>.</p>\n  </dd>\n  <dt id=\"pushmanager.unregister\"><a href=\"/en-US/docs/Web/API/PushManager/unregister\"><code>PushManager.unregister()</code></a> <abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr> <abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr></dt>\n  <dd>\n    <p>Unregisters and deletes a specified subscription endpoint. In the updated API, a subscription is unregistered by calling the <a href=\"/en-US/docs/Web/API/PushSubscription/unsubscribe\"><code>PushSubscription.unsubscribe()</code></a> method.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"example","title":"Example","isH3":false,"content":"<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>this.onpush = (event) =&gt; {\n  console.log(event.data);\n  // From here we can write the data to IndexedDB, send it to any open\n  // windows, display a notification, etc.\n};\n\nnavigator.serviceWorker\n  .register(\"serviceworker.js\")\n  .then((serviceWorkerRegistration) =&gt; {\n    serviceWorkerRegistration.pushManager.subscribe().then(\n      (pushSubscription) =&gt; {\n        console.log(pushSubscription.endpoint);\n        // The push subscription details needed by the application\n        // server are now available, and can be sent to it using,\n        // for example, the fetch() API.\n      },\n      (error) =&gt; {\n        console.error(error);\n      },\n    );\n  });\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/push-api/#pushmanager-interface","title":"Push API"}],"query":"api.PushManager"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.PushManager"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/Push_API\">Push API</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Service_Worker_API\">Service Worker API</a></li>\n</ul>"}}],"toc":[{"text":"Static properties","id":"static_properties"},{"text":"Instance methods","id":"instance_methods"},{"text":"Example","id":"example"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The PushManager interface of the Push API provides a way to receive notifications from third-party servers as well as request URLs for push notifications.","popularity":0.0041,"modified":"2020-10-15T21:24:00.894Z","other_translations":[],"pageType":"web-api-interface","source":{"folder":"en-us/web/api/pushmanager","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/pushmanager/index.md","last_commit_url":"https://github.com/mdn/content/commit/null","filename":"index.md"},"short_title":"PushManager","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/PushManager","title":"PushManager"}],"pageTitle":"PushManager - Web APIs | MDN","noIndexing":false},"url":"/en-US/docs/Web/API/PushManager"}