<html><head></head><body><div class="notecard experimental">
    <h4 id="experimental">Experimental</h4>
    <p><strong>This is an <a href="/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental">experimental technology</a></strong><br>Check the <a href="#browser_compatibility">Browser compatibility table</a> carefully before using this in production.</p>
</div><div class="notecard note">
  <p><strong>Note:</strong> This feature is available in <a href="/en-US/docs/Web/API/Web_Workers_API">Web Workers</a>.</p>
</div>
<p>The <strong><code>BackgroundFetchRegistration</code></strong> interface of the <a href="/en-US/docs/Web/API/Background_Fetch_API">Background Fetch API</a> represents an individual background fetch.</p>
<p>A <code>BackgroundFetchRegistration</code> instance is returned by the <a href="/en-US/docs/Web/API/BackgroundFetchManager/fetch"><code>BackgroundFetchManager.fetch()</code></a> or <a href="/en-US/docs/Web/API/BackgroundFetchManager/get"><code>BackgroundFetchManager.get()</code></a> methods, and therefore there has no constructor.</p><svg viewBox="-1 -1 650 42" preserveAspectRatio="xMinYMin meet">
  <a style="text-decoration: none;" href="/en-US/docs/Web/API/EventTarget">
    <rect x="0" y="0" width="88" height="25" fill="#fff" stroke="#D4DDE4" stroke-width="2px"></rect>
    <text x="44" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle">
      EventTarget
    </text>
  </a>
  <line x1="88" y1="14" x2="118" y2="14" stroke="#D4DDE4"></line>
  <polyline points="88,14 98,9 98,19 88,14" stroke="#D4DDE4" fill="#fff"></polyline>
  <a style="text-decoration: none;" href="/en-US/docs/Web/API/BackgroundFetchRegistration" aria-current="page">
    <rect x="118" y="0" width="216" height="25" fill="#F4F7F8" stroke="#D4DDE4" stroke-width="2px"></rect>
    <text x="226" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle">
      BackgroundFetchRegistration
    </text>
  </a></svg>
<h2 id="instance_properties">Instance properties</h2>
<p><em>Also inherits properties from its parent, <a href="/en-US/docs/Web/API/EventTarget"><code>EventTarget</code></a>.</em></p>
<dl>
  <dt id="backgroundfetchregistration.id"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/id"><code>BackgroundFetchRegistration.id</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>A string containing the background fetch's ID.</p>
  </dd>
  <dt id="backgroundfetchregistration.uploadtotal"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/uploadTotal"><code>BackgroundFetchRegistration.uploadTotal</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>A <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><code>number</code></a> containing the total number of bytes to be uploaded.</p>
  </dd>
  <dt id="backgroundfetchregistration.uploaded"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/uploaded"><code>BackgroundFetchRegistration.uploaded</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>A <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><code>number</code></a> containing the size in bytes successfully sent, initially <code>0</code>.</p>
  </dd>
  <dt id="backgroundfetchregistration.downloadtotal"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/downloadTotal"><code>BackgroundFetchRegistration.downloadTotal</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>A <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><code>number</code></a> containing the total size in bytes of this download. This is the value set when the background fetch was registered, or <code>0</code>.</p>
  </dd>
  <dt id="backgroundfetchregistration.downloaded"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/downloaded"><code>BackgroundFetchRegistration.downloaded</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>A <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number"><code>number</code></a> containing the size in bytes that has been downloaded, initially <code>0</code>.</p>
  </dd>
  <dt id="backgroundfetchregistration.result"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/result"><code>BackgroundFetchRegistration.result</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>Returns an empty string initially, on completion either the string <code>"success"</code> or <code>"failure"</code>.</p>
  </dd>
  <dt id="backgroundfetchregistration.failurereason"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/failureReason"><code>BackgroundFetchRegistration.failureReason</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>A string with a value that indicates a reason for a background fetch failure. Can be one of the following values: <code>""</code>, <code>"aborted"</code>, <code>"bad-status"</code>, <code>"fetch-error"</code>, <code>"quota-exceeded"</code>, <code>"download-total-exceeded"</code>.</p>
  </dd>
  <dt id="backgroundfetchregistration.recordsavailable"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/recordsAvailable"><code>BackgroundFetchRegistration.recordsAvailable</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>A <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean"><code>boolean</code></a> indicating whether the <code>recordsAvailable</code> flag is set.</p>
  </dd>
</dl>
<h2 id="instance_methods">Instance methods</h2>
<p><em>Also inherits methods from its parent, <a href="/en-US/docs/Web/API/EventTarget"><code>EventTarget</code></a>.</em></p>
<dl>
  <dt id="backgroundfetchregistration.abort"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/abort"><code>BackgroundFetchRegistration.abort()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>Aborts the background fetch. Returns a <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves with <code>true</code> if the fetch was successfully aborted.</p>
  </dd>
  <dt id="backgroundfetchregistration.match"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/match"><code>BackgroundFetchRegistration.match()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>Returns a single <a href="/en-US/docs/Web/API/BackgroundFetchRecord"><code>BackgroundFetchRecord</code></a> object which is the first match for the arguments.</p>
  </dd>
  <dt id="backgroundfetchregistration.matchall"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/matchAll"><code>BackgroundFetchRegistration.matchAll()</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>Returns a <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves with an array of <a href="/en-US/docs/Web/API/BackgroundFetchRecord"><code>BackgroundFetchRecord</code></a> objects containing requests and responses.</p>
  </dd>
</dl>
<h2 id="events">Events</h2>
<p><em>Also inherits events from its parent, <a href="/en-US/docs/Web/API/EventTarget"><code>EventTarget</code></a>.</em></p>
<p>Listen to these events using <a href="/en-US/docs/Web/API/EventTarget/addEventListener" title="addEventListener()"><code>addEventListener()</code></a> or by assigning an event listener to the <code>oneventname</code> property of this interface.</p>
<dl>
  <dt id="progress"><a href="/en-US/docs/Web/API/BackgroundFetchRegistration/progress_event" title="progress"><code>progress</code></a> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>
      Fired when there is a change to any of the following properties:
      <a href="/en-US/docs/Web/API/BackgroundFetchRegistration/uploaded" title="uploaded"><code>uploaded</code></a>,
      <a href="/en-US/docs/Web/API/BackgroundFetchRegistration/downloaded" title="downloaded"><code>downloaded</code></a>,
      <a href="/en-US/docs/Web/API/BackgroundFetchRegistration/result" title="result"><code>result</code></a> or
      <a href="/en-US/docs/Web/API/BackgroundFetchRegistration/failureReason" title="failureReason"><code>failureReason</code></a>.
    </p>
  </dd>
</dl>
<h2 id="examples">Examples</h2>
<p>The following code creates a <code>BackGroundFetchRegistration</code> as <code>bgFetch</code>, with an <code>id</code> of <code>"my-fetch"</code>.</p>
<pre class="brush: js">navigator.serviceWorker.ready.then(async (swReg) =&gt; {
  const bgFetch = await swReg.backgroundFetch.fetch(
    "my-fetch",
    ["/ep-5.mp3", "ep-5-artwork.jpg"],
    {
      title: "Episode 5: Interesting things.",
      icons: [
        {
          sizes: "300x300",
          src: "/ep-5-icon.png",
          type: "image/png",
        },
      ],
      downloadTotal: 60 * 1024 * 1024,
    },
  );
});
</pre>
<p>Logging the <a href="/en-US/docs/Web/API/BackgroundFetchRegistration/id" title="id"><code>id</code></a> to the console returns <code>"my-fetch"</code>.</p>
<pre class="brush: js">console.log(bgFetch.id); // "my-fetch"
</pre>
<p>The <a href="/en-US/docs/Web/API/BackgroundFetchRegistration/match" title="match()"><code>match()</code></a> method can be used to find a particular <a href="/en-US/docs/Web/API/BackgroundFetchRecord"><code>BackgroundFetchRecord</code></a> from those that are part of the registration.</p>
<pre class="brush: js">bgFetch.match("/ep-5.mp3").then(async (record) =&gt; {
  if (!record) {
    console.log("No record found");
    return;
  }

  console.log(`Here's the request`, record.request);
  const response = await record.responseReady;
  console.log(`And here's the response`, response);
});
</pre>
<h2 id="specifications">Specifications</h2><div class="bc-specs" data-bcd-query="api.BackgroundFetchRegistration" data-spec-urls="">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="browser_compatibility">Browser compatibility</h2><div class="bc-data" data-query="api.BackgroundFetchRegistration" data-depth="1" data-multiple="false">
  If you're able to see this, something went wrong on this page.
</div>
</body></html>