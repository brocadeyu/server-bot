<html><head></head><body>
<p>The <strong><code>MediaRecorder</code></strong> interface of the <a href="/en-US/docs/Web/API/MediaStream_Recording_API">MediaStream Recording API</a> provides functionality to easily record media. It is created using the <a href="/en-US/docs/Web/API/MediaRecorder/MediaRecorder" title="MediaRecorder()"><code>MediaRecorder()</code></a> constructor.</p><svg viewBox="-1 -1 650 42" preserveAspectRatio="xMinYMin meet">
  <a style="text-decoration: none;" href="/en-US/docs/Web/API/EventTarget">
    <rect x="0" y="0" width="88" height="25" fill="#fff" stroke="#D4DDE4" stroke-width="2px"></rect>
    <text x="44" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle">
      EventTarget
    </text>
  </a>
  <line x1="88" y1="14" x2="118" y2="14" stroke="#D4DDE4"></line>
  <polyline points="88,14 98,9 98,19 88,14" stroke="#D4DDE4" fill="#fff"></polyline>
  <a style="text-decoration: none;" href="/en-US/docs/Web/API/MediaRecorder" aria-current="page">
    <rect x="118" y="0" width="104" height="25" fill="#F4F7F8" stroke="#D4DDE4" stroke-width="2px"></rect>
    <text x="170" y="16" font-size="10px" fill="#4D4E53" text-anchor="middle">
      MediaRecorder
    </text>
  </a></svg>
<h2 id="constructor">Constructor</h2>
<dl>
  <dt id="mediarecorder"><a href="/en-US/docs/Web/API/MediaRecorder/MediaRecorder" title="MediaRecorder()"><code>MediaRecorder()</code></a></dt>
  <dd>
    <p>Creates a new <code>MediaRecorder</code> object, given a <a href="/en-US/docs/Web/API/MediaStream"><code>MediaStream</code></a> to record. Options are available to do things like set the container's MIME type (such as <code>"video/webm"</code> or <code>"video/mp4"</code>) and the bit rates of the audio and video tracks or a single overall bit rate.</p>
  </dd>
</dl>
<h2 id="instance_properties">Instance properties</h2>
<dl>
  <dt id="mediarecorder.mimetype"><a href="/en-US/docs/Web/API/MediaRecorder/mimeType"><code>MediaRecorder.mimeType</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span></dt>
  <dd>
    <p>Returns the MIME type that was selected as the recording container for the <code>MediaRecorder</code> object when it was created.</p>
  </dd>
  <dt id="mediarecorder.state"><a href="/en-US/docs/Web/API/MediaRecorder/state"><code>MediaRecorder.state</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span></dt>
  <dd>
    <p>Returns the current state of the <code>MediaRecorder</code> object (<code>inactive</code>, <code>recording</code>, or <code>paused</code>.)</p>
  </dd>
  <dt id="mediarecorder.stream"><a href="/en-US/docs/Web/API/MediaRecorder/stream"><code>MediaRecorder.stream</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span></dt>
  <dd>
    <p>Returns the stream that was passed into the constructor when the <code>MediaRecorder</code> was created.</p>
  </dd>
  <dt id="mediarecorder.videobitspersecond"><a href="/en-US/docs/Web/API/MediaRecorder/videoBitsPerSecond"><code>MediaRecorder.videoBitsPerSecond</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span></dt>
  <dd>
    <p>Returns the video encoding bit rate in use. This may differ from the bit rate specified in the constructor (if it was provided).</p>
  </dd>
  <dt id="mediarecorder.audiobitspersecond"><a href="/en-US/docs/Web/API/MediaRecorder/audioBitsPerSecond"><code>MediaRecorder.audioBitsPerSecond</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span></dt>
  <dd>
    <p>Returns the audio encoding bit rate in use. This may differ from the bit rate specified in the constructor (if it was provided).</p>
  </dd>
  <dt id="mediarecorder.audiobitratemode"><a href="/en-US/docs/Web/API/MediaRecorder/audioBitrateMode"><code>MediaRecorder.audioBitrateMode</code></a> <span class="badge inline readonly" title="This value may not be changed.">Read only </span> <abbr class="icon icon-experimental" title="Experimental. Expect behavior to change in the future.">
    <span class="visually-hidden">Experimental</span>
</abbr></dt>
  <dd>
    <p>Returns the bitrate mode used to encode audio tracks.</p>
  </dd>
</dl>
<h2 id="static_methods">Static methods</h2>
<dl>
  <dt id="mediarecorder.istypesupported"><a href="/en-US/docs/Web/API/MediaRecorder/isTypeSupported_static" title="MediaRecorder.isTypeSupported()"><code>MediaRecorder.isTypeSupported()</code></a></dt>
  <dd>
    <p>A static method which returns a <code>true</code> or <code>false</code> value indicating if the given MIME media type is supported by the current user agent.</p>
  </dd>
</dl>
<h2 id="instance_methods">Instance methods</h2>
<dl>
  <dt id="mediarecorder.pause"><a href="/en-US/docs/Web/API/MediaRecorder/pause"><code>MediaRecorder.pause()</code></a></dt>
  <dd>
    <p>Pauses the recording of media.</p>
  </dd>
  <dt id="mediarecorder.requestdata"><a href="/en-US/docs/Web/API/MediaRecorder/requestData"><code>MediaRecorder.requestData()</code></a></dt>
  <dd>
    <p>Requests a <a href="/en-US/docs/Web/API/Blob"><code>Blob</code></a> containing the saved data received thus far (or since the last time <code>requestData()</code> was called. After calling this method, recording continues, but in a new <code>Blob</code>.</p>
  </dd>
  <dt id="mediarecorder.resume"><a href="/en-US/docs/Web/API/MediaRecorder/resume"><code>MediaRecorder.resume()</code></a></dt>
  <dd>
    <p>Resumes recording of media after having been paused.</p>
  </dd>
  <dt id="mediarecorder.start"><a href="/en-US/docs/Web/API/MediaRecorder/start"><code>MediaRecorder.start()</code></a></dt>
  <dd>
    <p>Begins recording media; this method can optionally be passed a <code>timeslice</code> argument with a value in milliseconds. If this is specified, the media will be captured in separate chunks of that duration, rather than the default behavior of recording the media in a single large chunk.</p>
  </dd>
  <dt id="mediarecorder.stop"><a href="/en-US/docs/Web/API/MediaRecorder/stop"><code>MediaRecorder.stop()</code></a></dt>
  <dd>
    <p>Stops recording, at which point a <a href="/en-US/docs/Web/API/MediaRecorder/dataavailable_event" title="dataavailable"><code>dataavailable</code></a> event containing the final <code>Blob</code> of saved data is fired. No more recording occurs.</p>
  </dd>
</dl>
<h2 id="events">Events</h2>
<p>Listen to these events using <code>addEventListener()</code> or by assigning an event listener to the <code>oneventname</code> property of this interface.</p>
<dl>
  <dt id="dataavailable"><a href="/en-US/docs/Web/API/MediaRecorder/dataavailable_event" title="dataavailable"><code>dataavailable</code></a></dt>
  <dd>
    <p>Fires periodically each time <code>timeslice</code> milliseconds of media have been recorded (or when the entire media has been recorded, if <code>timeslice</code> wasn't specified). The event, of type <a href="/en-US/docs/Web/API/BlobEvent"><code>BlobEvent</code></a>, contains the recorded media in its <a href="/en-US/docs/Web/API/BlobEvent/data" title="data"><code>data</code></a> property.</p>
  </dd>
  <dt id="error"><a href="/en-US/docs/Web/API/MediaRecorder/error_event" title="error"><code>error</code></a></dt>
  <dd>
    <p>Fired when there are fatal errors that stop recording. The received event is based on the <a href="/en-US/docs/Web/API/MediaRecorderErrorEvent"><code>MediaRecorderErrorEvent</code></a> interface, whose <a href="/en-US/docs/Web/API/MediaRecorderErrorEvent/error" title="error"><code>error</code></a> property contains a <a href="/en-US/docs/Web/API/DOMException"><code>DOMException</code></a> that describes the actual error that occurred.</p>
  </dd>
  <dt id="pause"><a href="/en-US/docs/Web/API/MediaRecorder/pause_event" title="pause"><code>pause</code></a></dt>
  <dd>
    <p>Fired when media recording is paused.</p>
  </dd>
  <dt id="resume"><a href="/en-US/docs/Web/API/MediaRecorder/resume_event" title="resume"><code>resume</code></a></dt>
  <dd>
    <p>Fired when media recording resumes after being paused.</p>
  </dd>
  <dt id="start"><a href="/en-US/docs/Web/API/MediaRecorder/start_event" title="start"><code>start</code></a></dt>
  <dd>
    <p>Fired when media recording starts.</p>
  </dd>
  <dt id="stop"><a href="/en-US/docs/Web/API/MediaRecorder/stop_event" title="stop"><code>stop</code></a></dt>
  <dd>
    <p>Fired when media recording ends, either when the <a href="/en-US/docs/Web/API/MediaStream"><code>MediaStream</code></a> ends, or after the <a href="/en-US/docs/Web/API/MediaRecorder/stop"><code>MediaRecorder.stop()</code></a> method is called.</p>
  </dd>
</dl>
<h2 id="example">Example</h2>
<pre class="brush: js">if (navigator.mediaDevices) {
  console.log("getUserMedia supported.");

  const constraints = { audio: true };
  let chunks = [];

  navigator.mediaDevices
    .getUserMedia(constraints)
    .then((stream) =&gt; {
      const mediaRecorder = new MediaRecorder(stream);

      record.onclick = () =&gt; {
        mediaRecorder.start();
        console.log(mediaRecorder.state);
        console.log("recorder started");
        record.style.background = "red";
        record.style.color = "black";
      };

      stop.onclick = () =&gt; {
        mediaRecorder.stop();
        console.log(mediaRecorder.state);
        console.log("recorder stopped");
        record.style.background = "";
        record.style.color = "";
      };

      mediaRecorder.onstop = (e) =&gt; {
        console.log("data available after MediaRecorder.stop() called.");

        const clipName = prompt("Enter a name for your sound clip");

        const clipContainer = document.createElement("article");
        const clipLabel = document.createElement("p");
        const audio = document.createElement("audio");
        const deleteButton = document.createElement("button");
        const mainContainer = document.querySelector("body");

        clipContainer.classList.add("clip");
        audio.setAttribute("controls", "");
        deleteButton.textContent = "Delete";
        clipLabel.textContent = clipName;

        clipContainer.appendChild(audio);
        clipContainer.appendChild(clipLabel);
        clipContainer.appendChild(deleteButton);
        mainContainer.appendChild(clipContainer);

        audio.controls = true;
        const blob = new Blob(chunks, { type: "audio/ogg; codecs=opus" });
        chunks = [];
        const audioURL = URL.createObjectURL(blob);
        audio.src = audioURL;
        console.log("recorder stopped");

        deleteButton.onclick = (e) =&gt; {
          const evtTgt = e.target;
          evtTgt.parentNode.parentNode.removeChild(evtTgt.parentNode);
        };
      };

      mediaRecorder.ondataavailable = (e) =&gt; {
        chunks.push(e.data);
      };
    })
    .catch((err) =&gt; {
      console.error(`The following error occurred: ${err}`);
    });
}
</pre>
<div class="notecard note">
  <p><strong>Note:</strong> This code sample is inspired by the Web Dictaphone demo. Some lines have been omitted for brevity; <a href="https://github.com/mdn/dom-examples/tree/main/media/web-dictaphone">refer to the source</a> for the complete code.</p>
</div>
<h2 id="specifications">Specifications</h2><div class="bc-specs" data-bcd-query="api.MediaRecorder" data-spec-urls="">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="browser_compatibility">Browser compatibility</h2><div class="bc-data" data-query="api.MediaRecorder" data-depth="1" data-multiple="false">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="see_also">See also</h2>
<ul>
  <li><a href="/en-US/docs/Web/API/MediaStream_Recording_API/Using_the_MediaStream_Recording_API">Using the MediaStream Recording API</a></li>
  <li><a href="https://mdn.github.io/dom-examples/media/web-dictaphone/">Web Dictaphone</a>: MediaRecorder + getUserMedia + Web Audio API visualization demo, by <a href="https://github.com/chrisdavidmills">Chris Mills</a> (<a href="https://github.com/mdn/dom-examples/tree/main/media/web-dictaphone">source on GitHub</a>.)</li>
  <li><a href="/en-US/docs/Web/API/MediaStream_Recording_API/Recording_a_media_element">Recording a media element</a></li>
  <li><a href="https://simpl.info/mediarecorder/">simpl.info MediaStream Recording demo</a>, by <a href="https://github.com/samdutton">Sam Dutton</a>.</li>
  <li><a href="/en-US/docs/Web/API/MediaDevices/getUserMedia"><code>MediaDevices.getUserMedia()</code></a></li>
  <li><a href="https://github.com/chrisjohndigital/OpenLang">OpenLang</a>: HTML video language lab web application using MediaDevices and the MediaStream Recording API for video recording (<a href="https://github.com/chrisjohndigital/OpenLang">source on GitHub</a>)</li>
</ul>
</body></html>