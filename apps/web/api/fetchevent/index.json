{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"FetchEvent","mdn_url":"/en-US/docs/Web/API/FetchEvent","locale":"en-US","native":"English (US)","browserCompat":["api.FetchEvent"],"baseline":{"baseline":"high","baseline_high_date":"2020-10-30","baseline_low_date":"2018-04-30","support":{"chrome":"45","chrome_android":"45","edge":"17","firefox":"44","firefox_android":"44","safari":"11.1","safari_ios":"11.3"}},"sidebarHTML":"<ol><li class=\"section\"><a href=\"/en-US/docs/Web/API/Service_Worker_API\">Service Worker API</a></li><li class=\"section\"><em><a href=\"/en-US/docs/Web/API/FetchEvent\" aria-current=\"page\"><code>FetchEvent</code></a></em></li><li class=\"toggle\"><details open=\"\"><summary>Constructor</summary><ol><li><a href=\"/en-US/docs/Web/API/FetchEvent/FetchEvent\"><code>FetchEvent()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Instance properties</summary><ol><li><a href=\"/en-US/docs/Web/API/FetchEvent/clientId\"><code>clientId</code></a></li><li><a href=\"/en-US/docs/Web/API/FetchEvent/handled\"><code>handled</code></a></li><li><a href=\"/en-US/docs/Web/API/FetchEvent/isReload\"><code>isReload</code></a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/FetchEvent/preloadResponse\"><code>preloadResponse</code></a></li><li><a href=\"/en-US/docs/Web/API/FetchEvent/replacesClientId\"><code>replacesClientId</code></a></li><li><a href=\"/en-US/docs/Web/API/FetchEvent/request\"><code>request</code></a></li><li><a href=\"/en-US/docs/Web/API/FetchEvent/resultingClientId\"><code>resultingClientId</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/FetchEvent/respondWith\"><code>respondWith()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance</summary><ol><li><a href=\"/en-US/docs/Web/API/ExtendableEvent\"><code>ExtendableEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/Event\"><code>Event</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Service Workers API</summary><ol><li><a href=\"/en-US/docs/Web/API/Cache\"><code>Cache</code></a></li><li><a href=\"/en-US/docs/Web/API/CacheStorage\"><code>CacheStorage</code></a></li><li><a href=\"/en-US/docs/Web/API/Client\"><code>Client</code></a></li><li><a href=\"/en-US/docs/Web/API/Clients\"><code>Clients</code></a></li><li><a href=\"/en-US/docs/Web/API/ExtendableEvent\"><code>ExtendableEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/ExtendableMessageEvent\"><code>ExtendableMessageEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/InstallEvent\"><code>InstallEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/NavigationPreloadManager\"><code>NavigationPreloadManager</code></a></li><li><a href=\"/en-US/docs/Web/API/Navigator/serviceWorker\"><code>Navigator.serviceWorker</code></a></li><li><a href=\"/en-US/docs/Web/API/ServiceWorker\"><code>ServiceWorker</code></a></li><li><a href=\"/en-US/docs/Web/API/ServiceWorkerContainer\"><code>ServiceWorkerContainer</code></a></li><li><a href=\"/en-US/docs/Web/API/ServiceWorkerGlobalScope\"><code>ServiceWorkerGlobalScope</code></a></li><li><a href=\"/en-US/docs/Web/API/ServiceWorkerRegistration\"><code>ServiceWorkerRegistration</code></a></li><li><a href=\"/en-US/docs/Web/API/Window/caches\"><code>Window.caches</code></a></li><li><a href=\"/en-US/docs/Web/API/WindowClient\"><code>WindowClient</code></a></li><li><a href=\"/en-US/docs/Web/API/WorkerGlobalScope/caches\"><code>WorkerGlobalScope.caches</code></a></li><li><a href=\"/en-US/docs/Web/API/WorkerNavigator/serviceWorker\"><code>WorkerNavigator.serviceWorker</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard note\">\n  <p><strong>Note:</strong> This feature is only available in <a href=\"/en-US/docs/Web/API/Service_Worker_API\">Service Workers</a>.</p>\n</div>\n<p>This is the event type for <code>fetch</code> events dispatched on the <a href=\"/en-US/docs/Web/API/ServiceWorkerGlobalScope\" title=\"service worker global scope\">service worker global scope</a>. It contains information about the fetch, including the request and how the receiver will treat the response. It provides the <a href=\"/en-US/docs/Web/API/FetchEvent/respondWith\" title=\"event.respondWith()\"><code>event.respondWith()</code></a> method, which allows us to provide a response to this fetch.</p><svg viewBox=\"-1 -1 650 42\" preserveAspectRatio=\"xMinYMin meet\">\n  <a style=\"text-decoration: none;\" href=\"/en-US/docs/Web/API/Event\">\n    <rect x=\"0\" y=\"0\" width=\"75\" height=\"25\" fill=\"#fff\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"37.5\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      Event\n    </text>\n  </a>\n  <line x1=\"75\" y1=\"14\" x2=\"105\" y2=\"14\" stroke=\"#D4DDE4\"></line>\n  <polyline points=\"75,14 85,9 85,19 75,14\" stroke=\"#D4DDE4\" fill=\"#fff\"></polyline>\n  <a style=\"text-decoration: none;\" href=\"/en-US/docs/Web/API/ExtendableEvent\">\n    <rect x=\"105\" y=\"0\" width=\"120\" height=\"25\" fill=\"#fff\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"165\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      ExtendableEvent\n    </text>\n  </a>\n  <line x1=\"225\" y1=\"14\" x2=\"255\" y2=\"14\" stroke=\"#D4DDE4\"></line>\n  <polyline points=\"225,14 235,9 235,19 225,14\" stroke=\"#D4DDE4\" fill=\"#fff\"></polyline>\n  <a style=\"text-decoration: none;\" href=\"/en-US/docs/Web/API/FetchEvent\" aria-current=\"page\">\n    <rect x=\"255\" y=\"0\" width=\"80\" height=\"25\" fill=\"#F4F7F8\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"295\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      FetchEvent\n    </text>\n  </a></svg>"}},{"type":"prose","value":{"id":"constructor","title":"Constructor","isH3":false,"content":"<dl>\n  <dt id=\"fetchevent\"><a href=\"/en-US/docs/Web/API/FetchEvent/FetchEvent\" title=\"FetchEvent()\"><code>FetchEvent()</code></a></dt>\n  <dd>\n    <p>Creates a new <code>FetchEvent</code> object. This constructor is not typically used. The browser creates these objects and provides them to <code>fetch</code> event callbacks.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"instance_properties","title":"Instance properties","isH3":false,"content":"<p><em>Inherits properties from its ancestor, <a href=\"/en-US/docs/Web/API/Event\"><code>Event</code></a></em>.</p>\n<dl>\n  <dt id=\"fetchevent.clientid\"><a href=\"/en-US/docs/Web/API/FetchEvent/clientId\"><code>FetchEvent.clientId</code></a> <span class=\"badge inline readonly\" title=\"This value may not be changed.\">Read only </span></dt>\n  <dd>\n    <p>The <a href=\"/en-US/docs/Web/API/Client/id\" title=\"id\"><code>id</code></a> of the same-origin <a href=\"/en-US/docs/Web/API/Client\" title=\"client\"><code>client</code></a> that initiated the fetch.</p>\n  </dd>\n  <dt id=\"fetchevent.handled\"><a href=\"/en-US/docs/Web/API/FetchEvent/handled\"><code>FetchEvent.handled</code></a> <span class=\"badge inline readonly\" title=\"This value may not be changed.\">Read only </span></dt>\n  <dd>\n    <p>A promise that is pending while the event has not been handled, and fulfilled once it has.</p>\n  </dd>\n  <dt id=\"fetchevent.isreload\"><a href=\"/en-US/docs/Web/API/FetchEvent/isReload\"><code>FetchEvent.isReload</code></a> <span class=\"badge inline readonly\" title=\"This value may not be changed.\">Read only </span> <abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr> <abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr></dt>\n  <dd>\n    <p>Returns <code>true</code> if the event was dispatched by the user attempting to reload the page, and <code>false</code> otherwise.</p>\n  </dd>\n  <dt id=\"fetchevent.preloadresponse\"><a href=\"/en-US/docs/Web/API/FetchEvent/preloadResponse\"><code>FetchEvent.preloadResponse</code></a> <span class=\"badge inline readonly\" title=\"This value may not be changed.\">Read only </span></dt>\n  <dd>\n    <p>A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> for a <a href=\"/en-US/docs/Web/API/Response\"><code>Response</code></a>, or <code>undefined</code> if this fetch is not a navigation, or <a href=\"/en-US/docs/Web/API/NavigationPreloadManager\">navigation preload</a> is not enabled.</p>\n  </dd>\n  <dt id=\"fetchevent.replacesclientid\"><a href=\"/en-US/docs/Web/API/FetchEvent/replacesClientId\"><code>FetchEvent.replacesClientId</code></a> <span class=\"badge inline readonly\" title=\"This value may not be changed.\">Read only </span></dt>\n  <dd>\n    <p>The <a href=\"/en-US/docs/Web/API/Client/id\" title=\"id\"><code>id</code></a> of the <a href=\"/en-US/docs/Web/API/Client\" title=\"client\"><code>client</code></a> that is being replaced during a page navigation.</p>\n  </dd>\n  <dt id=\"fetchevent.resultingclientid\"><a href=\"/en-US/docs/Web/API/FetchEvent/resultingClientId\"><code>FetchEvent.resultingClientId</code></a> <span class=\"badge inline readonly\" title=\"This value may not be changed.\">Read only </span></dt>\n  <dd>\n    <p>The <a href=\"/en-US/docs/Web/API/Client/id\" title=\"id\"><code>id</code></a> of the <a href=\"/en-US/docs/Web/API/Client\" title=\"client\"><code>client</code></a> that replaces the previous client during a page navigation.</p>\n  </dd>\n  <dt id=\"fetchevent.request\"><a href=\"/en-US/docs/Web/API/FetchEvent/request\"><code>FetchEvent.request</code></a> <span class=\"badge inline readonly\" title=\"This value may not be changed.\">Read only </span></dt>\n  <dd>\n    <p>The <a href=\"/en-US/docs/Web/API/Request\"><code>Request</code></a> the browser intends to make.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"instance_methods","title":"Instance methods","isH3":false,"content":"<p><em>Inherits methods from its parent, <a href=\"/en-US/docs/Web/API/ExtendableEvent\"><code>ExtendableEvent</code></a></em>.</p>\n<dl>\n  <dt id=\"fetchevent.respondwith\"><a href=\"/en-US/docs/Web/API/FetchEvent/respondWith\"><code>FetchEvent.respondWith()</code></a></dt>\n  <dd>\n    <p>Prevent the browser's default fetch handling, and provide (a promise for) a response yourself.</p>\n  </dd>\n  <dt id=\"extendableevent.waituntil\"><a href=\"/en-US/docs/Web/API/ExtendableEvent/waitUntil\"><code>ExtendableEvent.waitUntil()</code></a></dt>\n  <dd>\n    <p>Extends the lifetime of the event. Used to notify the browser of tasks that extend beyond the returning of a response, such as streaming and caching.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>\n  This fetch event uses the browser default for non-GET requests.\n  For GET requests it tries to return a match in the cache, and falls back to the network. If it finds a match in the cache, it asynchronously updates the cache for next time.\n</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>self.addEventListener(\"fetch\", (event) =&gt; {\n  // Let the browser do its default thing\n  // for non-GET requests.\n  if (event.request.method !== \"GET\") return;\n\n  // Prevent the default, and handle the request ourselves.\n  event.respondWith(\n    (async () =&gt; {\n      // Try to get the response from a cache.\n      const cache = await caches.open(\"dynamic-v1\");\n      const cachedResponse = await cache.match(event.request);\n\n      if (cachedResponse) {\n        // If we found a match in the cache, return it, but also\n        // update the entry in the cache in the background.\n        event.waitUntil(cache.add(event.request));\n        return cachedResponse;\n      }\n\n      // If we didn't find a match in the cache, use the network.\n      return fetch(event.request);\n    })(),\n  );\n});\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/ServiceWorker/#fetchevent-interface","title":"Service Workers"}],"query":"api.FetchEvent"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.FetchEvent"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/ServiceWorkerGlobalScope/fetch_event\"><code>fetch</code> event</a></li>\n  <li><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Fetch_API\">Fetch API</a></li>\n</ul>"}}],"toc":[{"text":"Constructor","id":"constructor"},{"text":"Instance properties","id":"instance_properties"},{"text":"Instance methods","id":"instance_methods"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"This is the event type for fetch events dispatched on the service worker global scope. It contains information about the fetch, including the request and how the receiver will treat the response. It provides the event.respondWith() method, which allows us to provide a response to this fetch.","popularity":0.0061,"modified":"2020-10-15T21:31:17.329Z","other_translations":[],"pageType":"web-api-interface","source":{"folder":"en-us/web/api/fetchevent","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/fetchevent/index.md","last_commit_url":"https://github.com/mdn/content/commit/null","filename":"index.md"},"short_title":"FetchEvent","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/FetchEvent","title":"FetchEvent"}],"pageTitle":"FetchEvent - Web APIs | MDN","noIndexing":false},"url":"/en-US/docs/Web/API/FetchEvent"}