{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"PaintWorkletGlobalScope","mdn_url":"/en-US/docs/Web/API/PaintWorkletGlobalScope","locale":"en-US","native":"English (US)","browserCompat":["api.PaintWorkletGlobalScope"],"baseline":{"baseline":false,"support":{"chrome":"65","chrome_android":"65","edge":"79"}},"sidebarHTML":"<ol><li class=\"section\"><a href=\"/en-US/docs/Web/API/CSS_Painting_API\">CSS Painting API</a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li class=\"section\"><em><a href=\"/en-US/docs/Web/API/PaintWorkletGlobalScope\" aria-current=\"page\"><code>PaintWorkletGlobalScope</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></em></li><li class=\"toggle\"><details open=\"\"><summary>Instance properties</summary><ol><li><a href=\"/en-US/docs/Web/API/PaintWorkletGlobalScope/devicePixelRatio\"><code>devicePixelRatio</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/PaintWorkletGlobalScope/registerPaint\"><code>registerPaint()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance</summary><ol><li><a href=\"/en-US/docs/Web/API/WorkletGlobalScope\"><code>WorkletGlobalScope</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for CSS Painting API</summary><ol><li><a href=\"/en-US/docs/Web/API/CSS/paintWorklet_static\"><code>CSS.paintWorklet_static</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>PaintRenderingContext2D</code></a></li><li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\"><code>PaintSize</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\"><p><strong>Experimental:</strong> <strong>This is an <a href=\"/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental\">experimental technology</a></strong><br>Check the <a href=\"#browser_compatibility\">Browser compatibility table</a> carefully before using this in production.</p></div>\n<p>The <strong><code>PaintWorkletGlobalScope</code></strong> interface of the <a href=\"/en-US/docs/Web/API/CSS_Painting_API\">CSS Painting API</a> represents the global object available inside a paint <a href=\"/en-US/docs/Web/API/Worklet\"><code>Worklet</code></a>.</p>"}},{"type":"prose","value":{"id":"privacy_concerns","title":"Privacy concerns","isH3":false,"content":"<p>To avoid leaking visited links, this feature is currently disabled in Chrome-based browsers for <a href=\"/en-US/docs/Web/HTML/Element/a\"><code>&lt;a&gt;</code></a> elements with an <a href=\"/en-US/docs/Web/HTML/Element/a#href\"><code>href</code></a> attribute, and for children of such elements. For details, see the following:</p>\n<ul>\n  <li>The CSS Painting API <a href=\"https://drafts.css-houdini.org/css-paint-api/#privacy-considerations\" class=\"external\" target=\"_blank\">Privacy Considerations section</a></li>\n  <li>The CSS Painting API spec issue <a href=\"https://github.com/w3c/css-houdini-drafts/issues/791\" class=\"external\" target=\"_blank\">\"CSS Paint API leaks browsing history\"</a></li>\n</ul>"}},{"type":"prose","value":{"id":"instance_properties","title":"Instance properties","isH3":false,"content":"<p><em>This interface inherits properties from <a href=\"/en-US/docs/Web/API/WorkletGlobalScope\"><code>WorkletGlobalScope</code></a>.</em></p>\n<dl>\n  <dt id=\"paintworkletglobalscope.devicepixelratio\"><a href=\"/en-US/docs/Web/API/PaintWorkletGlobalScope/devicePixelRatio\"><code>PaintWorkletGlobalScope.devicePixelRatio</code></a> <span class=\"badge inline readonly\" title=\"This value may not be changed.\">Read only </span> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>Returns the current device's ratio of physical pixels to logical pixels.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"instance_methods","title":"Instance methods","isH3":false,"content":"<p><em>This interface inherits methods from <a href=\"/en-US/docs/Web/API/WorkletGlobalScope\"><code>WorkletGlobalScope</code></a>.</em></p>\n<dl>\n  <dt id=\"paintworkletglobalscope.registerpaint\"><a href=\"/en-US/docs/Web/API/PaintWorkletGlobalScope/registerPaint\"><code>PaintWorkletGlobalScope.registerPaint()</code></a> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>Registers a class to programmatically generate an image where a CSS property expects a file.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>The following three examples go together to show creating, loading, and using a paint <code>Worklet</code>.</p>"}},{"type":"prose","value":{"id":"create_a_paint_worklet","title":"Create a paint worklet","isH3":true,"content":"<p>The following shows an example worklet module. This should be in a separate js file. Note that <code>registerPaint()</code> is called without a reference to a paint <code>Worklet</code>.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>class CheckerboardPainter {\n  paint(ctx, geom, properties) {\n    // The global object here is a PaintWorkletGlobalScope\n    // Methods and properties can be accessed directly\n    // as global features or prefixed using self\n    const dpr = self.devicePixelRatio;\n\n    // Use `ctx` as if it was a normal canvas\n    const colors = [\"red\", \"green\", \"blue\"];\n    const size = 32;\n    for (let y = 0; y &lt; geom.height / size; y++) {\n      for (let x = 0; x &lt; geom.width / size; x++) {\n        const color = colors[(x + y) % colors.length];\n        ctx.beginPath();\n        ctx.fillStyle = color;\n        ctx.rect(x * size, y * size, size, size);\n        ctx.fill();\n      }\n    }\n  }\n}\n\n// Register our class under a specific name\nregisterPaint(\"checkerboard\", CheckerboardPainter);\n</code></pre></div>"}},{"type":"prose","value":{"id":"load_a_paint_worklet","title":"Load a paint worklet","isH3":true,"content":"<p>The following example demonstrates loading the above worklet from its js file and does so by feature detection.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">js</span></div><pre class=\"brush: js notranslate\"><code>if (\"paintWorklet\" in CSS) {\n  CSS.paintWorklet.addModule(\"checkerboard.js\");\n}\n</code></pre></div>"}},{"type":"prose","value":{"id":"use_a_paint_worklet","title":"Use a paint worklet","isH3":true,"content":"<p>This example shows how to use a paint <code>Worklet</code> in a stylesheet, including the simplest way to provide a fallback if <code>CSS.paintWorklet</code> isn't supported.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">html</span></div><pre class=\"brush: html notranslate\"><code>&lt;style&gt;\n  textarea {\n    background-image: url(checkerboard);\n    background-image: paint(checkerboard);\n  }\n&lt;/style&gt;\n&lt;textarea&gt;&lt;/textarea&gt;\n</code></pre></div>\n<p>You can also use the <a href=\"/en-US/docs/Web/CSS/@supports\"><code>@supports</code></a> at-rule.</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">css</span></div><pre class=\"brush: css notranslate\"><code>@supports (background: paint(id)) {\n  background-image: paint(checkerboard);\n}\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://drafts.css-houdini.org/css-paint-api/#paintworkletglobalscope","title":"CSS Painting API Level 1"}],"query":"api.PaintWorkletGlobalScope"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.PaintWorkletGlobalScope"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/CSS_Painting_API\">CSS Painting API</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Houdini_APIs\">Houdini APIs</a></li>\n</ul>"}}],"toc":[{"text":"Privacy concerns","id":"privacy_concerns"},{"text":"Instance properties","id":"instance_properties"},{"text":"Instance methods","id":"instance_methods"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The PaintWorkletGlobalScope interface of the CSS Painting API represents the global object available inside a paint Worklet.","popularity":0.0005,"modified":"2020-10-15T22:17:26.607Z","other_translations":[],"pageType":"web-api-interface","source":{"folder":"en-us/web/api/paintworkletglobalscope","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/paintworkletglobalscope/index.md","last_commit_url":"https://github.com/mdn/content/commit/null","filename":"index.md"},"short_title":"PaintWorkletGlobalScope","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/PaintWorkletGlobalScope","title":"PaintWorkletGlobalScope"}],"pageTitle":"PaintWorkletGlobalScope - Web APIs | MDN","noIndexing":false},"url":"/en-US/docs/Web/API/PaintWorkletGlobalScope"}