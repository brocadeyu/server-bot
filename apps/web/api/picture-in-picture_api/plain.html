<html><head></head><body>
<p>The <strong>Picture-in-Picture API</strong> allow websites to create a floating, always-on-top video window. This allows users to continue consuming media while they interact with other sites or applications on their device.</p>
<div class="notecard note">
  <p><strong>Note:</strong> The <a href="/en-US/docs/Web/API/Document_Picture-in-Picture_API">Document Picture-in-Picture API</a> extends the Picture-in-Picture API to allow the always-on-top window to be populated with <em>any</em> arbitrary HTML content, not just a video.</p>
</div>
<h2 id="interfaces">Interfaces</h2>
<dl>
  <dt id="pictureinpicturewindow"><a href="/en-US/docs/Web/API/PictureInPictureWindow"><code>PictureInPictureWindow</code></a></dt>
  <dd>
    <p>Represents the floating video window; contains <a href="/en-US/docs/Web/API/PictureInPictureWindow/width" title="width"><code>width</code></a> and <a href="/en-US/docs/Web/API/PictureInPictureWindow/height" title="height"><code>height</code></a> properties, and an <a href="/en-US/docs/Web/API/PictureInPictureWindow/resize_event" title="onresize"><code>onresize</code></a> event handler property.</p>
  </dd>
  <dt id="pictureinpictureevent"><a href="/en-US/docs/Web/API/PictureInPictureEvent"><code>PictureInPictureEvent</code></a></dt>
  <dd>
    <p>Represents picture-in-picture-related events, including <a href="/en-US/docs/Web/API/HTMLVideoElement/enterpictureinpicture_event" title="enterpictureinpicture"><code>enterpictureinpicture</code></a>, <a href="/en-US/docs/Web/API/HTMLVideoElement/leavepictureinpicture_event" title="leavepictureinpicture"><code>leavepictureinpicture</code></a> and <a href="/en-US/docs/Web/API/PictureInPictureWindow/resize_event" title="resize"><code>resize</code></a>.</p>
  </dd>
</dl>
<h2 id="instance_methods">Instance methods</h2>
<p>The Picture-in-Picture API adds methods to the <a href="/en-US/docs/Web/API/HTMLVideoElement"><code>HTMLVideoElement</code></a> and <a href="/en-US/docs/Web/API/Document"><code>Document</code></a> interfaces to allow toggling of the floating video window.</p>
<h3 id="instance_methods_on_the_htmlvideoelement_interface">Instance methods on the HTMLVideoElement interface</h3>
<dl>
  <dt id="htmlvideoelement.requestpictureinpicture"><a href="/en-US/docs/Web/API/HTMLVideoElement/requestPictureInPicture"><code>HTMLVideoElement.requestPictureInPicture()</code></a></dt>
  <dd>
    <p>Requests that the user agent enters the video into picture-in-picture mode</p>
  </dd>
</dl>
<h3 id="instance_methods_on_the_document_interface">Instance methods on the Document interface</h3>
<dl>
  <dt id="document.exitpictureinpicture"><a href="/en-US/docs/Web/API/Document/exitPictureInPicture"><code>Document.exitPictureInPicture()</code></a></dt>
  <dd>
    <p>Requests that the user agent returns the element in picture-in-picture mode back into its original box.</p>
  </dd>
</dl>
<h2 id="instance_properties">Instance properties</h2>
<p>The Picture-in-Picture API augments the <a href="/en-US/docs/Web/API/HTMLVideoElement"><code>HTMLVideoElement</code></a>, <a href="/en-US/docs/Web/API/Document"><code>Document</code></a>, and <a href="/en-US/docs/Web/API/ShadowRoot"><code>ShadowRoot</code></a> interfaces with properties that can be used to determine if the floating video window mode is supported and available, if picture-in-picture mode is currently active, and which video is floating.</p>
<h3 id="instance_properties_on_the_htmlvideoelement_interface">Instance properties on the HTMLVideoElement interface</h3>
<dl>
  <dt id="htmlvideoelement.disablepictureinpicture"><a href="/en-US/docs/Web/API/HTMLVideoElement/disablePictureInPicture"><code>HTMLVideoElement.disablePictureInPicture</code></a></dt>
  <dd>
    <p>The <code>disablePictureInPicture</code> property will provide a hint to the user agent to not suggest the picture-in-picture to users or to request it automatically.</p>
  </dd>
</dl>
<h3 id="instance_properties_on_the_document_interface">Instance properties on the Document interface</h3>
<dl>
  <dt id="document.pictureinpictureenabled"><a href="/en-US/docs/Web/API/Document/pictureInPictureEnabled"><code>Document.pictureInPictureEnabled</code></a></dt>
  <dd>
    <p>The <code>pictureInPictureEnabled</code> property tells you whether or not it is possible to engage picture-in-picture mode. This is <code>false</code> if picture-in-picture mode is not available for any reason (e.g. the <a href="/en-US/docs/Web/HTTP/Headers/Permissions-Policy/picture-in-picture"><code>"picture-in-picture"</code> feature</a> has been disallowed, or picture-in-picture mode is not supported).</p>
  </dd>
</dl>
<h3 id="instance_properties_on_the_document_or_shadowroot_interfaces">Instance properties on the Document or ShadowRoot interfaces</h3>
<dl>
  <dt id="document.pictureinpictureelement"><a href="/en-US/docs/Web/API/Document/pictureInPictureElement"><code>Document.pictureInPictureElement</code></a> / <a href="/en-US/docs/Web/API/ShadowRoot/pictureInPictureElement"><code>ShadowRoot.pictureInPictureElement</code></a></dt>
  <dd>
    <p>The <code>pictureInPictureElement</code> property tells you which <a href="/en-US/docs/Web/API/Element"><code>Element</code></a> is currently being displayed in the floating window (or in the shadow DOM). If this is <code>null</code>, the document (or shadow DOM) has no node currently in picture-in-picture mode.</p>
  </dd>
</dl>
<h2 id="events">Events</h2>
<p><em>The Picture-in-Picture API defines three events, which can be used to detect when picture-in-picture mode is toggled and when the floating video window is resized.</em></p>
<dl>
  <dt id="enterpictureinpicture"><a href="/en-US/docs/Web/API/HTMLVideoElement/enterpictureinpicture_event" title="enterpictureinpicture"><code>enterpictureinpicture</code></a></dt>
  <dd>
    <p>Sent to a <a href="/en-US/docs/Web/API/HTMLVideoElement"><code>HTMLVideoElement</code></a> when it enters picture-in-picture mode.</p>
  </dd>
  <dt id="leavepictureinpicture"><a href="/en-US/docs/Web/API/HTMLVideoElement/leavepictureinpicture_event" title="leavepictureinpicture"><code>leavepictureinpicture</code></a></dt>
  <dd>
    <p>Sent to a <a href="/en-US/docs/Web/API/HTMLVideoElement"><code>HTMLVideoElement</code></a> when it leaves picture-in-picture mode.</p>
  </dd>
  <dt id="resize"><a href="/en-US/docs/Web/API/PictureInPictureWindow/resize_event" title="resize"><code>resize</code></a></dt>
  <dd>
    <p>Sent to a <a href="/en-US/docs/Web/API/PictureInPictureWindow"><code>PictureInPictureWindow</code></a> when it changes size.</p>
  </dd>
</dl>
<h2 id="adding_controls">Adding Controls</h2>
<p>If media action handlers have been set via the <a href="/en-US/docs/Web/API/Media_Session_API">Media Session API</a>, then appropriate controls for those actions will be added by the browser to the picture-in-picture overlay. For example, if a <code>"nexttrack"</code> action has been set, then a skip button might be displayed in the picture-in-picture view. There is no support for adding custom HTML buttons or controls.</p>
<h2 id="controlling_styling">Controlling styling</h2>
<p>The <a href="/en-US/docs/Web/CSS/:picture-in-picture"><code>:picture-in-picture</code></a> <a href="/en-US/docs/Web/CSS">CSS</a> <a href="/en-US/docs/Web/CSS/Pseudo-classes">pseudo-class</a> matches the video element currently in picture-in-picture mode, allowing you to configure your stylesheets to automatically adjust the size, style, or layout of content when a video switches back and forth between picture-in-picture and traditional presentation modes.</p>
<h2 id="controlling_access">Controlling access</h2>
<p>The availability of picture-in-picture mode can be controlled using <a href="/en-US/docs/Web/HTTP/Permissions_Policy">Permissions Policy</a>. The picture-in-picture mode feature is identified by the string <code>"picture-in-picture"</code>, with a default allowlist value of <code>*</code>, meaning that picture-in-picture mode is permitted in top-level document contexts, as well as to nested browsing contexts loaded from the same origin as the top-most document.</p>
<h2 id="examples">Examples</h2>
<p>In this example, a video is presented in a web page. Clicking the button below lets the user toggle the floating video window.</p><iframe width="100%" height="350" src="https://mdn.github.io/dom-examples/picture-in-picture/index.html"></iframe>
<h3 id="toggling_picture-in-picture_mode">Toggling picture-in-picture mode</h3>
<p>This code is called by a click handler when the user clicks the "Toggle Picture-in-Picture" button:</p>
<pre class="brush: js">function togglePictureInPicture() {
  if (document.pictureInPictureElement) {
    document.exitPictureInPicture();
  } else if (document.pictureInPictureEnabled) {
    video.requestPictureInPicture();
  }
}
</pre>
<p>This block starts by looking at the value of the <a href="/en-US/docs/Web/API/Document" title="document"><code>document</code></a>'s <code>pictureInPictureElement</code> attribute.</p>
<p>If the value is not <code>null</code>, it's the element that's currently in picture-in-picture mode, that is in a floating window. We call <a href="/en-US/docs/Web/API/Document/exitPictureInPicture" title="document.exitPictureInPicture()"><code>document.exitPictureInPicture()</code></a> to bring the video back into its initial box.</p>
<p>If the value is <code>null</code>, no video is in the floating window. So we can request a video to enter the picture-in-picture mode. We do it by calling <a href="/en-US/docs/Web/API/HTMLVideoElement/requestPictureInPicture"><code>HTMLVideoElement.requestPictureInPicture()</code></a> on the <a href="/en-US/docs/Web/HTML/Element/video"><code>&lt;video&gt;</code></a> element.</p>
<h2 id="specifications">Specifications</h2><div class="bc-specs" data-bcd-query="api.PictureInPictureWindow" data-spec-urls="">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="browser_compatibility">Browser compatibility</h2><div class="bc-data" data-query="api.PictureInPictureWindow" data-depth="1" data-multiple="false">
  If you're able to see this, something went wrong on this page.
</div>
<h2 id="see_also">See also</h2>
<ul>
  <li><a href="/en-US/docs/Web/API/HTMLVideoElement/requestPictureInPicture"><code>HTMLVideoElement.requestPictureInPicture()</code></a></li>
  <li><a href="/en-US/docs/Web/API/HTMLVideoElement/disablePictureInPicture"><code>HTMLVideoElement.disablePictureInPicture</code></a></li>
  <li><a href="/en-US/docs/Web/API/Document/pictureInPictureEnabled"><code>Document.pictureInPictureEnabled</code></a></li>
  <li><a href="/en-US/docs/Web/API/Document/exitPictureInPicture"><code>Document.exitPictureInPicture()</code></a></li>
  <li><a href="/en-US/docs/Web/API/Document/pictureInPictureElement"><code>Document.pictureInPictureElement</code></a></li>
  <li><a href="/en-US/docs/Web/CSS/:picture-in-picture"><code>:picture-in-picture</code></a></li>
  <li>The <a href="/en-US/docs/Web/API/Document_Picture-in-Picture_API">Document Picture-in-Picture API</a></li>
</ul>
</body></html>