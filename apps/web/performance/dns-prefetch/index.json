{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Using dns-prefetch","mdn_url":"/en-US/docs/Web/Performance/dns-prefetch","locale":"en-US","native":"English (US)","sidebarHTML":"\n<ol><li><a href=\"/en-US/docs/Web/Performance/Animation_performance_and_frame_rate\">Animation performance and frame rate</a></li><li><a href=\"/en-US/docs/Web/Performance/CSS_JavaScript_animation_performance\">CSS and JavaScript animation performance</a></li><li><a href=\"/en-US/docs/Web/Performance/Critical_rendering_path\">Critical rendering path</a></li><li><a href=\"/en-US/docs/Web/Performance/Lazy_loading\">Lazy loading</a></li><li><a href=\"/en-US/docs/Web/Performance/Navigation_and_resource_timings\">Navigation and resource timings</a></li><li><a href=\"/en-US/docs/Web/Performance/Optimizing_startup_performance\">Optimizing startup performance</a></li><li><a href=\"/en-US/docs/Web/Performance/Rum-vs-Synthetic\">Performance Monitoring: RUM vs. synthetic monitoring</a></li><li><a href=\"/en-US/docs/Web/Performance/Performance_budgets\">Performance budgets</a></li><li><a href=\"/en-US/docs/Web/Performance/Fundamentals\">Performance fundamentals</a></li><li><a href=\"/en-US/docs/Web/Performance/How_browsers_work\">Populating the page: how browsers work</a></li><li><a href=\"/en-US/docs/Web/Performance/How_long_is_too_long\">Recommended Web Performance Timings: How long is too long?</a></li><li><a href=\"/en-US/docs/Web/Performance/Speculative_loading\">Speculative loading</a></li><li><a href=\"/en-US/docs/Web/Performance/Understanding_latency\">Understanding latency</a></li><li><em><a href=\"/en-US/docs/Web/Performance/dns-prefetch\" aria-current=\"page\">Using dns-prefetch</a></em></li></ol>\n","sidebarMacro":"QuickLinksWithSubpages","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p><strong><code>DNS-prefetch</code></strong> is an attempt to resolve domain names before resources get requested. This could be a file loaded later or link target a user tries to follow.</p>"}},{"type":"prose","value":{"id":"why_use_dns-prefetch","title":"Why use dns-prefetch?","isH3":false,"content":"<p>When a browser requests a resource from a (third party) server, that <a href=\"/en-US/docs/Web/HTTP/CORS\">cross-origin</a>'s domain name must be resolved to an IP address before the browser can issue the request. This process is known as DNS resolution. While DNS caching can help to reduce this latency, DNS resolution can add significant latency to requests. For websites that open connections to many third parties, this latency can significantly reduce loading performance.</p>\n<p><code>dns-prefetch</code> helps developers mask DNS resolution latency. The <a href=\"/en-US/docs/Web/HTML/Element/link\">HTML <code>&lt;link&gt;</code> element</a> offers this functionality by way of a <a href=\"/en-US/docs/Web/HTML/Attributes/rel\"><code>rel</code> attribute</a> value of <code>dns-prefetch</code>. The <a href=\"/en-US/docs/Web/HTTP/CORS\">cross-origin</a> domain is then specified in the <a href=\"/en-US/docs/Web/HTML/Attributes\">href attribute</a>:</p>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">html</span></div><pre class=\"brush: html notranslate\"><code>&lt;link rel=\"dns-prefetch\" href=\"https://fonts.googleapis.com/\" /&gt;\n</code></pre></div>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">html</span></div><pre class=\"brush: html notranslate\"><code>&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" /&gt;\n    &lt;link rel=\"dns-prefetch\" href=\"https://fonts.googleapis.com/\" /&gt;\n    &lt;!-- and all other head elements --&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;!-- your page content --&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre></div>\n<p>You should place <code>dns-prefetch</code> hints in the <a href=\"/en-US/docs/Web/HTML/Element/head\"><code>&lt;head&gt;</code> element</a> any time your site references resources on cross-origin domains, but there are some things to keep in mind.</p>"}},{"type":"prose","value":{"id":"best_practices","title":"Best practices","isH3":false,"content":"<p>There are 3 main things to keep in mind:</p>\n<p><strong>For one</strong>, <code>dns-prefetch</code> is only effective for DNS lookups on <a href=\"/en-US/docs/Web/HTTP/CORS\">cross-origin</a> domains, so avoid using it to point to your site or domain. This is because the IP behind your site's domain will have already been resolved by the time the browser sees the hint.</p>\n<p><strong>Second</strong>, it's also possible to specify <code>dns-prefetch</code> (and other resources hints) as an <a href=\"/en-US/docs/Web/HTTP/Headers\">HTTP header</a> by using the <a href=\"/en-US/docs/Web/HTTP/Headers/Link\">HTTP Link field</a>:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">http</span></div><pre class=\"brush: http notranslate\"><code>Link: &lt;https://fonts.googleapis.com/&gt;; rel=dns-prefetch\n</code></pre></div>\n<p><strong>Third</strong>, while <code>dns-prefetch</code> only performs a DNS lookup, <a href=\"/en-US/docs/Web/HTML/Attributes/rel/preconnect\"><code>preconnect</code></a> establishes a connection to a server. This process includes DNS resolution, as well as establishing the TCP connection, and performing the <a href=\"/en-US/docs/Glossary/TLS\">TLS</a> handshake—if a site is served over HTTPS. Using <code>preconnect</code> provides an opportunity to further reduce the perceived latency of <a href=\"/en-US/docs/Web/HTTP/CORS\">cross-origin requests</a>. You can use it as an <a href=\"/en-US/docs/Web/HTTP/Headers\">HTTP header</a> by using the <a href=\"/en-US/docs/Web/HTTP/Headers/Link\">HTTP Link field</a>:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">http</span></div><pre class=\"brush: http notranslate\"><code>Link: &lt;https://fonts.googleapis.com/&gt;; rel=preconnect\n</code></pre></div>\n<p>or via the <a href=\"/en-US/docs/Web/HTML/Element/link\">HTML <code>&lt;link&gt;</code> element</a>:</p>\n<div class=\"code-example\"><div class=\"example-header\"><span class=\"language-name\">html</span></div><pre class=\"brush: html notranslate\"><code>&lt;link rel=\"preconnect\" href=\"https://fonts.googleapis.com/\" crossorigin /&gt;\n</code></pre></div>\n<div class=\"notecard note\">\n  <p><strong>Note:</strong> If a page needs to make connections to many third-party domains, preconnecting them all is counterproductive. The <code>preconnect</code> hint is best used for only the most critical connections. For the others, just use <code>&lt;link rel=\"dns-prefetch\"&gt;</code> to save time on the first step — the DNS lookup.</p>\n</div>\n<p>The logic behind pairing these hints is because support for dns-prefetch is better than support for preconnect. Browsers that don't support preconnect will still get some added benefit by falling back to dns-prefetch. Because this is an HTML feature, it is very fault-tolerant. If a non-supporting browser encounters a dns-prefetch hint—or any other resource hint—your site won't break. You just won't receive the benefits it provides.</p>\n<p>Some resources such as fonts are loaded in anonymous mode. In such cases you should set the <a href=\"/en-US/docs/Web/HTML/Attributes/crossorigin\">crossorigin</a> attribute with the preconnect hint. If you omit it, the browser will only perform the DNS lookup.</p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/HTML/Element/link\">&lt;link&gt;</a></li>\n  <li><a href=\"/en-US/docs/Web/HTML/Attributes/rel\">HTML attribute: rel</a></li>\n  <li><a href=\"/en-US/docs/Web/HTML/Attributes/rel/preconnect\">HTML rel attribute: preconnect</a></li>\n  <li><a href=\"/en-US/docs/Web/HTML/Attributes/crossorigin\">crossorigin</a></li>\n  <li><a href=\"/en-US/docs/Web/HTTP/CORS\">Cross-Origin Resource Sharing (CORS)</a></li>\n  <li><a href=\"/en-US/docs/Web/HTTP/Headers\">HTTP headers</a></li>\n  <li><a href=\"/en-US/docs/Web/HTTP/Headers/Link\">HTTP header Link</a></li>\n</ul>"}}],"toc":[{"text":"Why use dns-prefetch?","id":"why_use_dns-prefetch"},{"text":"Syntax","id":"syntax"},{"text":"Examples","id":"examples"},{"text":"Best practices","id":"best_practices"},{"text":"See also","id":"see_also"}],"summary":"DNS-prefetch is an attempt to resolve domain names before resources get requested. This could be a file loaded later or link target a user tries to follow.","popularity":0.007,"modified":"2019-12-19T09:52:53.543Z","other_translations":[],"pageType":"guide","source":{"folder":"en-us/web/performance/dns-prefetch","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/performance/dns-prefetch/index.md","last_commit_url":"https://github.com/mdn/content/commit/null","filename":"index.md"},"short_title":"Using dns-prefetch","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/Performance","title":"Web performance"},{"uri":"/en-US/docs/Web/Performance/dns-prefetch","title":"Using dns-prefetch"}],"pageTitle":"Using dns-prefetch - Web performance | MDN","noIndexing":false},"url":"/en-US/docs/Web/Performance/dns-prefetch"}